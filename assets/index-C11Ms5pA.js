var iL=Object.defineProperty;var P1=a=>{throw TypeError(a)};var sL=(a,t,e)=>t in a?iL(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var _t=(a,t,e)=>sL(a,typeof t!="symbol"?t+"":t,e),Y0=(a,t,e)=>t.has(a)||P1("Cannot "+e);var d=(a,t,e)=>(Y0(a,t,"read from private field"),e?e.call(a):t.get(a)),M=(a,t,e)=>t.has(a)?P1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),T=(a,t,e,s)=>(Y0(a,t,"write to private field"),s?s.call(a,e):t.set(a,e),e),_=(a,t,e)=>(Y0(a,t,"access private method"),e);var Ci=(a,t,e,s)=>({set _(r){T(a,t,r,e)},get _(){return d(a,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function IT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var $0={exports:{}},Bh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function nL(){if(O1)return Bh;O1=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:l}}return Bh.Fragment=t,Bh.jsx=e,Bh.jsxs=e,Bh}var k1;function aL(){return k1||(k1=1,$0.exports=nL()),$0.exports}var j=aL(),W0={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function rL(){if(N1)return Pt;N1=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function P(I,et,ut){this.props=I,this.context=et,this.refs=C,this.updater=ut||x}P.prototype.isReactComponent={},P.prototype.setState=function(I,et){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,et,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=P.prototype;function H(I,et,ut){this.props=I,this.context=et,this.refs=C,this.updater=ut||x}var O=H.prototype=new D;O.constructor=H,E(O,P.prototype),O.isPureReactComponent=!0;var A=Array.isArray,S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(I,et,ut,at,st,Et){return ut=Et.ref,{$$typeof:a,type:I,key:et,ref:ut!==void 0?ut:null,props:Et}}function F(I,et){return k(I.type,et,void 0,void 0,void 0,I.props)}function B(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function q(I){var et={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ut){return et[ut]})}var Y=/\/+/g;function ct(I,et){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):et.toString(36)}function ot(){}function lt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ot,ot):(I.status="pending",I.then(function(et){I.status==="pending"&&(I.status="fulfilled",I.value=et)},function(et){I.status==="pending"&&(I.status="rejected",I.reason=et)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ft(I,et,ut,at,st){var Et=typeof I;(Et==="undefined"||Et==="boolean")&&(I=null);var pt=!1;if(I===null)pt=!0;else switch(Et){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(I.$$typeof){case a:case t:pt=!0;break;case m:return pt=I._init,ft(pt(I._payload),et,ut,at,st)}}if(pt)return st=st(I),pt=at===""?"."+ct(I,0):at,A(st)?(ut="",pt!=null&&(ut=pt.replace(Y,"$&/")+"/"),ft(st,et,ut,"",function(qt){return qt})):st!=null&&(B(st)&&(st=F(st,ut+(st.key==null||I&&I.key===st.key?"":(""+st.key).replace(Y,"$&/")+"/")+pt)),et.push(st)),1;pt=0;var Tt=at===""?".":at+":";if(A(I))for(var Lt=0;Lt<I.length;Lt++)at=I[Lt],Et=Tt+ct(at,Lt),pt+=ft(at,et,ut,Et,st);else if(Lt=b(I),typeof Lt=="function")for(I=Lt.call(I),Lt=0;!(at=I.next()).done;)at=at.value,Et=Tt+ct(at,Lt++),pt+=ft(at,et,ut,Et,st);else if(Et==="object"){if(typeof I.then=="function")return ft(lt(I),et,ut,at,st);throw et=String(I),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return pt}function Q(I,et,ut){if(I==null)return I;var at=[],st=0;return ft(I,at,"","",function(Et){return et.call(ut,Et,st++)}),at}function W(I){if(I._status===-1){var et=I._result;et=et(),et.then(function(ut){(I._status===0||I._status===-1)&&(I._status=1,I._result=ut)},function(ut){(I._status===0||I._status===-1)&&(I._status=2,I._result=ut)}),I._status===-1&&(I._status=0,I._result=et)}if(I._status===1)return I._result.default;throw I._result}var tt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function wt(){}return Pt.Children={map:Q,forEach:function(I,et,ut){Q(I,function(){et.apply(this,arguments)},ut)},count:function(I){var et=0;return Q(I,function(){et++}),et},toArray:function(I){return Q(I,function(et){return et})||[]},only:function(I){if(!B(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Pt.Component=P,Pt.Fragment=e,Pt.Profiler=r,Pt.PureComponent=H,Pt.StrictMode=s,Pt.Suspense=f,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Pt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Pt.cache=function(I){return function(){return I.apply(null,arguments)}},Pt.cloneElement=function(I,et,ut){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=E({},I.props),st=I.key,Et=void 0;if(et!=null)for(pt in et.ref!==void 0&&(Et=void 0),et.key!==void 0&&(st=""+et.key),et)!R.call(et,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&et.ref===void 0||(at[pt]=et[pt]);var pt=arguments.length-2;if(pt===1)at.children=ut;else if(1<pt){for(var Tt=Array(pt),Lt=0;Lt<pt;Lt++)Tt[Lt]=arguments[Lt+2];at.children=Tt}return k(I.type,st,void 0,void 0,Et,at)},Pt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Pt.createElement=function(I,et,ut){var at,st={},Et=null;if(et!=null)for(at in et.key!==void 0&&(Et=""+et.key),et)R.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=et[at]);var pt=arguments.length-2;if(pt===1)st.children=ut;else if(1<pt){for(var Tt=Array(pt),Lt=0;Lt<pt;Lt++)Tt[Lt]=arguments[Lt+2];st.children=Tt}if(I&&I.defaultProps)for(at in pt=I.defaultProps,pt)st[at]===void 0&&(st[at]=pt[at]);return k(I,Et,void 0,void 0,null,st)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(I){return{$$typeof:h,render:I}},Pt.isValidElement=B,Pt.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:W}},Pt.memo=function(I,et){return{$$typeof:p,type:I,compare:et===void 0?null:et}},Pt.startTransition=function(I){var et=S.T,ut={};S.T=ut;try{var at=I(),st=S.S;st!==null&&st(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(wt,tt)}catch(Et){tt(Et)}finally{S.T=et}},Pt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Pt.use=function(I){return S.H.use(I)},Pt.useActionState=function(I,et,ut){return S.H.useActionState(I,et,ut)},Pt.useCallback=function(I,et){return S.H.useCallback(I,et)},Pt.useContext=function(I){return S.H.useContext(I)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(I,et){return S.H.useDeferredValue(I,et)},Pt.useEffect=function(I,et){return S.H.useEffect(I,et)},Pt.useId=function(){return S.H.useId()},Pt.useImperativeHandle=function(I,et,ut){return S.H.useImperativeHandle(I,et,ut)},Pt.useInsertionEffect=function(I,et){return S.H.useInsertionEffect(I,et)},Pt.useLayoutEffect=function(I,et){return S.H.useLayoutEffect(I,et)},Pt.useMemo=function(I,et){return S.H.useMemo(I,et)},Pt.useOptimistic=function(I,et){return S.H.useOptimistic(I,et)},Pt.useReducer=function(I,et,ut){return S.H.useReducer(I,et,ut)},Pt.useRef=function(I){return S.H.useRef(I)},Pt.useState=function(I){return S.H.useState(I)},Pt.useSyncExternalStore=function(I,et,ut){return S.H.useSyncExternalStore(I,et,ut)},Pt.useTransition=function(){return S.H.useTransition()},Pt.version="19.0.0",Pt}var F1;function iA(){return F1||(F1=1,W0.exports=rL()),W0.exports}var Z=iA();const cs=IT(Z);var K0={exports:{}},Ih={},Q0={exports:{}},Z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function oL(){return H1||(H1=1,function(a){function t(Q,W){var tt=Q.length;Q.push(W);t:for(;0<tt;){var wt=tt-1>>>1,I=Q[wt];if(0<r(I,W))Q[wt]=W,Q[tt]=I,tt=wt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var W=Q[0],tt=Q.pop();if(tt!==W){Q[0]=tt;t:for(var wt=0,I=Q.length,et=I>>>1;wt<et;){var ut=2*(wt+1)-1,at=Q[ut],st=ut+1,Et=Q[st];if(0>r(at,tt))st<I&&0>r(Et,at)?(Q[wt]=Et,Q[st]=tt,wt=st):(Q[wt]=at,Q[ut]=tt,wt=ut);else if(st<I&&0>r(Et,tt))Q[wt]=Et,Q[st]=tt,wt=st;else break t}}return W}function r(Q,W){var tt=Q.sortIndex-W.sortIndex;return tt!==0?tt:Q.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var f=[],p=[],m=1,v=null,b=3,x=!1,E=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function O(Q){for(var W=e(p);W!==null;){if(W.callback===null)s(p);else if(W.startTime<=Q)s(p),W.sortIndex=W.expirationTime,t(f,W);else break;W=e(p)}}function A(Q){if(C=!1,O(Q),!E)if(e(f)!==null)E=!0,lt();else{var W=e(p);W!==null&&ft(A,W.startTime-Q)}}var S=!1,R=-1,k=5,F=-1;function B(){return!(a.unstable_now()-F<k)}function q(){if(S){var Q=a.unstable_now();F=Q;var W=!0;try{t:{E=!1,C&&(C=!1,D(R),R=-1),x=!0;var tt=b;try{e:{for(O(Q),v=e(f);v!==null&&!(v.expirationTime>Q&&B());){var wt=v.callback;if(typeof wt=="function"){v.callback=null,b=v.priorityLevel;var I=wt(v.expirationTime<=Q);if(Q=a.unstable_now(),typeof I=="function"){v.callback=I,O(Q),W=!0;break e}v===e(f)&&s(f),O(Q)}else s(f);v=e(f)}if(v!==null)W=!0;else{var et=e(p);et!==null&&ft(A,et.startTime-Q),W=!1}}break t}finally{v=null,b=tt,x=!1}W=void 0}}finally{W?Y():S=!1}}}var Y;if(typeof H=="function")Y=function(){H(q)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,ot=ct.port2;ct.port1.onmessage=q,Y=function(){ot.postMessage(null)}}else Y=function(){P(q,0)};function lt(){S||(S=!0,Y())}function ft(Q,W){R=P(function(){Q(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_continueExecution=function(){E||x||(E=!0,lt())},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return e(f)},a.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var tt=b;b=W;try{return Q()}finally{b=tt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Q,W){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var tt=b;b=Q;try{return W()}finally{b=tt}},a.unstable_scheduleCallback=function(Q,W,tt){var wt=a.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?wt+tt:wt):tt=wt,Q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=tt+I,Q={id:m++,callback:W,priorityLevel:Q,startTime:tt,expirationTime:I,sortIndex:-1},tt>wt?(Q.sortIndex=tt,t(p,Q),e(f)===null&&Q===e(p)&&(C?(D(R),R=-1):C=!0,ft(A,tt-wt))):(Q.sortIndex=I,t(f,Q),E||x||(E=!0,lt())),Q},a.unstable_shouldYield=B,a.unstable_wrapCallback=function(Q){var W=b;return function(){var tt=b;b=W;try{return Q.apply(this,arguments)}finally{b=tt}}}}(Z0)),Z0}var B1;function lL(){return B1||(B1=1,Q0.exports=oL()),Q0.exports}var J0={exports:{}},pi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function cL(){if(I1)return pi;I1=1;var a=iA();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:p,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pi.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,m)},pi.flushSync=function(f){var p=c.T,m=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=p,s.p=m,s.d.f()}},pi.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},pi.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},pi.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,v=h(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:x}):m==="script"&&s.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pi.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},pi.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=h(m,p.crossOrigin);s.d.L(f,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pi.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},pi.requestFormReset=function(f){s.d.r(f)},pi.unstable_batchedUpdates=function(f,p){return f(p)},pi.useFormState=function(f,p,m){return c.H.useFormState(f,p,m)},pi.useFormStatus=function(){return c.H.useHostTransitionStatus()},pi.version="19.0.0",pi}var j1;function uL(){if(j1)return J0.exports;j1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),J0.exports=cL(),J0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function hL(){if(z1)return Ih;z1=1;var a=lL(),t=iA(),e=uL();function s(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=S&&i[S]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function F(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case h:return"Portal";case m:return"Profiler";case p:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case E:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return n=i.displayName||null,n!==null?n:F(i.type)||"Memo";case H:n=i._payload,i=i._init;try{return F(i(n))}catch{}}return null}var B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,Y,ct;function ot(i){if(Y===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Y=n&&n[1]||"",ct=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+i+ct}var lt=!1;function ft(i,n){if(!i||lt)return"";lt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch($){var X=$}Reflect.construct(i,[],it)}else{try{it.call()}catch($){X=$}i.call(it.prototype)}}else{try{throw Error()}catch($){X=$}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch($){if($&&X&&typeof $.stack=="string")return[$.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],L=y[1];if(w&&L){var N=w.split(`
`),V=L.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===V.length)for(u=N.length-1,g=V.length-1;1<=u&&0<=g&&N[u]!==V[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==V[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==V[g]){var K=`
`+N[u].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=u&&0<=g);break}}}finally{lt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ot(o):""}function Q(i){switch(i.tag){case 26:case 27:case 5:return ot(i.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return i=ft(i.type,!1),i;case 11:return i=ft(i.type.render,!1),i;case 1:return i=ft(i.type,!0),i;default:return""}}function W(i){try{var n="";do n+=Q(i),i=i.return;while(i);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function tt(i){var n=i,o=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,n.flags&4098&&(o=n.return),i=n.return;while(i)}return n.tag===3?o:null}function wt(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function I(i){if(tt(i)!==i)throw Error(s(188))}function et(i){var n=i.alternate;if(!n){if(n=tt(i),n===null)throw Error(s(188));return n!==i?null:i}for(var o=i,u=n;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return I(g),i;if(y===u)return I(g),n;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=g,u=y;else{for(var w=!1,L=g.child;L;){if(L===o){w=!0,o=g,u=y;break}if(L===u){w=!0,u=g,o=y;break}L=L.sibling}if(!w){for(L=y.child;L;){if(L===o){w=!0,o=y,u=g;break}if(L===u){w=!0,u=y,o=g;break}L=L.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:n}function ut(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=ut(i),n!==null)return n;i=i.sibling}return null}var at=Array.isArray,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},pt=[],Tt=-1;function Lt(i){return{current:i}}function qt(i){0>Tt||(i.current=pt[Tt],pt[Tt]=null,Tt--)}function xt(i,n){Tt++,pt[Tt]=i.current,i.current=n}var hi=Lt(null),Hs=Lt(null),zt=Lt(null),ce=Lt(null);function _e(i,n){switch(xt(zt,n),xt(Hs,i),xt(hi,null),i=n.nodeType,i){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?o1(n):0;break;default:if(i=i===8?n.parentNode:n,n=i.tagName,i=i.namespaceURI)i=o1(i),n=l1(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}qt(hi),xt(hi,n)}function ue(){qt(hi),qt(Hs),qt(zt)}function rn(i){i.memoizedState!==null&&xt(ce,i);var n=hi.current,o=l1(n,i.type);n!==o&&(xt(Hs,i),xt(hi,o))}function on(i){Hs.current===i&&(qt(hi),qt(Hs)),ce.current===i&&(qt(ce),Oh._currentValue=Et)}var ju=Object.prototype.hasOwnProperty,zu=a.unstable_scheduleCallback,Ha=a.unstable_cancelCallback,Im=a.unstable_shouldYield,jm=a.unstable_requestPaint,ds=a.unstable_now,zm=a.unstable_getCurrentPriorityLevel,Yf=a.unstable_ImmediatePriority,kn=a.unstable_UserBlockingPriority,Nn=a.unstable_NormalPriority,Ol=a.unstable_LowPriority,kl=a.unstable_IdlePriority,BM=a.log,IM=a.unstable_setDisableYieldValue,Vu=null,qi=null;function jM(i){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(Vu,i,void 0,(i.current.flags&128)===128)}catch{}}function Ba(i){if(typeof BM=="function"&&IM(i),qi&&typeof qi.setStrictMode=="function")try{qi.setStrictMode(Vu,i)}catch{}}var Xi=Math.clz32?Math.clz32:UM,zM=Math.log,VM=Math.LN2;function UM(i){return i>>>=0,i===0?32:31-(zM(i)/VM|0)|0}var $f=128,Wf=4194304;function Yr(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Kf(i,n){var o=i.pendingLanes;if(o===0)return 0;var u=0,g=i.suspendedLanes,y=i.pingedLanes,w=i.warmLanes;i=i.finishedLanes!==0;var L=o&134217727;return L!==0?(o=L&~g,o!==0?u=Yr(o):(y&=L,y!==0?u=Yr(y):i||(w=L&~w,w!==0&&(u=Yr(w))))):(L=o&~g,L!==0?u=Yr(L):y!==0?u=Yr(y):i||(w=o&~w,w!==0&&(u=Yr(w)))),u===0?0:n!==0&&n!==u&&!(n&g)&&(g=u&-u,w=n&-n,g>=w||g===32&&(w&4194176)!==0)?n:u}function Uu(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function GM(i,n){switch(i){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JA(){var i=$f;return $f<<=1,!($f&4194176)&&($f=128),i}function tS(){var i=Wf;return Wf<<=1,!(Wf&62914560)&&(Wf=4194304),i}function Vm(i){for(var n=[],o=0;31>o;o++)n.push(i);return n}function Gu(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qM(i,n,o,u,g,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var L=i.entanglements,N=i.expirationTimes,V=i.hiddenUpdates;for(o=w&~o;0<o;){var K=31-Xi(o),it=1<<K;L[K]=0,N[K]=-1;var X=V[K];if(X!==null)for(V[K]=null,K=0;K<X.length;K++){var $=X[K];$!==null&&($.lane&=-536870913)}o&=~it}u!==0&&eS(i,u,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~n))}function eS(i,n,o){i.pendingLanes|=n,i.suspendedLanes&=~n;var u=31-Xi(n);i.entangledLanes|=n,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function iS(i,n){var o=i.entangledLanes|=n;for(i=i.entanglements;o;){var u=31-Xi(o),g=1<<u;g&n|i[u]&n&&(i[u]|=n),o&=~g}}function sS(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function nS(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:_1(i.type))}function XM(i,n){var o=st.p;try{return st.p=i,n()}finally{st.p=o}}var Ia=Math.random().toString(36).slice(2),di="__reactFiber$"+Ia,Ni="__reactProps$"+Ia,Nl="__reactContainer$"+Ia,Um="__reactEvents$"+Ia,YM="__reactListeners$"+Ia,$M="__reactHandles$"+Ia,aS="__reactResources$"+Ia,qu="__reactMarker$"+Ia;function Gm(i){delete i[di],delete i[Ni],delete i[Um],delete i[YM],delete i[$M]}function $r(i){var n=i[di];if(n)return n;for(var o=i.parentNode;o;){if(n=o[Nl]||o[di]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(i=h1(i);i!==null;){if(o=i[di])return o;i=h1(i)}return n}i=o,o=i.parentNode}return null}function Fl(i){if(i=i[di]||i[Nl]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function Xu(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(s(33))}function Hl(i){var n=i[aS];return n||(n=i[aS]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(i){i[qu]=!0}var rS=new Set,oS={};function Wr(i,n){Bl(i,n),Bl(i+"Capture",n)}function Bl(i,n){for(oS[i]=n,i=0;i<n.length;i++)rS.add(n[i])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lS={},cS={};function KM(i){return ju.call(cS,i)?!0:ju.call(lS,i)?!1:WM.test(i)?cS[i]=!0:(lS[i]=!0,!1)}function Qf(i,n,o){if(KM(n))if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+o)}}function Zf(i,n,o){if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+o)}}function Hn(i,n,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(n,o,""+u)}}function fs(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function uS(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function QM(i){var n=uS(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),u=""+i[n];if(!i.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,y=o.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return g.call(this)},set:function(w){u=""+w,y.call(this,w)}}),Object.defineProperty(i,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function Jf(i){i._valueTracker||(i._valueTracker=QM(i))}function hS(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return i&&(u=uS(i)?i.checked?"true":"false":i.value),i=u,i!==o?(n.setValue(i),!0):!1}function tp(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ZM=/[\n"\\]/g;function ps(i){return i.replace(ZM,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qm(i,n,o,u,g,y,w,L){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),n!=null?w==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+fs(n)):i.value!==""+fs(n)&&(i.value=""+fs(n)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),n!=null?Xm(i,w,fs(n)):o!=null?Xm(i,w,fs(o)):u!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+fs(L):i.removeAttribute("name")}function dS(i,n,o,u,g,y,w,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),n!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;o=o!=null?""+fs(o):"",n=n!=null?""+fs(n):o,L||n===i.value||(i.value=n),i.defaultValue=n}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=L?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Xm(i,n,o){n==="number"&&tp(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Il(i,n,o,u){if(i=i.options,n){n={};for(var g=0;g<o.length;g++)n["$"+o[g]]=!0;for(o=0;o<i.length;o++)g=n.hasOwnProperty("$"+i[o].value),i[o].selected!==g&&(i[o].selected=g),g&&u&&(i[o].defaultSelected=!0)}else{for(o=""+fs(o),n=null,g=0;g<i.length;g++){if(i[g].value===o){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}n!==null||i[g].disabled||(n=i[g])}n!==null&&(n.selected=!0)}}function fS(i,n,o){if(n!=null&&(n=""+fs(n),n!==i.value&&(i.value=n),o==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=o!=null?""+fs(o):""}function pS(i,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(s(92));if(at(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=fs(n),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function jl(i,n){if(n){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=n;return}}i.textContent=n}var JM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gS(i,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":u?i.setProperty(n,o):typeof o!="number"||o===0||JM.has(n)?n==="float"?i.cssFloat=o:i[n]=(""+o).trim():i[n]=o+"px"}function mS(i,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in n)u=n[g],n.hasOwnProperty(g)&&o[g]!==u&&gS(i,g,u)}else for(var y in n)n.hasOwnProperty(y)&&gS(i,y,n[y])}function Ym(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ep(i){return e2.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var $m=null;function Wm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zl=null,Vl=null;function yS(i){var n=Fl(i);if(n&&(i=n.stateNode)){var o=i[Ni]||null;t:switch(i=n.stateNode,n.type){case"input":if(qm(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ps(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==i&&u.form===i.form){var g=u[Ni]||null;if(!g)throw Error(s(90));qm(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===i.form&&hS(u)}break t;case"textarea":fS(i,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&Il(i,!!o.multiple,n,!1)}}}var Km=!1;function vS(i,n,o){if(Km)return i(n,o);Km=!0;try{var u=i(n);return u}finally{if(Km=!1,(zl!==null||Vl!==null)&&(Bp(),zl&&(n=zl,i=Vl,Vl=zl=null,yS(n),i)))for(n=0;n<i.length;n++)yS(i[n])}}function Yu(i,n){var o=i.stateNode;if(o===null)return null;var u=o[Ni]||null;if(u===null)return null;o=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Qm=!1;if(Fn)try{var $u={};Object.defineProperty($u,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{Qm=!1}var ja=null,Zm=null,ip=null;function bS(){if(ip)return ip;var i,n=Zm,o=n.length,u,g="value"in ja?ja.value:ja.textContent,y=g.length;for(i=0;i<o&&n[i]===g[i];i++);var w=o-i;for(u=1;u<=w&&n[o-u]===g[y-u];u++);return ip=g.slice(i,1<u?1-u:void 0)}function sp(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function np(){return!0}function AS(){return!1}function Fi(i){function n(o,u,g,y,w){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(o=i[L],this[L]=o?o(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?np:AS,this.isPropagationStopped=AS,this}return q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),n}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Fi(Kr),Wu=q({},Kr,{view:0,detail:0}),i2=Fi(Wu),Jm,ty,Ku,rp=q({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ku&&(Ku&&i.type==="mousemove"?(Jm=i.screenX-Ku.screenX,ty=i.screenY-Ku.screenY):ty=Jm=0,Ku=i),Jm)},movementY:function(i){return"movementY"in i?i.movementY:ty}}),SS=Fi(rp),s2=q({},rp,{dataTransfer:0}),n2=Fi(s2),a2=q({},Wu,{relatedTarget:0}),ey=Fi(a2),r2=q({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),o2=Fi(r2),l2=q({},Kr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c2=Fi(l2),u2=q({},Kr,{data:0}),xS=Fi(u2),h2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p2(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=f2[i])?!!n[i]:!1}function iy(){return p2}var g2=q({},Wu,{key:function(i){if(i.key){var n=h2[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=sp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?d2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(i){return i.type==="keypress"?sp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m2=Fi(g2),y2=q({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wS=Fi(y2),v2=q({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),b2=Fi(v2),A2=q({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S2=Fi(A2),x2=q({},rp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),w2=Fi(x2),E2=q({},Kr,{newState:0,oldState:0}),T2=Fi(E2),_2=[9,13,27,32],sy=Fn&&"CompositionEvent"in window,Qu=null;Fn&&"documentMode"in document&&(Qu=document.documentMode);var C2=Fn&&"TextEvent"in window&&!Qu,ES=Fn&&(!sy||Qu&&8<Qu&&11>=Qu),TS=" ",_S=!1;function CS(i,n){switch(i){case"keyup":return _2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ul=!1;function R2(i,n){switch(i){case"compositionend":return RS(n);case"keypress":return n.which!==32?null:(_S=!0,TS);case"textInput":return i=n.data,i===TS&&_S?null:i;default:return null}}function M2(i,n){if(Ul)return i==="compositionend"||!sy&&CS(i,n)?(i=bS(),ip=Zm=ja=null,Ul=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ES&&n.locale!=="ko"?null:n.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MS(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!D2[i.type]:n==="textarea"}function DS(i,n,o,u){zl?Vl?Vl.push(u):Vl=[u]:zl=u,n=Up(n,"onChange"),0<n.length&&(o=new ap("onChange","change",null,o,u),i.push({event:o,listeners:n}))}var Zu=null,Ju=null;function L2(i){i1(i,0)}function op(i){var n=Xu(i);if(hS(n))return i}function LS(i,n){if(i==="change")return n}var PS=!1;if(Fn){var ny;if(Fn){var ay="oninput"in document;if(!ay){var OS=document.createElement("div");OS.setAttribute("oninput","return;"),ay=typeof OS.oninput=="function"}ny=ay}else ny=!1;PS=ny&&(!document.documentMode||9<document.documentMode)}function kS(){Zu&&(Zu.detachEvent("onpropertychange",NS),Ju=Zu=null)}function NS(i){if(i.propertyName==="value"&&op(Ju)){var n=[];DS(n,Ju,i,Wm(i)),vS(L2,n)}}function P2(i,n,o){i==="focusin"?(kS(),Zu=n,Ju=o,Zu.attachEvent("onpropertychange",NS)):i==="focusout"&&kS()}function O2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return op(Ju)}function k2(i,n){if(i==="click")return op(n)}function N2(i,n){if(i==="input"||i==="change")return op(n)}function F2(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var Yi=typeof Object.is=="function"?Object.is:F2;function th(i,n){if(Yi(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var o=Object.keys(i),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!ju.call(n,g)||!Yi(i[g],n[g]))return!1}return!0}function FS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function HS(i,n){var o=FS(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=n&&u>=n)return{node:o,offset:n-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=FS(o)}}function BS(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?BS(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function IS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=tp(i.document);n instanceof i.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)i=n.contentWindow;else break;n=tp(i.document)}return n}function ry(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}function H2(i,n){var o=IS(n);n=i.focusedElem;var u=i.selectionRange;if(o!==n&&n&&n.ownerDocument&&BS(n.ownerDocument.documentElement,n)){if(u!==null&&ry(n)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in n)n.selectionStart=i,n.selectionEnd=Math.min(o,n.value.length);else if(o=(i=n.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var g=n.textContent.length,y=Math.min(u.start,g);u=u.end===void 0?y:Math.min(u.end,g),!o.extend&&y>u&&(g=u,u=y,y=g),g=HS(n,y);var w=HS(n,u);g&&w&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==w.node||o.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),o.removeAllRanges(),y>u?(o.addRange(i),o.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),o.addRange(i)))}}for(i=[],o=n;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<i.length;n++)o=i[n],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var B2=Fn&&"documentMode"in document&&11>=document.documentMode,Gl=null,oy=null,eh=null,ly=!1;function jS(i,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ly||Gl==null||Gl!==tp(u)||(u=Gl,"selectionStart"in u&&ry(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),eh&&th(eh,u)||(eh=u,u=Up(oy,"onSelect"),0<u.length&&(n=new ap("onSelect","select",null,n,o),i.push({event:n,listeners:u}),n.target=Gl)))}function Qr(i,n){var o={};return o[i.toLowerCase()]=n.toLowerCase(),o["Webkit"+i]="webkit"+n,o["Moz"+i]="moz"+n,o}var ql={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},cy={},zS={};Fn&&(zS=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Zr(i){if(cy[i])return cy[i];if(!ql[i])return i;var n=ql[i],o;for(o in n)if(n.hasOwnProperty(o)&&o in zS)return cy[i]=n[o];return i}var VS=Zr("animationend"),US=Zr("animationiteration"),GS=Zr("animationstart"),I2=Zr("transitionrun"),j2=Zr("transitionstart"),z2=Zr("transitioncancel"),qS=Zr("transitionend"),XS=new Map,YS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bs(i,n){XS.set(i,n),Wr(n,[i])}var gs=[],Xl=0,uy=0;function lp(){for(var i=Xl,n=uy=Xl=0;n<i;){var o=gs[n];gs[n++]=null;var u=gs[n];gs[n++]=null;var g=gs[n];gs[n++]=null;var y=gs[n];if(gs[n++]=null,u!==null&&g!==null){var w=u.pending;w===null?g.next=g:(g.next=w.next,w.next=g),u.pending=g}y!==0&&$S(o,g,y)}}function cp(i,n,o,u){gs[Xl++]=i,gs[Xl++]=n,gs[Xl++]=o,gs[Xl++]=u,uy|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function hy(i,n,o,u){return cp(i,n,o,u),up(i)}function za(i,n){return cp(i,null,null,n),up(i)}function $S(i,n,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var g=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;g&&n!==null&&i.tag===3&&(y=i.stateNode,g=31-Xi(o),y=y.hiddenUpdates,i=y[g],i===null?y[g]=[n]:i.push(n),n.lane=o|536870912)}function up(i){if(50<_h)throw _h=0,y0=null,Error(s(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var Yl={},WS=new WeakMap;function ms(i,n){if(typeof i=="object"&&i!==null){var o=WS.get(i);return o!==void 0?o:(n={value:i,source:n,stack:W(n)},WS.set(i,n),n)}return{value:i,source:n,stack:W(n)}}var $l=[],Wl=0,hp=null,dp=0,ys=[],vs=0,Jr=null,Bn=1,In="";function to(i,n){$l[Wl++]=dp,$l[Wl++]=hp,hp=i,dp=n}function KS(i,n,o){ys[vs++]=Bn,ys[vs++]=In,ys[vs++]=Jr,Jr=i;var u=Bn;i=In;var g=32-Xi(u)-1;u&=~(1<<g),o+=1;var y=32-Xi(n)+g;if(30<y){var w=g-g%5;y=(u&(1<<w)-1).toString(32),u>>=w,g-=w,Bn=1<<32-Xi(n)+g|o<<g|u,In=y+i}else Bn=1<<y|o<<g|u,In=i}function dy(i){i.return!==null&&(to(i,1),KS(i,1,0))}function fy(i){for(;i===hp;)hp=$l[--Wl],$l[Wl]=null,dp=$l[--Wl],$l[Wl]=null;for(;i===Jr;)Jr=ys[--vs],ys[vs]=null,In=ys[--vs],ys[vs]=null,Bn=ys[--vs],ys[vs]=null}var Ti=null,ii=null,Xt=!1,Is=null,ln=!1,py=Error(s(519));function eo(i){var n=Error(s(418,""));throw nh(ms(n,i)),py}function QS(i){var n=i.stateNode,o=i.type,u=i.memoizedProps;switch(n[di]=i,n[Ni]=u,o){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(o=0;o<Rh.length;o++)Vt(Rh[o],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),dS(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Jf(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),pS(n,u.value,u.defaultValue,u.children),Jf(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||r1(n.textContent,o)?(u.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),u.onScroll!=null&&Vt("scroll",n),u.onScrollEnd!=null&&Vt("scrollend",n),u.onClick!=null&&(n.onclick=Gp),n=!0):n=!1,n||eo(i)}function ZS(i){for(Ti=i.return;Ti;)switch(Ti.tag){case 3:case 27:ln=!0;return;case 5:case 13:ln=!1;return;default:Ti=Ti.return}}function ih(i){if(i!==Ti)return!1;if(!Xt)return ZS(i),Xt=!0,!1;var n=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||k0(i.type,i.memoizedProps)),o=!o),o&&(n=!0),n&&ii&&eo(i),ZS(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(n===0){ii=zs(i.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;i=i.nextSibling}ii=null}}else ii=Ti?zs(i.stateNode.nextSibling):null;return!0}function sh(){ii=Ti=null,Xt=!1}function nh(i){Is===null?Is=[i]:Is.push(i)}var ah=Error(s(460)),JS=Error(s(474)),gy={then:function(){}};function tx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function fp(){}function ex(i,n,o){switch(o=i[o],o===void 0?i.push(n):o!==n&&(n.then(fp,fp),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,i===ah?Error(s(483)):i;default:if(typeof n.status=="string")n.then(fp,fp);else{if(i=ae,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=n,i.status="pending",i.then(function(u){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=u}},function(u){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,i===ah?Error(s(483)):i}throw rh=n,ah}}var rh=null;function ix(){if(rh===null)throw Error(s(459));var i=rh;return rh=null,i}var Kl=null,oh=0;function pp(i){var n=oh;return oh+=1,Kl===null&&(Kl=[]),ex(Kl,i,n)}function lh(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function gp(i,n){throw n.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(n),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function sx(i){var n=i._init;return n(i._payload)}function nx(i){function n(U,z){if(i){var G=U.deletions;G===null?(U.deletions=[z],U.flags|=16):G.push(z)}}function o(U,z){if(!i)return null;for(;z!==null;)n(U,z),z=z.sibling;return null}function u(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function g(U,z){return U=Ja(U,z),U.index=0,U.sibling=null,U}function y(U,z,G){return U.index=G,i?(G=U.alternate,G!==null?(G=G.index,G<z?(U.flags|=33554434,z):G):(U.flags|=33554434,z)):(U.flags|=1048576,z)}function w(U){return i&&U.alternate===null&&(U.flags|=33554434),U}function L(U,z,G,J){return z===null||z.tag!==6?(z=c0(G,U.mode,J),z.return=U,z):(z=g(z,G),z.return=U,z)}function N(U,z,G,J){var dt=G.type;return dt===f?K(U,z,G.props.children,J,G.key):z!==null&&(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===H&&sx(dt)===z.type)?(z=g(z,G.props),lh(z,G),z.return=U,z):(z=Op(G.type,G.key,G.props,null,U.mode,J),lh(z,G),z.return=U,z)}function V(U,z,G,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=u0(G,U.mode,J),z.return=U,z):(z=g(z,G.children||[]),z.return=U,z)}function K(U,z,G,J,dt){return z===null||z.tag!==7?(z=ho(G,U.mode,J,dt),z.return=U,z):(z=g(z,G),z.return=U,z)}function it(U,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=c0(""+z,U.mode,G),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case c:return G=Op(z.type,z.key,z.props,null,U.mode,G),lh(G,z),G.return=U,G;case h:return z=u0(z,U.mode,G),z.return=U,z;case H:var J=z._init;return z=J(z._payload),it(U,z,G)}if(at(z)||R(z))return z=ho(z,U.mode,G,null),z.return=U,z;if(typeof z.then=="function")return it(U,pp(z),G);if(z.$$typeof===x)return it(U,Dp(U,z),G);gp(U,z)}return null}function X(U,z,G,J){var dt=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return dt!==null?null:L(U,z,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===dt?N(U,z,G,J):null;case h:return G.key===dt?V(U,z,G,J):null;case H:return dt=G._init,G=dt(G._payload),X(U,z,G,J)}if(at(G)||R(G))return dt!==null?null:K(U,z,G,J,null);if(typeof G.then=="function")return X(U,z,pp(G),J);if(G.$$typeof===x)return X(U,z,Dp(U,G),J);gp(U,G)}return null}function $(U,z,G,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(G)||null,L(z,U,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return U=U.get(J.key===null?G:J.key)||null,N(z,U,J,dt);case h:return U=U.get(J.key===null?G:J.key)||null,V(z,U,J,dt);case H:var Ht=J._init;return J=Ht(J._payload),$(U,z,G,J,dt)}if(at(J)||R(J))return U=U.get(G)||null,K(z,U,J,dt,null);if(typeof J.then=="function")return $(U,z,G,pp(J),dt);if(J.$$typeof===x)return $(U,z,G,Dp(z,J),dt);gp(z,J)}return null}function gt(U,z,G,J){for(var dt=null,Ht=null,yt=z,At=z=0,We=null;yt!==null&&At<G.length;At++){yt.index>At?(We=yt,yt=null):We=yt.sibling;var Yt=X(U,yt,G[At],J);if(Yt===null){yt===null&&(yt=We);break}i&&yt&&Yt.alternate===null&&n(U,yt),z=y(Yt,z,At),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt,yt=We}if(At===G.length)return o(U,yt),Xt&&to(U,At),dt;if(yt===null){for(;At<G.length;At++)yt=it(U,G[At],J),yt!==null&&(z=y(yt,z,At),Ht===null?dt=yt:Ht.sibling=yt,Ht=yt);return Xt&&to(U,At),dt}for(yt=u(yt);At<G.length;At++)We=$(yt,U,At,G[At],J),We!==null&&(i&&We.alternate!==null&&yt.delete(We.key===null?At:We.key),z=y(We,z,At),Ht===null?dt=We:Ht.sibling=We,Ht=We);return i&&yt.forEach(function(rr){return n(U,rr)}),Xt&&to(U,At),dt}function Rt(U,z,G,J){if(G==null)throw Error(s(151));for(var dt=null,Ht=null,yt=z,At=z=0,We=null,Yt=G.next();yt!==null&&!Yt.done;At++,Yt=G.next()){yt.index>At?(We=yt,yt=null):We=yt.sibling;var rr=X(U,yt,Yt.value,J);if(rr===null){yt===null&&(yt=We);break}i&&yt&&rr.alternate===null&&n(U,yt),z=y(rr,z,At),Ht===null?dt=rr:Ht.sibling=rr,Ht=rr,yt=We}if(Yt.done)return o(U,yt),Xt&&to(U,At),dt;if(yt===null){for(;!Yt.done;At++,Yt=G.next())Yt=it(U,Yt.value,J),Yt!==null&&(z=y(Yt,z,At),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt);return Xt&&to(U,At),dt}for(yt=u(yt);!Yt.done;At++,Yt=G.next())Yt=$(yt,U,At,Yt.value,J),Yt!==null&&(i&&Yt.alternate!==null&&yt.delete(Yt.key===null?At:Yt.key),z=y(Yt,z,At),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt);return i&&yt.forEach(function(eL){return n(U,eL)}),Xt&&to(U,At),dt}function xe(U,z,G,J){if(typeof G=="object"&&G!==null&&G.type===f&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:t:{for(var dt=G.key;z!==null;){if(z.key===dt){if(dt=G.type,dt===f){if(z.tag===7){o(U,z.sibling),J=g(z,G.props.children),J.return=U,U=J;break t}}else if(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===H&&sx(dt)===z.type){o(U,z.sibling),J=g(z,G.props),lh(J,G),J.return=U,U=J;break t}o(U,z);break}else n(U,z);z=z.sibling}G.type===f?(J=ho(G.props.children,U.mode,J,G.key),J.return=U,U=J):(J=Op(G.type,G.key,G.props,null,U.mode,J),lh(J,G),J.return=U,U=J)}return w(U);case h:t:{for(dt=G.key;z!==null;){if(z.key===dt)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(U,z.sibling),J=g(z,G.children||[]),J.return=U,U=J;break t}else{o(U,z);break}else n(U,z);z=z.sibling}J=u0(G,U.mode,J),J.return=U,U=J}return w(U);case H:return dt=G._init,G=dt(G._payload),xe(U,z,G,J)}if(at(G))return gt(U,z,G,J);if(R(G)){if(dt=R(G),typeof dt!="function")throw Error(s(150));return G=dt.call(G),Rt(U,z,G,J)}if(typeof G.then=="function")return xe(U,z,pp(G),J);if(G.$$typeof===x)return xe(U,z,Dp(U,G),J);gp(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(U,z.sibling),J=g(z,G),J.return=U,U=J):(o(U,z),J=c0(G,U.mode,J),J.return=U,U=J),w(U)):o(U,z)}return function(U,z,G,J){try{oh=0;var dt=xe(U,z,G,J);return Kl=null,dt}catch(yt){if(yt===ah)throw yt;var Ht=xs(29,yt,null,U.mode);return Ht.lanes=J,Ht.return=U,Ht}finally{}}}var io=nx(!0),ax=nx(!1),Ql=Lt(null),mp=Lt(0);function rx(i,n){i=Kn,xt(mp,i),xt(Ql,n),Kn=i|n.baseLanes}function my(){xt(mp,Kn),xt(Ql,Ql.current)}function yy(){Kn=mp.current,qt(Ql),qt(mp)}var bs=Lt(null),cn=null;function Va(i){var n=i.alternate;xt(Be,Be.current&1),xt(bs,i),cn===null&&(n===null||Ql.current!==null||n.memoizedState!==null)&&(cn=i)}function ox(i){if(i.tag===22){if(xt(Be,Be.current),xt(bs,i),cn===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(cn=i)}}else Ua()}function Ua(){xt(Be,Be.current),xt(bs,bs.current)}function jn(i){qt(bs),cn===i&&(cn=null),qt(Be)}var Be=Lt(0);function yp(i){for(var n=i;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var V2=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){n.aborted=!0,i.forEach(function(o){return o()})}},U2=a.unstable_scheduleCallback,G2=a.unstable_NormalPriority,Ie={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vy(){return{controller:new V2,data:new Map,refCount:0}}function ch(i){i.refCount--,i.refCount===0&&U2(G2,function(){i.controller.abort()})}var uh=null,by=0,Zl=0,Jl=null;function q2(i,n){if(uh===null){var o=uh=[];by=0,Zl=T0(),Jl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return by++,n.then(lx,lx),n}function lx(){if(--by===0&&uh!==null){Jl!==null&&(Jl.status="fulfilled");var i=uh;uh=null,Zl=0,Jl=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function X2(i,n){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return i.then(function(){u.status="fulfilled",u.value=n;for(var g=0;g<o.length;g++)(0,o[g])(n)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var cx=B.S;B.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&q2(i,n),cx!==null&&cx(i,n)};var so=Lt(null);function Ay(){var i=so.current;return i!==null?i:ae.pooledCache}function vp(i,n){n===null?xt(so,so.current):xt(so,n.pool)}function ux(){var i=Ay();return i===null?null:{parent:Ie._currentValue,pool:i}}var Ga=0,Nt=null,Jt=null,Le=null,bp=!1,tc=!1,no=!1,Ap=0,hh=0,ec=null,Y2=0;function Ce(){throw Error(s(321))}function Sy(i,n){if(n===null)return!1;for(var o=0;o<n.length&&o<i.length;o++)if(!Yi(i[o],n[o]))return!1;return!0}function xy(i,n,o,u,g,y){return Ga=y,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=i===null||i.memoizedState===null?ao:qa,no=!1,y=o(u,g),no=!1,tc&&(y=dx(n,o,u,g)),hx(i),y}function hx(i){B.H=un;var n=Jt!==null&&Jt.next!==null;if(Ga=0,Le=Jt=Nt=null,bp=!1,hh=0,ec=null,n)throw Error(s(300));i===null||Ye||(i=i.dependencies,i!==null&&Mp(i)&&(Ye=!0))}function dx(i,n,o,u){Nt=i;var g=0;do{if(tc&&(ec=null),hh=0,tc=!1,25<=g)throw Error(s(301));if(g+=1,Le=Jt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=ro,y=n(o,u)}while(tc);return y}function $2(){var i=B.H,n=i.useState()[0];return n=typeof n.then=="function"?dh(n):n,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Nt.flags|=1024),n}function wy(){var i=Ap!==0;return Ap=0,i}function Ey(i,n,o){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~o}function Ty(i){if(bp){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}bp=!1}Ga=0,Le=Jt=Nt=null,tc=!1,hh=Ap=0,ec=null}function Hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Nt.memoizedState=Le=i:Le=Le.next=i,Le}function Pe(){if(Jt===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var n=Le===null?Nt.memoizedState:Le.next;if(n!==null)Le=n,Jt=i;else{if(i===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Le===null?Nt.memoizedState=Le=i:Le=Le.next=i}return Le}var Sp;Sp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function dh(i){var n=hh;return hh+=1,ec===null&&(ec=[]),i=ex(ec,i,n),n=Nt,(Le===null?n.memoizedState:Le.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?ao:qa),i}function xp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return dh(i);if(i.$$typeof===x)return fi(i)}throw Error(s(438,String(i)))}function _y(i){var n=null,o=Nt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=Nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Sp(),Nt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(i),u=0;u<i;u++)o[u]=A;return n.index++,o}function zn(i,n){return typeof n=="function"?n(i):n}function wp(i){var n=Pe();return Cy(n,Jt,i)}function Cy(i,n,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var g=i.baseQueue,y=u.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}n.baseQueue=g=y,u.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{n=g.next;var L=w=null,N=null,V=n,K=!1;do{var it=V.lane&-536870913;if(it!==V.lane?(Gt&it)===it:(Ga&it)===it){var X=V.revertLane;if(X===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),it===Zl&&(K=!0);else if((Ga&X)===X){V=V.next,X===Zl&&(K=!0);continue}else it={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(L=N=it,w=y):N=N.next=it,Nt.lanes|=X,tr|=X;it=V.action,no&&o(y,it),y=V.hasEagerState?V.eagerState:o(y,it)}else X={lane:it,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(L=N=X,w=y):N=N.next=X,Nt.lanes|=it,tr|=it;V=V.next}while(V!==null&&V!==n);if(N===null?w=y:N.next=L,!Yi(y,i.memoizedState)&&(Ye=!0,K&&(o=Jl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=N,u.lastRenderedState=y}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Ry(i){var n=Pe(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,g=o.pending,y=n.memoizedState;if(g!==null){o.pending=null;var w=g=g.next;do y=i(y,w.action),w=w.next;while(w!==g);Yi(y,n.memoizedState)||(Ye=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,u]}function fx(i,n,o){var u=Nt,g=Pe(),y=Xt;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=n();var w=!Yi((Jt||g).memoizedState,o);if(w&&(g.memoizedState=o,Ye=!0),g=g.queue,Ly(mx.bind(null,u,g,i),[i]),g.getSnapshot!==n||w||Le!==null&&Le.memoizedState.tag&1){if(u.flags|=2048,ic(9,gx.bind(null,u,g,o,n),{destroy:void 0},null),ae===null)throw Error(s(349));y||Ga&60||px(u,n,o)}return o}function px(i,n,o){i.flags|=16384,i={getSnapshot:n,value:o},n=Nt.updateQueue,n===null?(n=Sp(),Nt.updateQueue=n,n.stores=[i]):(o=n.stores,o===null?n.stores=[i]:o.push(i))}function gx(i,n,o,u){n.value=o,n.getSnapshot=u,yx(n)&&vx(i)}function mx(i,n,o){return o(function(){yx(n)&&vx(i)})}function yx(i){var n=i.getSnapshot;i=i.value;try{var o=n();return!Yi(i,o)}catch{return!0}}function vx(i){var n=za(i,2);n!==null&&_i(n,i,2)}function My(i){var n=Hi();if(typeof i=="function"){var o=i;if(i=o(),no){Ba(!0);try{o()}finally{Ba(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:i},n}function bx(i,n,o,u){return i.baseState=o,Cy(i,Jt,typeof u=="function"?u:zn)}function W2(i,n,o,u,g){if(_p(i))throw Error(s(485));if(i=n.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};B.T!==null?o(!0):y.isTransition=!1,u(y),o=n.pending,o===null?(y.next=n.pending=y,Ax(n,y)):(y.next=o.next,n.pending=o.next=y)}}function Ax(i,n){var o=n.action,u=n.payload,g=i.state;if(n.isTransition){var y=B.T,w={};B.T=w;try{var L=o(g,u),N=B.S;N!==null&&N(w,L),Sx(i,n,L)}catch(V){Dy(i,n,V)}finally{B.T=y}}else try{y=o(g,u),Sx(i,n,y)}catch(V){Dy(i,n,V)}}function Sx(i,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){xx(i,n,u)},function(u){return Dy(i,n,u)}):xx(i,n,o)}function xx(i,n,o){n.status="fulfilled",n.value=o,wx(n),i.state=o,n=i.pending,n!==null&&(o=n.next,o===n?i.pending=null:(o=o.next,n.next=o,Ax(i,o)))}function Dy(i,n,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,wx(n),n=n.next;while(n!==u)}i.action=null}function wx(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function Ex(i,n){return n}function Tx(i,n){if(Xt){var o=ae.formState;if(o!==null){t:{var u=Nt;if(Xt){if(ii){e:{for(var g=ii,y=ln;g.nodeType!==8;){if(!y){g=null;break e}if(g=zs(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ii=zs(g.nextSibling),u=g.data==="F!";break t}}eo(u)}u=!1}u&&(n=o[0])}}return o=Hi(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ex,lastRenderedState:n},o.queue=u,o=Ux.bind(null,Nt,u),u.dispatch=o,u=My(!1),y=Fy.bind(null,Nt,!1,u.queue),u=Hi(),g={state:n,dispatch:null,action:i,pending:null},u.queue=g,o=W2.bind(null,Nt,g,y,o),g.dispatch=o,u.memoizedState=i,[n,o,!1]}function _x(i){var n=Pe();return Cx(n,Jt,i)}function Cx(i,n,o){n=Cy(i,n,Ex)[0],i=wp(zn)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?dh(n):n;var u=Pe(),g=u.queue,y=g.dispatch;return o!==u.memoizedState&&(Nt.flags|=2048,ic(9,K2.bind(null,g,o),{destroy:void 0},null)),[n,y,i]}function K2(i,n){i.action=n}function Rx(i){var n=Pe(),o=Jt;if(o!==null)return Cx(n,o,i);Pe(),n=n.memoizedState,o=Pe();var u=o.queue.dispatch;return o.memoizedState=i,[n,u,!1]}function ic(i,n,o,u){return i={tag:i,create:n,inst:o,deps:u,next:null},n=Nt.updateQueue,n===null&&(n=Sp(),Nt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,n.lastEffect=i),i}function Mx(){return Pe().memoizedState}function Ep(i,n,o,u){var g=Hi();Nt.flags|=i,g.memoizedState=ic(1|n,o,{destroy:void 0},u===void 0?null:u)}function Tp(i,n,o,u){var g=Pe();u=u===void 0?null:u;var y=g.memoizedState.inst;Jt!==null&&u!==null&&Sy(u,Jt.memoizedState.deps)?g.memoizedState=ic(n,o,y,u):(Nt.flags|=i,g.memoizedState=ic(1|n,o,y,u))}function Dx(i,n){Ep(8390656,8,i,n)}function Ly(i,n){Tp(2048,8,i,n)}function Lx(i,n){return Tp(4,2,i,n)}function Px(i,n){return Tp(4,4,i,n)}function Ox(i,n){if(typeof n=="function"){i=i();var o=n(i);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function kx(i,n,o){o=o!=null?o.concat([i]):null,Tp(4,4,Ox.bind(null,n,i),o)}function Py(){}function Nx(i,n){var o=Pe();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&Sy(n,u[1])?u[0]:(o.memoizedState=[i,n],i)}function Fx(i,n){var o=Pe();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&Sy(n,u[1]))return u[0];if(u=i(),no){Ba(!0);try{i()}finally{Ba(!1)}}return o.memoizedState=[u,n],u}function Oy(i,n,o){return o===void 0||Ga&1073741824?i.memoizedState=n:(i.memoizedState=o,i=Bw(),Nt.lanes|=i,tr|=i,o)}function Hx(i,n,o,u){return Yi(o,n)?o:Ql.current!==null?(i=Oy(i,o,u),Yi(i,n)||(Ye=!0),i):Ga&42?(i=Bw(),Nt.lanes|=i,tr|=i,n):(Ye=!0,i.memoizedState=o)}function Bx(i,n,o,u,g){var y=st.p;st.p=y!==0&&8>y?y:8;var w=B.T,L={};B.T=L,Fy(i,!1,n,o);try{var N=g(),V=B.S;if(V!==null&&V(L,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=X2(N,u);fh(i,n,K,Qi(i))}else fh(i,n,u,Qi(i))}catch(it){fh(i,n,{then:function(){},status:"rejected",reason:it},Qi())}finally{st.p=y,B.T=w}}function Q2(){}function ky(i,n,o,u){if(i.tag!==5)throw Error(s(476));var g=Ix(i).queue;Bx(i,g,n,Et,o===null?Q2:function(){return jx(i),o(u)})}function Ix(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Et},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:o},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function jx(i){var n=Ix(i).next.queue;fh(i,n,{},Qi())}function Ny(){return fi(Oh)}function zx(){return Pe().memoizedState}function Vx(){return Pe().memoizedState}function Z2(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var o=Qi();i=$a(o);var u=Wa(n,i,o);u!==null&&(_i(u,n,o),mh(u,n,o)),n={cache:vy()},i.payload=n;return}n=n.return}}function J2(i,n,o){var u=Qi();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},_p(i)?Gx(n,o):(o=hy(i,n,o,u),o!==null&&(_i(o,i,u),qx(o,n,u)))}function Ux(i,n,o){var u=Qi();fh(i,n,o,u)}function fh(i,n,o,u){var g={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(_p(i))Gx(n,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var w=n.lastRenderedState,L=y(w,o);if(g.hasEagerState=!0,g.eagerState=L,Yi(L,w))return cp(i,n,g,0),ae===null&&lp(),!1}catch{}finally{}if(o=hy(i,n,g,u),o!==null)return _i(o,i,u),qx(o,n,u),!0}return!1}function Fy(i,n,o,u){if(u={lane:2,revertLane:T0(),action:u,hasEagerState:!1,eagerState:null,next:null},_p(i)){if(n)throw Error(s(479))}else n=hy(i,o,u,2),n!==null&&_i(n,i,2)}function _p(i){var n=i.alternate;return i===Nt||n!==null&&n===Nt}function Gx(i,n){tc=bp=!0;var o=i.pending;o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n}function qx(i,n,o){if(o&4194176){var u=n.lanes;u&=i.pendingLanes,o|=u,n.lanes=o,iS(i,o)}}var un={readContext:fi,use:xp,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce};un.useCacheRefresh=Ce,un.useMemoCache=Ce,un.useHostTransitionStatus=Ce,un.useFormState=Ce,un.useActionState=Ce,un.useOptimistic=Ce;var ao={readContext:fi,use:xp,useCallback:function(i,n){return Hi().memoizedState=[i,n===void 0?null:n],i},useContext:fi,useEffect:Dx,useImperativeHandle:function(i,n,o){o=o!=null?o.concat([i]):null,Ep(4194308,4,Ox.bind(null,n,i),o)},useLayoutEffect:function(i,n){return Ep(4194308,4,i,n)},useInsertionEffect:function(i,n){Ep(4,2,i,n)},useMemo:function(i,n){var o=Hi();n=n===void 0?null:n;var u=i();if(no){Ba(!0);try{i()}finally{Ba(!1)}}return o.memoizedState=[u,n],u},useReducer:function(i,n,o){var u=Hi();if(o!==void 0){var g=o(n);if(no){Ba(!0);try{o(n)}finally{Ba(!1)}}}else g=n;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=J2.bind(null,Nt,i),[u.memoizedState,i]},useRef:function(i){var n=Hi();return i={current:i},n.memoizedState=i},useState:function(i){i=My(i);var n=i.queue,o=Ux.bind(null,Nt,n);return n.dispatch=o,[i.memoizedState,o]},useDebugValue:Py,useDeferredValue:function(i,n){var o=Hi();return Oy(o,i,n)},useTransition:function(){var i=My(!1);return i=Bx.bind(null,Nt,i.queue,!0,!1),Hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,o){var u=Nt,g=Hi();if(Xt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),ae===null)throw Error(s(349));Gt&60||px(u,n,o)}g.memoizedState=o;var y={value:o,getSnapshot:n};return g.queue=y,Dx(mx.bind(null,u,y,i),[i]),u.flags|=2048,ic(9,gx.bind(null,u,y,o,n),{destroy:void 0},null),o},useId:function(){var i=Hi(),n=ae.identifierPrefix;if(Xt){var o=In,u=Bn;o=(u&~(1<<32-Xi(u)-1)).toString(32)+o,n=":"+n+"R"+o,o=Ap++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Y2++,n=":"+n+"r"+o.toString(32)+":";return i.memoizedState=n},useCacheRefresh:function(){return Hi().memoizedState=Z2.bind(null,Nt)}};ao.useMemoCache=_y,ao.useHostTransitionStatus=Ny,ao.useFormState=Tx,ao.useActionState=Tx,ao.useOptimistic=function(i){var n=Hi();n.memoizedState=n.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Fy.bind(null,Nt,!0,o),o.dispatch=n,[i,n]};var qa={readContext:fi,use:xp,useCallback:Nx,useContext:fi,useEffect:Ly,useImperativeHandle:kx,useInsertionEffect:Lx,useLayoutEffect:Px,useMemo:Fx,useReducer:wp,useRef:Mx,useState:function(){return wp(zn)},useDebugValue:Py,useDeferredValue:function(i,n){var o=Pe();return Hx(o,Jt.memoizedState,i,n)},useTransition:function(){var i=wp(zn)[0],n=Pe().memoizedState;return[typeof i=="boolean"?i:dh(i),n]},useSyncExternalStore:fx,useId:zx};qa.useCacheRefresh=Vx,qa.useMemoCache=_y,qa.useHostTransitionStatus=Ny,qa.useFormState=_x,qa.useActionState=_x,qa.useOptimistic=function(i,n){var o=Pe();return bx(o,Jt,i,n)};var ro={readContext:fi,use:xp,useCallback:Nx,useContext:fi,useEffect:Ly,useImperativeHandle:kx,useInsertionEffect:Lx,useLayoutEffect:Px,useMemo:Fx,useReducer:Ry,useRef:Mx,useState:function(){return Ry(zn)},useDebugValue:Py,useDeferredValue:function(i,n){var o=Pe();return Jt===null?Oy(o,i,n):Hx(o,Jt.memoizedState,i,n)},useTransition:function(){var i=Ry(zn)[0],n=Pe().memoizedState;return[typeof i=="boolean"?i:dh(i),n]},useSyncExternalStore:fx,useId:zx};ro.useCacheRefresh=Vx,ro.useMemoCache=_y,ro.useHostTransitionStatus=Ny,ro.useFormState=Rx,ro.useActionState=Rx,ro.useOptimistic=function(i,n){var o=Pe();return Jt!==null?bx(o,Jt,i,n):(o.baseState=i,[i,o.queue.dispatch])};function Hy(i,n,o,u){n=i.memoizedState,o=o(u,n),o=o==null?n:q({},n,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var By={isMounted:function(i){return(i=i._reactInternals)?tt(i)===i:!1},enqueueSetState:function(i,n,o){i=i._reactInternals;var u=Qi(),g=$a(u);g.payload=n,o!=null&&(g.callback=o),n=Wa(i,g,u),n!==null&&(_i(n,i,u),mh(n,i,u))},enqueueReplaceState:function(i,n,o){i=i._reactInternals;var u=Qi(),g=$a(u);g.tag=1,g.payload=n,o!=null&&(g.callback=o),n=Wa(i,g,u),n!==null&&(_i(n,i,u),mh(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var o=Qi(),u=$a(o);u.tag=2,n!=null&&(u.callback=n),n=Wa(i,u,o),n!==null&&(_i(n,i,o),mh(n,i,o))}};function Xx(i,n,o,u,g,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):n.prototype&&n.prototype.isPureReactComponent?!th(o,u)||!th(g,y):!0}function Yx(i,n,o,u){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==i&&By.enqueueReplaceState(n,n.state,null)}function oo(i,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(i=i.defaultProps){o===n&&(o=q({},o));for(var g in i)o[g]===void 0&&(o[g]=i[g])}return o}var Cp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $x(i){Cp(i)}function Wx(i){console.error(i)}function Kx(i){Cp(i)}function Rp(i,n){try{var o=i.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Qx(i,n,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Iy(i,n,o){return o=$a(o),o.tag=3,o.payload={element:null},o.callback=function(){Rp(i,n)},o}function Zx(i){return i=$a(i),i.tag=3,i}function Jx(i,n,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;i.payload=function(){return g(y)},i.callback=function(){Qx(n,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Qx(n,o,u),typeof g!="function"&&(er===null?er=new Set([this]):er.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})})}function tD(i,n,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&gh(n,o,g,!0),o=bs.current,o!==null){switch(o.tag){case 13:return cn===null?A0():o.alternate===null&&Se===0&&(Se=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===gy?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),x0(i,u,g)),!1;case 22:return o.flags|=65536,u===gy?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),x0(i,u,g)),!1}throw Error(s(435,o.tag))}return x0(i,u,g),A0(),!1}if(Xt)return n=bs.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=g,u!==py&&(i=Error(s(422),{cause:u}),nh(ms(i,o)))):(u!==py&&(n=Error(s(423),{cause:u}),nh(ms(n,o))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=ms(u,o),g=Iy(i.stateNode,u,g),t0(i,g),Se!==4&&(Se=2)),!1;var y=Error(s(520),{cause:u});if(y=ms(y,o),Eh===null?Eh=[y]:Eh.push(y),Se!==4&&(Se=2),n===null)return!0;u=ms(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,i=g&-g,o.lanes|=i,i=Iy(o.stateNode,u,i),t0(o,i),!1;case 1:if(n=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(er===null||!er.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Zx(g),Jx(g,i,o,u),t0(o,g),!1}o=o.return}while(o!==null);return!1}var tw=Error(s(461)),Ye=!1;function si(i,n,o,u){n.child=i===null?ax(n,null,o,u):io(n,i.child,o,u)}function ew(i,n,o,u,g){o=o.render;var y=n.ref;if("ref"in u){var w={};for(var L in u)L!=="ref"&&(w[L]=u[L])}else w=u;return co(n),u=xy(i,n,o,w,y,g),L=wy(),i!==null&&!Ye?(Ey(i,n,g),Vn(i,n,g)):(Xt&&L&&dy(n),n.flags|=1,si(i,n,u,g),n.child)}function iw(i,n,o,u,g){if(i===null){var y=o.type;return typeof y=="function"&&!l0(y)&&y.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=y,sw(i,n,y,u,g)):(i=Op(o.type,null,u,n,n.mode,g),i.ref=n.ref,i.return=n,n.child=i)}if(y=i.child,!$y(i,g)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:th,o(w,u)&&i.ref===n.ref)return Vn(i,n,g)}return n.flags|=1,i=Ja(y,u),i.ref=n.ref,i.return=n,n.child=i}function sw(i,n,o,u,g){if(i!==null){var y=i.memoizedProps;if(th(y,u)&&i.ref===n.ref)if(Ye=!1,n.pendingProps=u=y,$y(i,g))i.flags&131072&&(Ye=!0);else return n.lanes=i.lanes,Vn(i,n,g)}return jy(i,n,o,u,g)}function nw(i,n,o){var u=n.pendingProps,g=u.children,y=(n.stateNode._pendingVisibility&2)!==0,w=i!==null?i.memoizedState:null;if(ph(i,n),u.mode==="hidden"||y){if(n.flags&128){if(u=w!==null?w.baseLanes|o:o,i!==null){for(g=n.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;n.childLanes=y&~u}else n.childLanes=0,n.child=null;return aw(i,n,u,o)}if(o&536870912)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&vp(n,w!==null?w.cachePool:null),w!==null?rx(n,w):my(),ox(n);else return n.lanes=n.childLanes=536870912,aw(i,n,w!==null?w.baseLanes|o:o,o)}else w!==null?(vp(n,w.cachePool),rx(n,w),Ua(),n.memoizedState=null):(i!==null&&vp(n,null),my(),Ua());return si(i,n,g,o),n.child}function aw(i,n,o,u){var g=Ay();return g=g===null?null:{parent:Ie._currentValue,pool:g},n.memoizedState={baseLanes:o,cachePool:g},i!==null&&vp(n,null),my(),ox(n),i!==null&&gh(i,n,u,!0),null}function ph(i,n){var o=n.ref;if(o===null)i!==null&&i.ref!==null&&(n.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(n.flags|=2097664)}}function jy(i,n,o,u,g){return co(n),o=xy(i,n,o,u,void 0,g),u=wy(),i!==null&&!Ye?(Ey(i,n,g),Vn(i,n,g)):(Xt&&u&&dy(n),n.flags|=1,si(i,n,o,g),n.child)}function rw(i,n,o,u,g,y){return co(n),n.updateQueue=null,o=dx(n,u,o,g),hx(i),u=wy(),i!==null&&!Ye?(Ey(i,n,y),Vn(i,n,y)):(Xt&&u&&dy(n),n.flags|=1,si(i,n,o,y),n.child)}function ow(i,n,o,u,g){if(co(n),n.stateNode===null){var y=Yl,w=o.contextType;typeof w=="object"&&w!==null&&(y=fi(w)),y=new o(u,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=By,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=u,y.state=n.memoizedState,y.refs={},Zy(n),w=o.contextType,y.context=typeof w=="object"&&w!==null?fi(w):Yl,y.state=n.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hy(n,o,w,u),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&By.enqueueReplaceState(y,y.state,null),vh(n,u,y,g),yh(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(i===null){y=n.stateNode;var L=n.memoizedProps,N=oo(o,L);y.props=N;var V=y.context,K=o.contextType;w=Yl,typeof K=="object"&&K!==null&&(w=fi(K));var it=o.getDerivedStateFromProps;K=typeof it=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||V!==w)&&Yx(n,y,u,w),Ya=!1;var X=n.memoizedState;y.state=X,vh(n,u,y,g),yh(),V=n.memoizedState,L||X!==V||Ya?(typeof it=="function"&&(Hy(n,o,it,u),V=n.memoizedState),(N=Ya||Xx(n,o,N,u,X,V,w))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=V),y.props=u,y.state=V,y.context=w,u=N):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Jy(i,n),w=n.memoizedProps,K=oo(o,w),y.props=K,it=n.pendingProps,X=y.context,V=o.contextType,N=Yl,typeof V=="object"&&V!==null&&(N=fi(V)),L=o.getDerivedStateFromProps,(V=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==it||X!==N)&&Yx(n,y,u,N),Ya=!1,X=n.memoizedState,y.state=X,vh(n,u,y,g),yh();var $=n.memoizedState;w!==it||X!==$||Ya||i!==null&&i.dependencies!==null&&Mp(i.dependencies)?(typeof L=="function"&&(Hy(n,o,L,u),$=n.memoizedState),(K=Ya||Xx(n,o,K,u,X,$,N)||i!==null&&i.dependencies!==null&&Mp(i.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,$,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,$,N)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=$),y.props=u,y.state=$,y.context=N,u=K):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(n.flags|=1024),u=!1)}return y=u,ph(i,n),u=(n.flags&128)!==0,y||u?(y=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,i!==null&&u?(n.child=io(n,i.child,null,g),n.child=io(n,null,o,g)):si(i,n,o,g),n.memoizedState=y.state,i=n.child):i=Vn(i,n,g),i}function lw(i,n,o,u){return sh(),n.flags|=256,si(i,n,o,u),n.child}var zy={dehydrated:null,treeContext:null,retryLane:0};function Vy(i){return{baseLanes:i,cachePool:ux()}}function Uy(i,n,o){return i=i!==null?i.childLanes&~o:0,n&&(i|=ws),i}function cw(i,n,o){var u=n.pendingProps,g=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(Be.current&2)!==0),w&&(g=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,i===null){if(Xt){if(g?Va(n):Ua(),Xt){var L=ii,N;if(N=L){t:{for(N=L,L=ln;N.nodeType!==8;){if(!L){L=null;break t}if(N=zs(N.nextSibling),N===null){L=null;break t}}L=N}L!==null?(n.memoizedState={dehydrated:L,treeContext:Jr!==null?{id:Bn,overflow:In}:null,retryLane:536870912},N=xs(18,null,null,0),N.stateNode=L,N.return=n,n.child=N,Ti=n,ii=null,N=!0):N=!1}N||eo(n)}if(L=n.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return L.data==="$!"?n.lanes=16:n.lanes=536870912,null;jn(n)}return L=u.children,u=u.fallback,g?(Ua(),g=n.mode,L=qy({mode:"hidden",children:L},g),u=ho(u,g,o,null),L.return=n,u.return=n,L.sibling=u,n.child=L,g=n.child,g.memoizedState=Vy(o),g.childLanes=Uy(i,w,o),n.memoizedState=zy,u):(Va(n),Gy(n,L))}if(N=i.memoizedState,N!==null&&(L=N.dehydrated,L!==null)){if(y)n.flags&256?(Va(n),n.flags&=-257,n=Xy(i,n,o)):n.memoizedState!==null?(Ua(),n.child=i.child,n.flags|=128,n=null):(Ua(),g=u.fallback,L=n.mode,u=qy({mode:"visible",children:u.children},L),g=ho(g,L,o,null),g.flags|=2,u.return=n,g.return=n,u.sibling=g,n.child=u,io(n,i.child,null,o),u=n.child,u.memoizedState=Vy(o),u.childLanes=Uy(i,w,o),n.memoizedState=zy,n=g);else if(Va(n),L.data==="$!"){if(w=L.nextSibling&&L.nextSibling.dataset,w)var V=w.dgst;w=V,u=Error(s(419)),u.stack="",u.digest=w,nh({value:u,source:null,stack:null}),n=Xy(i,n,o)}else if(Ye||gh(i,n,o,!1),w=(o&i.childLanes)!==0,Ye||w){if(w=ae,w!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(w.suspendedLanes|o)?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,za(i,u),_i(w,i,u),tw}L.data==="$?"||A0(),n=Xy(i,n,o)}else L.data==="$?"?(n.flags|=128,n.child=i.child,n=gD.bind(null,i),L._reactRetry=n,n=null):(i=N.treeContext,ii=zs(L.nextSibling),Ti=n,Xt=!0,Is=null,ln=!1,i!==null&&(ys[vs++]=Bn,ys[vs++]=In,ys[vs++]=Jr,Bn=i.id,In=i.overflow,Jr=n),n=Gy(n,u.children),n.flags|=4096);return n}return g?(Ua(),g=u.fallback,L=n.mode,N=i.child,V=N.sibling,u=Ja(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,V!==null?g=Ja(V,g):(g=ho(g,L,o,null),g.flags|=2),g.return=n,u.return=n,u.sibling=g,n.child=u,u=g,g=n.child,L=i.child.memoizedState,L===null?L=Vy(o):(N=L.cachePool,N!==null?(V=Ie._currentValue,N=N.parent!==V?{parent:V,pool:V}:N):N=ux(),L={baseLanes:L.baseLanes|o,cachePool:N}),g.memoizedState=L,g.childLanes=Uy(i,w,o),n.memoizedState=zy,u):(Va(n),o=i.child,i=o.sibling,o=Ja(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,i!==null&&(w=n.deletions,w===null?(n.deletions=[i],n.flags|=16):w.push(i)),n.child=o,n.memoizedState=null,o)}function Gy(i,n){return n=qy({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function qy(i,n){return Nw(i,n,0,null)}function Xy(i,n,o){return io(n,i.child,null,o),i=Gy(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function uw(i,n,o){i.lanes|=n;var u=i.alternate;u!==null&&(u.lanes|=n),Ky(i.return,n,o)}function Yy(i,n,o,u,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=g)}function hw(i,n,o){var u=n.pendingProps,g=u.revealOrder,y=u.tail;if(si(i,n,u.children,o),u=Be.current,u&2)u=u&1|2,n.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uw(i,o,n);else if(i.tag===19)uw(i,o,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(xt(Be,u),g){case"forwards":for(o=n.child,g=null;o!==null;)i=o.alternate,i!==null&&yp(i)===null&&(g=o),o=o.sibling;o=g,o===null?(g=n.child,n.child=null):(g=o.sibling,o.sibling=null),Yy(n,!1,g,o,y);break;case"backwards":for(o=null,g=n.child,n.child=null;g!==null;){if(i=g.alternate,i!==null&&yp(i)===null){n.child=g;break}i=g.sibling,g.sibling=o,o=g,g=i}Yy(n,!0,o,null,y);break;case"together":Yy(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vn(i,n,o){if(i!==null&&(n.dependencies=i.dependencies),tr|=n.lanes,!(o&n.childLanes))if(i!==null){if(gh(i,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(s(153));if(n.child!==null){for(i=n.child,o=Ja(i,i.pendingProps),n.child=o,o.return=n;i.sibling!==null;)i=i.sibling,o=o.sibling=Ja(i,i.pendingProps),o.return=n;o.sibling=null}return n.child}function $y(i,n){return i.lanes&n?!0:(i=i.dependencies,!!(i!==null&&Mp(i)))}function eD(i,n,o){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Xa(n,Ie,i.memoizedState.cache),sh();break;case 27:case 5:rn(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Xa(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Va(n),n.flags|=128,null):o&n.child.childLanes?cw(i,n,o):(Va(n),i=Vn(i,n,o),i!==null?i.sibling:null);Va(n);break;case 19:var g=(i.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(gh(i,n,o,!1),u=(o&n.childLanes)!==0),g){if(u)return hw(i,n,o);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),xt(Be,Be.current),u)break;return null;case 22:case 23:return n.lanes=0,nw(i,n,o);case 24:Xa(n,Ie,i.memoizedState.cache)}return Vn(i,n,o)}function dw(i,n,o){if(i!==null)if(i.memoizedProps!==n.pendingProps)Ye=!0;else{if(!$y(i,o)&&!(n.flags&128))return Ye=!1,eD(i,n,o);Ye=!!(i.flags&131072)}else Ye=!1,Xt&&n.flags&1048576&&KS(n,dp,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var u=n.elementType,g=u._init;if(u=g(u._payload),n.type=u,typeof u=="function")l0(u)?(i=oo(u,i),n.tag=1,n=ow(null,n,u,i,o)):(n.tag=0,n=jy(null,n,u,i,o));else{if(u!=null){if(g=u.$$typeof,g===E){n.tag=11,n=ew(null,n,u,i,o);break t}else if(g===D){n.tag=14,n=iw(null,n,u,i,o);break t}}throw n=F(u)||u,Error(s(306,n,""))}}return n;case 0:return jy(i,n,n.type,n.pendingProps,o);case 1:return u=n.type,g=oo(u,n.pendingProps),ow(i,n,u,g,o);case 3:t:{if(_e(n,n.stateNode.containerInfo),i===null)throw Error(s(387));var y=n.pendingProps;g=n.memoizedState,u=g.element,Jy(i,n),vh(n,y,null,o);var w=n.memoizedState;if(y=w.cache,Xa(n,Ie,y),y!==g.cache&&Qy(n,[Ie],o,!0),yh(),y=w.element,g.isDehydrated)if(g={element:y,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=lw(i,n,y,o);break t}else if(y!==u){u=ms(Error(s(424)),n),nh(u),n=lw(i,n,y,o);break t}else for(ii=zs(n.stateNode.containerInfo.firstChild),Ti=n,Xt=!0,Is=null,ln=!0,o=ax(n,null,y,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(sh(),y===u){n=Vn(i,n,o);break t}si(i,n,y,o)}n=n.child}return n;case 26:return ph(i,n),i===null?(o=g1(n.type,null,n.pendingProps,null))?n.memoizedState=o:Xt||(o=n.type,i=n.pendingProps,u=qp(zt.current).createElement(o),u[di]=n,u[Ni]=i,ni(u,o,i),Xe(u),n.stateNode=u):n.memoizedState=g1(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return rn(n),i===null&&Xt&&(u=n.stateNode=d1(n.type,n.pendingProps,zt.current),Ti=n,ln=!0,ii=zs(u.firstChild)),u=n.pendingProps.children,i!==null||Xt?si(i,n,u,o):n.child=io(n,null,u,o),ph(i,n),n.child;case 5:return i===null&&Xt&&((g=u=ii)&&(u=LD(u,n.type,n.pendingProps,ln),u!==null?(n.stateNode=u,Ti=n,ii=zs(u.firstChild),ln=!1,g=!0):g=!1),g||eo(n)),rn(n),g=n.type,y=n.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,k0(g,y)?u=null:w!==null&&k0(g,w)&&(n.flags|=32),n.memoizedState!==null&&(g=xy(i,n,$2,null,null,o),Oh._currentValue=g),ph(i,n),si(i,n,u,o),n.child;case 6:return i===null&&Xt&&((i=o=ii)&&(o=PD(o,n.pendingProps,ln),o!==null?(n.stateNode=o,Ti=n,ii=null,i=!0):i=!1),i||eo(n)),null;case 13:return cw(i,n,o);case 4:return _e(n,n.stateNode.containerInfo),u=n.pendingProps,i===null?n.child=io(n,null,u,o):si(i,n,u,o),n.child;case 11:return ew(i,n,n.type,n.pendingProps,o);case 7:return si(i,n,n.pendingProps,o),n.child;case 8:return si(i,n,n.pendingProps.children,o),n.child;case 12:return si(i,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,Xa(n,n.type,u.value),si(i,n,u.children,o),n.child;case 9:return g=n.type._context,u=n.pendingProps.children,co(n),g=fi(g),u=u(g),n.flags|=1,si(i,n,u,o),n.child;case 14:return iw(i,n,n.type,n.pendingProps,o);case 15:return sw(i,n,n.type,n.pendingProps,o);case 19:return hw(i,n,o);case 22:return nw(i,n,o);case 24:return co(n),u=fi(Ie),i===null?(g=Ay(),g===null&&(g=ae,y=vy(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),n.memoizedState={parent:u,cache:g},Zy(n),Xa(n,Ie,g)):(i.lanes&o&&(Jy(i,n),vh(n,null,null,o),yh()),g=i.memoizedState,y=n.memoizedState,g.parent!==u?(g={parent:u,cache:u},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),Xa(n,Ie,u)):(u=y.cache,Xa(n,Ie,u),u!==g.cache&&Qy(n,[Ie],o,!0))),si(i,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Wy=Lt(null),lo=null,Un=null;function Xa(i,n,o){xt(Wy,n._currentValue),n._currentValue=o}function Gn(i){i._currentValue=Wy.current,qt(Wy)}function Ky(i,n,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),i===o)break;i=i.return}}function Qy(i,n,o,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;t:for(;y!==null;){var L=y;y=g;for(var N=0;N<n.length;N++)if(L.context===n[N]){y.lanes|=o,L=y.alternate,L!==null&&(L.lanes|=o),Ky(y.return,o,i),u||(w=null);break t}y=L.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Ky(w,o,i),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function gh(i,n,o,u){i=null;for(var g=n,y=!1;g!==null;){if(!y){if(g.flags&524288)y=!0;else if(g.flags&262144)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var L=g.type;Yi(g.pendingProps.value,w.value)||(i!==null?i.push(L):i=[L])}}else if(g===ce.current){if(w=g.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Oh):i=[Oh])}g=g.return}i!==null&&Qy(n,i,o,u),n.flags|=262144}function Mp(i){for(i=i.firstContext;i!==null;){if(!Yi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function co(i){lo=i,Un=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fi(i){return fw(lo,i)}function Dp(i,n){return lo===null&&co(i),fw(i,n)}function fw(i,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Un===null){if(i===null)throw Error(s(308));Un=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else Un=Un.next=n;return o}var Ya=!1;function Zy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jy(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $a(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Wa(i,n,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,pe&2){var g=u.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),u.pending=n,n=up(i),$S(i,null,o),n}return cp(i,u,n,o),up(i)}function mh(i,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194176)!==0)){var u=n.lanes;u&=i.pendingLanes,o|=u,n.lanes=o,iS(i,o)}}function t0(i,n){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?g=y=n:y=y.next=n}else g=y=n;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=n:i.next=n,o.lastBaseUpdate=n}var e0=!1;function yh(){if(e0){var i=Jl;if(i!==null)throw i}}function vh(i,n,o,u){e0=!1;var g=i.updateQueue;Ya=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var N=L,V=N.next;N.next=null,w===null?y=V:w.next=V,w=N;var K=i.alternate;K!==null&&(K=K.updateQueue,L=K.lastBaseUpdate,L!==w&&(L===null?K.firstBaseUpdate=V:L.next=V,K.lastBaseUpdate=N))}if(y!==null){var it=g.baseState;w=0,K=V=N=null,L=y;do{var X=L.lane&-536870913,$=X!==L.lane;if($?(Gt&X)===X:(u&X)===X){X!==0&&X===Zl&&(e0=!0),K!==null&&(K=K.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});t:{var gt=i,Rt=L;X=n;var xe=o;switch(Rt.tag){case 1:if(gt=Rt.payload,typeof gt=="function"){it=gt.call(xe,it,X);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Rt.payload,X=typeof gt=="function"?gt.call(xe,it,X):gt,X==null)break t;it=q({},it,X);break t;case 2:Ya=!0}}X=L.callback,X!==null&&(i.flags|=64,$&&(i.flags|=8192),$=g.callbacks,$===null?g.callbacks=[X]:$.push(X))}else $={lane:X,tag:L.tag,payload:L.payload,callback:L.callback,next:null},K===null?(V=K=$,N=it):K=K.next=$,w|=X;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;$=L,L=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);K===null&&(N=it),g.baseState=N,g.firstBaseUpdate=V,g.lastBaseUpdate=K,y===null&&(g.shared.lanes=0),tr|=w,i.lanes=w,i.memoizedState=it}}function pw(i,n){if(typeof i!="function")throw Error(s(191,i));i.call(n)}function gw(i,n){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)pw(o[i],n)}function bh(i,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==g)}}catch(L){se(n,n.return,L)}}function Ka(i,n,o){try{var u=n.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&i)===i){var w=u.inst,L=w.destroy;if(L!==void 0){w.destroy=void 0,g=n;var N=o;try{L()}catch(V){se(g,N,V)}}}u=u.next}while(u!==y)}}catch(V){se(n,n.return,V)}}function mw(i){var n=i.updateQueue;if(n!==null){var o=i.stateNode;try{gw(n,o)}catch(u){se(i,i.return,u)}}}function yw(i,n,o){o.props=oo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){se(i,n,u)}}function uo(i,n){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=u;break;default:g=u}typeof o=="function"?i.refCleanup=o(g):o.current=g}}catch(y){se(i,n,y)}}function $i(i,n){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){se(i,n,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){se(i,n,g)}else o.current=null}function vw(i){var n=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){se(i,i.return,g)}}function bw(i,n,o){try{var u=i.stateNode;_D(u,i.type,o,n),u[Ni]=n}catch(g){se(i,i.return,g)}}function Aw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function i0(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Aw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function s0(i,n,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(i,n):o.insertBefore(i,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(i,o)):(n=o,n.appendChild(i)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Gp));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(s0(i,n,o),i=i.sibling;i!==null;)s0(i,n,o),i=i.sibling}function Lp(i,n,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?o.insertBefore(i,n):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Lp(i,n,o),i=i.sibling;i!==null;)Lp(i,n,o),i=i.sibling}var qn=!1,Ae=!1,n0=!1,Sw=typeof WeakSet=="function"?WeakSet:Set,$e=null,xw=!1;function iD(i,n){if(i=i.containerInfo,P0=Qp,i=IS(i),ry(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var w=0,L=-1,N=-1,V=0,K=0,it=i,X=null;e:for(;;){for(var $;it!==o||g!==0&&it.nodeType!==3||(L=w+g),it!==y||u!==0&&it.nodeType!==3||(N=w+u),it.nodeType===3&&(w+=it.nodeValue.length),($=it.firstChild)!==null;)X=it,it=$;for(;;){if(it===i)break e;if(X===o&&++V===g&&(L=w),X===y&&++K===u&&(N=w),($=it.nextSibling)!==null)break;it=X,X=it.parentNode}it=$}o=L===-1||N===-1?null:{start:L,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(O0={focusedElem:i,selectionRange:o},Qp=!1,$e=n;$e!==null;)if(n=$e,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,$e=i;else for(;$e!==null;){switch(n=$e,y=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&y!==null){i=void 0,o=n,g=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var gt=oo(o.type,g,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(gt,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Rt){se(o,o.return,Rt)}}break;case 3:if(i&1024){if(i=n.stateNode.containerInfo,o=i.nodeType,o===9)H0(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":H0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=n.sibling,i!==null){i.return=n.return,$e=i;break}$e=n.return}return gt=xw,xw=!1,gt}function ww(i,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Yn(i,o),u&4&&bh(5,o);break;case 1:if(Yn(i,o),u&4)if(i=o.stateNode,n===null)try{i.componentDidMount()}catch(L){se(o,o.return,L)}else{var g=oo(o.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(g,n,i.__reactInternalSnapshotBeforeUpdate)}catch(L){se(o,o.return,L)}}u&64&&mw(o),u&512&&uo(o,o.return);break;case 3:if(Yn(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{gw(u,i)}catch(L){se(o,o.return,L)}}break;case 26:Yn(i,o),u&512&&uo(o,o.return);break;case 27:case 5:Yn(i,o),n===null&&u&4&&vw(o),u&512&&uo(o,o.return);break;case 12:Yn(i,o);break;case 13:Yn(i,o),u&4&&_w(i,o);break;case 22:if(g=o.memoizedState!==null||qn,!g){n=n!==null&&n.memoizedState!==null||Ae;var y=qn,w=Ae;qn=g,(Ae=n)&&!w?Qa(i,o,(o.subtreeFlags&8772)!==0):Yn(i,o),qn=y,Ae=w}u&512&&(o.memoizedProps.mode==="manual"?uo(o,o.return):$i(o,o.return));break;default:Yn(i,o)}}function Ew(i){var n=i.alternate;n!==null&&(i.alternate=null,Ew(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&Gm(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Oe=null,Wi=!1;function Xn(i,n,o){for(o=o.child;o!==null;)Tw(i,n,o),o=o.sibling}function Tw(i,n,o){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(Vu,o)}catch{}switch(o.tag){case 26:Ae||$i(o,n),Xn(i,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ae||$i(o,n);var u=Oe,g=Wi;for(Oe=o.stateNode,Xn(i,n,o),o=o.stateNode,n=o.attributes;n.length;)o.removeAttributeNode(n[0]);Gm(o),Oe=u,Wi=g;break;case 5:Ae||$i(o,n);case 6:g=Oe;var y=Wi;if(Oe=null,Xn(i,n,o),Oe=g,Wi=y,Oe!==null)if(Wi)try{i=Oe,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(w){se(o,n,w)}else try{Oe.removeChild(o.stateNode)}catch(w){se(o,n,w)}break;case 18:Oe!==null&&(Wi?(n=Oe,o=o.stateNode,n.nodeType===8?F0(n.parentNode,o):n.nodeType===1&&F0(n,o),Hh(n)):F0(Oe,o.stateNode));break;case 4:u=Oe,g=Wi,Oe=o.stateNode.containerInfo,Wi=!0,Xn(i,n,o),Oe=u,Wi=g;break;case 0:case 11:case 14:case 15:Ae||Ka(2,o,n),Ae||Ka(4,o,n),Xn(i,n,o);break;case 1:Ae||($i(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&yw(o,n,u)),Xn(i,n,o);break;case 21:Xn(i,n,o);break;case 22:Ae||$i(o,n),Ae=(u=Ae)||o.memoizedState!==null,Xn(i,n,o),Ae=u;break;default:Xn(i,n,o)}}function _w(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Hh(i)}catch(o){se(n,n.return,o)}}function sD(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new Sw),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new Sw),n;default:throw Error(s(435,i.tag))}}function a0(i,n){var o=sD(i);n.forEach(function(u){var g=mD.bind(null,i,u);o.has(u)||(o.add(u),u.then(g,g))})}function As(i,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],y=i,w=n,L=w;t:for(;L!==null;){switch(L.tag){case 27:case 5:Oe=L.stateNode,Wi=!1;break t;case 3:Oe=L.stateNode.containerInfo,Wi=!0;break t;case 4:Oe=L.stateNode.containerInfo,Wi=!0;break t}L=L.return}if(Oe===null)throw Error(s(160));Tw(y,w,g),Oe=null,Wi=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Cw(n,i),n=n.sibling}var js=null;function Cw(i,n){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:As(n,i),Ss(i),u&4&&(Ka(3,i,i.return),bh(3,i),Ka(5,i,i.return));break;case 1:As(n,i),Ss(i),u&512&&(Ae||o===null||$i(o,o.return)),u&64&&qn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=js;if(As(n,i),Ss(i),u&512&&(Ae||o===null||$i(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[qu]||y[di]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),ni(y,u,o),y[di]=i,Xe(y),u=y;break t;case"link":var w=v1("link","href",g).get(u+(o.href||""));if(w){for(var L=0;L<w.length;L++)if(y=w[L],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(L,1);break e}}y=g.createElement(u),ni(y,u,o),g.head.appendChild(y);break;case"meta":if(w=v1("meta","content",g).get(u+(o.content||""))){for(L=0;L<w.length;L++)if(y=w[L],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(L,1);break e}}y=g.createElement(u),ni(y,u,o),g.head.appendChild(y);break;default:throw Error(s(468,u))}y[di]=i,Xe(y),u=y}i.stateNode=u}else b1(g,i.type,i.stateNode);else i.stateNode=y1(g,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?b1(g,i.type,i.stateNode):y1(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&bw(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){g=i.stateNode,y=i.memoizedProps;try{for(var N=g.firstChild;N;){var V=N.nextSibling,K=N.nodeName;N[qu]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&N.rel.toLowerCase()==="stylesheet"||g.removeChild(N),N=V}for(var it=i.type,X=g.attributes;X.length;)g.removeAttributeNode(X[0]);ni(g,it,y),g[di]=i,g[Ni]=y}catch(gt){se(i,i.return,gt)}}case 5:if(As(n,i),Ss(i),u&512&&(Ae||o===null||$i(o,o.return)),i.flags&32){g=i.stateNode;try{jl(g,"")}catch(gt){se(i,i.return,gt)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,bw(i,g,o!==null?o.memoizedProps:g)),u&1024&&(n0=!0);break;case 6:if(As(n,i),Ss(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(gt){se(i,i.return,gt)}}break;case 3:if($p=null,g=js,js=Xp(n.containerInfo),As(n,i),js=g,Ss(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Hh(n.containerInfo)}catch(gt){se(i,i.return,gt)}n0&&(n0=!1,Rw(i));break;case 4:u=js,js=Xp(i.stateNode.containerInfo),As(n,i),Ss(i),js=u;break;case 12:As(n,i),Ss(i);break;case 13:As(n,i),Ss(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(p0=ds()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,a0(i,u)));break;case 22:if(u&512&&(Ae||o===null||$i(o,o.return)),N=i.memoizedState!==null,V=o!==null&&o.memoizedState!==null,K=qn,it=Ae,qn=K||N,Ae=it||V,As(n,i),Ae=it,qn=K,Ss(i),n=i.stateNode,n._current=i,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,u&8192&&(n._visibility=N?n._visibility&-2:n._visibility|1,N&&(n=qn||Ae,o===null||V||n||sc(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(o=null,n=i;;){if(n.tag===5||n.tag===26||n.tag===27){if(o===null){V=o=n;try{if(g=V.stateNode,N)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=V.stateNode,L=V.memoizedProps.style;var $=L!=null&&L.hasOwnProperty("display")?L.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(gt){se(V,V.return,gt)}}}else if(n.tag===6){if(o===null){V=n;try{V.stateNode.nodeValue=N?"":V.memoizedProps}catch(gt){se(V,V.return,gt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,a0(i,o))));break;case 19:As(n,i),Ss(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,a0(i,u)));break;case 21:break;default:As(n,i),Ss(i)}}function Ss(i){var n=i.flags;if(n&2){try{if(i.tag!==27){t:{for(var o=i.return;o!==null;){if(Aw(o)){var u=o;break t}o=o.return}throw Error(s(160))}switch(u.tag){case 27:var g=u.stateNode,y=i0(i);Lp(i,y,g);break;case 5:var w=u.stateNode;u.flags&32&&(jl(w,""),u.flags&=-33);var L=i0(i);Lp(i,L,w);break;case 3:case 4:var N=u.stateNode.containerInfo,V=i0(i);s0(i,V,N);break;default:throw Error(s(161))}}}catch(K){se(i,i.return,K)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function Rw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;Rw(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function Yn(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ww(i,n.alternate,n),n=n.sibling}function sc(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:Ka(4,n,n.return),sc(n);break;case 1:$i(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&yw(n,n.return,o),sc(n);break;case 26:case 27:case 5:$i(n,n.return),sc(n);break;case 22:$i(n,n.return),n.memoizedState===null&&sc(n);break;default:sc(n)}i=i.sibling}}function Qa(i,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,g=i,y=n,w=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(g,y,o),bh(4,y);break;case 1:if(Qa(g,y,o),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){se(u,u.return,V)}if(u=y,g=u.updateQueue,g!==null){var L=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)pw(N[g],L)}catch(V){se(u,u.return,V)}}o&&w&64&&mw(y),uo(y,y.return);break;case 26:case 27:case 5:Qa(g,y,o),o&&u===null&&w&4&&vw(y),uo(y,y.return);break;case 12:Qa(g,y,o);break;case 13:Qa(g,y,o),o&&w&4&&_w(g,y);break;case 22:y.memoizedState===null&&Qa(g,y,o),uo(y,y.return);break;default:Qa(g,y,o)}n=n.sibling}}function r0(i,n){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ch(o))}function o0(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&ch(i))}function Za(i,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mw(i,n,o,u),n=n.sibling}function Mw(i,n,o,u){var g=n.flags;switch(n.tag){case 0:case 11:case 15:Za(i,n,o,u),g&2048&&bh(9,n);break;case 3:Za(i,n,o,u),g&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&ch(i)));break;case 12:if(g&2048){Za(i,n,o,u),i=n.stateNode;try{var y=n.memoizedProps,w=y.id,L=y.onPostCommit;typeof L=="function"&&L(w,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){se(n,n.return,N)}}else Za(i,n,o,u);break;case 23:break;case 22:y=n.stateNode,n.memoizedState!==null?y._visibility&4?Za(i,n,o,u):Ah(i,n):y._visibility&4?Za(i,n,o,u):(y._visibility|=4,nc(i,n,o,u,(n.subtreeFlags&10256)!==0)),g&2048&&r0(n.alternate,n);break;case 24:Za(i,n,o,u),g&2048&&o0(n.alternate,n);break;default:Za(i,n,o,u)}}function nc(i,n,o,u,g){for(g=g&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=i,w=n,L=o,N=u,V=w.flags;switch(w.tag){case 0:case 11:case 15:nc(y,w,L,N,g),bh(8,w);break;case 23:break;case 22:var K=w.stateNode;w.memoizedState!==null?K._visibility&4?nc(y,w,L,N,g):Ah(y,w):(K._visibility|=4,nc(y,w,L,N,g)),g&&V&2048&&r0(w.alternate,w);break;case 24:nc(y,w,L,N,g),g&&V&2048&&o0(w.alternate,w);break;default:nc(y,w,L,N,g)}n=n.sibling}}function Ah(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=i,u=n,g=u.flags;switch(u.tag){case 22:Ah(o,u),g&2048&&r0(u.alternate,u);break;case 24:Ah(o,u),g&2048&&o0(u.alternate,u);break;default:Ah(o,u)}n=n.sibling}}var Sh=8192;function ac(i){if(i.subtreeFlags&Sh)for(i=i.child;i!==null;)Dw(i),i=i.sibling}function Dw(i){switch(i.tag){case 26:ac(i),i.flags&Sh&&i.memoizedState!==null&&qD(js,i.memoizedState,i.memoizedProps);break;case 5:ac(i);break;case 3:case 4:var n=js;js=Xp(i.stateNode.containerInfo),ac(i),js=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=Sh,Sh=16777216,ac(i),Sh=n):ac(i));break;default:ac(i)}}function Lw(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function xh(i){var n=i.deletions;if(i.flags&16){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];$e=u,Ow(u,i)}Lw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pw(i),i=i.sibling}function Pw(i){switch(i.tag){case 0:case 11:case 15:xh(i),i.flags&2048&&Ka(9,i,i.return);break;case 3:xh(i);break;case 12:xh(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&4&&(i.return===null||i.return.tag!==13)?(n._visibility&=-5,Pp(i)):xh(i);break;default:xh(i)}}function Pp(i){var n=i.deletions;if(i.flags&16){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];$e=u,Ow(u,i)}Lw(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:Ka(8,n,n.return),Pp(n);break;case 22:o=n.stateNode,o._visibility&4&&(o._visibility&=-5,Pp(n));break;default:Pp(n)}i=i.sibling}}function Ow(i,n){for(;$e!==null;){var o=$e;switch(o.tag){case 0:case 11:case 15:Ka(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ch(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$e=u;else t:for(o=i;$e!==null;){u=$e;var g=u.sibling,y=u.return;if(Ew(u),u===o){$e=null;break t}if(g!==null){g.return=y,$e=g;break t}$e=y}}}function nD(i,n,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(i,n,o,u){return new nD(i,n,o,u)}function l0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ja(i,n){var o=i.alternate;return o===null?(o=xs(i.tag,n,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=n,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function kw(i,n){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function Op(i,n,o,u,g,y){var w=0;if(u=i,typeof i=="function")l0(i)&&(w=1);else if(typeof i=="string")w=UD(i,o,hi.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case f:return ho(o.children,g,y,n);case p:w=8,g|=24;break;case m:return i=xs(12,o,n,g|2),i.elementType=m,i.lanes=y,i;case C:return i=xs(13,o,n,g),i.elementType=C,i.lanes=y,i;case P:return i=xs(19,o,n,g),i.elementType=P,i.lanes=y,i;case O:return Nw(o,g,y,n);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case x:w=10;break t;case b:w=9;break t;case E:w=11;break t;case D:w=14;break t;case H:w=16,u=null;break t}w=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return n=xs(w,o,n,g),n.elementType=i,n.type=u,n.lanes=y,n}function ho(i,n,o,u){return i=xs(7,i,u,n),i.lanes=o,i}function Nw(i,n,o,u){i=xs(22,i,u,n),i.elementType=O,i.lanes=o;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=g._current;if(y===null)throw Error(s(456));if(!(g._pendingVisibility&2)){var w=za(y,2);w!==null&&(g._pendingVisibility|=2,_i(w,y,2))}},attach:function(){var y=g._current;if(y===null)throw Error(s(456));if(g._pendingVisibility&2){var w=za(y,2);w!==null&&(g._pendingVisibility&=-3,_i(w,y,2))}}};return i.stateNode=g,i}function c0(i,n,o){return i=xs(6,i,null,n),i.lanes=o,i}function u0(i,n,o){return n=xs(4,i.children!==null?i.children:[],i.key,n),n.lanes=o,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}function $n(i){i.flags|=4}function Fw(i,n){if(n.type!=="stylesheet"||n.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!A1(n)){if(n=bs.current,n!==null&&((Gt&4194176)===Gt?cn!==null:(Gt&62914560)!==Gt&&!(Gt&536870912)||n!==cn))throw rh=gy,JS;i.flags|=8192}}function kp(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?tS():536870912,i.lanes|=n,oc|=n)}function wh(i,n){if(!Xt)switch(i.tailMode){case"hidden":n=i.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function fe(i){var n=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(n)for(var g=i.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&31457280,u|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=o,n}function aD(i,n,o){var u=n.pendingProps;switch(fy(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return o=n.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Gn(Ie),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ih(n)?$n(n):i===null||i.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Is!==null&&(v0(Is),Is=null))),fe(n),null;case 26:return o=n.memoizedState,i===null?($n(n),o!==null?(fe(n),Fw(n,o)):(fe(n),n.flags&=-16777217)):o?o!==i.memoizedState?($n(n),fe(n),Fw(n,o)):(fe(n),n.flags&=-16777217):(i.memoizedProps!==u&&$n(n),fe(n),n.flags&=-16777217),null;case 27:on(n),o=zt.current;var g=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==u&&$n(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return fe(n),null}i=hi.current,ih(n)?QS(n):(i=d1(g,u,o),n.stateNode=i,$n(n))}return fe(n),null;case 5:if(on(n),o=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==u&&$n(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return fe(n),null}if(i=hi.current,ih(n))QS(n);else{switch(g=qp(zt.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?g.createElement(o,{is:u.is}):g.createElement(o)}}i[di]=n,i[Ni]=u;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=i;t:switch(ni(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&$n(n)}}return fe(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==u&&$n(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(i=zt.current,ih(n)){if(i=n.stateNode,o=n.memoizedProps,u=null,g=Ti,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[di]=n,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||r1(i.nodeValue,o)),i||eo(n)}else i=qp(i).createTextNode(u),i[di]=n,n.stateNode=i}return fe(n),null;case 13:if(u=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=ih(n),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[di]=n}else sh(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;fe(n),g=!1}else Is!==null&&(v0(Is),Is=null),g=!0;if(!g)return n.flags&256?(jn(n),n):(jn(n),null)}if(jn(n),n.flags&128)return n.lanes=o,n;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=n.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)}return o!==i&&o&&(n.child.flags|=8192),kp(n,n.updateQueue),fe(n),null;case 4:return ue(),i===null&&M0(n.stateNode.containerInfo),fe(n),null;case 10:return Gn(n.type),fe(n),null;case 19:if(qt(Be),g=n.memoizedState,g===null)return fe(n),null;if(u=(n.flags&128)!==0,y=g.rendering,y===null)if(u)wh(g,!1);else{if(Se!==0||i!==null&&i.flags&128)for(i=n.child;i!==null;){if(y=yp(i),y!==null){for(n.flags|=128,wh(g,!1),i=y.updateQueue,n.updateQueue=i,kp(n,i),n.subtreeFlags=0,i=o,o=n.child;o!==null;)kw(o,i),o=o.sibling;return xt(Be,Be.current&1|2),n.child}i=i.sibling}g.tail!==null&&ds()>Np&&(n.flags|=128,u=!0,wh(g,!1),n.lanes=4194304)}else{if(!u)if(i=yp(y),i!==null){if(n.flags|=128,u=!0,i=i.updateQueue,n.updateQueue=i,kp(n,i),wh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Xt)return fe(n),null}else 2*ds()-g.renderingStartTime>Np&&o!==536870912&&(n.flags|=128,u=!0,wh(g,!1),n.lanes=4194304);g.isBackwards?(y.sibling=n.child,n.child=y):(i=g.last,i!==null?i.sibling=y:n.child=y,g.last=y)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=ds(),n.sibling=null,i=Be.current,xt(Be,u?i&1|2:i&1),n):(fe(n),null);case 22:case 23:return jn(n),yy(),u=n.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?o&536870912&&!(n.flags&128)&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),o=n.updateQueue,o!==null&&kp(n,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),i!==null&&qt(so),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gn(Ie),fe(n),null;case 25:return null}throw Error(s(156,n.tag))}function rD(i,n){switch(fy(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return Gn(Ie),ue(),i=n.flags,i&65536&&!(i&128)?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return on(n),null;case 13:if(jn(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sh()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return qt(Be),null;case 4:return ue(),null;case 10:return Gn(n.type),null;case 22:case 23:return jn(n),yy(),i!==null&&qt(so),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return Gn(Ie),null;case 25:return null;default:return null}}function Hw(i,n){switch(fy(n),n.tag){case 3:Gn(Ie),ue();break;case 26:case 27:case 5:on(n);break;case 4:ue();break;case 13:jn(n);break;case 19:qt(Be);break;case 10:Gn(n.type);break;case 22:case 23:jn(n),yy(),i!==null&&qt(so);break;case 24:Gn(Ie)}}var oD={getCacheForType:function(i){var n=fi(Ie),o=n.data.get(i);return o===void 0&&(o=i(),n.data.set(i,o)),o}},lD=typeof WeakMap=="function"?WeakMap:Map,pe=0,ae=null,It=null,Gt=0,re=0,Ki=null,Wn=!1,rc=!1,h0=!1,Kn=0,Se=0,tr=0,fo=0,d0=0,ws=0,oc=0,Eh=null,hn=null,f0=!1,p0=0,Np=1/0,Fp=null,er=null,Hp=!1,po=null,Th=0,g0=0,m0=null,_h=0,y0=null;function Qi(){if(pe&2&&Gt!==0)return Gt&-Gt;if(B.T!==null){var i=Zl;return i!==0?i:T0()}return nS()}function Bw(){ws===0&&(ws=!(Gt&536870912)||Xt?JA():536870912);var i=bs.current;return i!==null&&(i.flags|=32),ws}function _i(i,n,o){(i===ae&&re===2||i.cancelPendingCommit!==null)&&(lc(i,0),Qn(i,Gt,ws,!1)),Gu(i,o),(!(pe&2)||i!==ae)&&(i===ae&&(!(pe&2)&&(fo|=o),Se===4&&Qn(i,Gt,ws,!1)),dn(i))}function Iw(i,n,o){if(pe&6)throw Error(s(327));var u=!o&&(n&60)===0&&(n&i.expiredLanes)===0||Uu(i,n),g=u?hD(i,n):S0(i,n,!0),y=u;do{if(g===0){rc&&!u&&Qn(i,n,0,!1);break}else if(g===6)Qn(i,n,0,!Wn);else{if(o=i.current.alternate,y&&!cD(o)){g=S0(i,n,!1),y=!1;continue}if(g===2){if(y=n,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;t:{var L=i;g=Eh;var N=L.current.memoizedState.isDehydrated;if(N&&(lc(L,w).flags|=256),w=S0(L,w,!1),w!==2){if(h0&&!N){L.errorRecoveryDisabledLanes|=y,fo|=y,g=4;break t}y=hn,hn=g,y!==null&&v0(y)}g=w}if(y=!1,g!==2)continue}}if(g===1){lc(i,0),Qn(i,n,0,!0);break}t:{switch(u=i,g){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Qn(u,n,ws,!Wn);break t}break;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=o,u.finishedLanes=n,(n&62914560)===n&&(y=p0+300-ds(),10<y)){if(Qn(u,n,ws,!Wn),Kf(u,0)!==0)break t;u.timeoutHandle=c1(jw.bind(null,u,o,hn,Fp,f0,n,ws,fo,oc,Wn,2,-0,0),y);break t}jw(u,o,hn,Fp,f0,n,ws,fo,oc,Wn,0,-0,0)}}break}while(!0);dn(i)}function v0(i){hn===null?hn=i:hn.push.apply(hn,i)}function jw(i,n,o,u,g,y,w,L,N,V,K,it,X){var $=n.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(Ph={stylesheets:null,count:0,unsuspend:GD},Dw(n),n=XD(),n!==null)){i.cancelPendingCommit=n(Yw.bind(null,i,o,u,g,w,L,N,1,it,X)),Qn(i,y,w,!V);return}Yw(i,o,u,g,w,L,N,K,it,X)}function cD(i){for(var n=i;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],y=g.getSnapshot;g=g.value;try{if(!Yi(y(),g))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qn(i,n,o,u){n&=~d0,n&=~fo,i.suspendedLanes|=n,i.pingedLanes&=~n,u&&(i.warmLanes|=n),u=i.expirationTimes;for(var g=n;0<g;){var y=31-Xi(g),w=1<<y;u[y]=-1,g&=~w}o!==0&&eS(i,o,n)}function Bp(){return pe&6?!0:(Ch(0),!1)}function b0(){if(It!==null){if(re===0)var i=It.return;else i=It,Un=lo=null,Ty(i),Kl=null,oh=0,i=It;for(;i!==null;)Hw(i.alternate,i),i=i.return;It=null}}function lc(i,n){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,RD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),b0(),ae=i,It=o=Ja(i.current,null),Gt=n,re=0,Ki=null,Wn=!1,rc=Uu(i,n),h0=!1,oc=ws=d0=fo=tr=Se=0,hn=Eh=null,f0=!1,n&8&&(n|=n&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=n;0<u;){var g=31-Xi(u),y=1<<g;n|=i[g],u&=~y}return Kn=n,lp(),o}function zw(i,n){Nt=null,B.H=un,n===ah?(n=ix(),re=3):n===JS?(n=ix(),re=4):re=n===tw?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ki=n,It===null&&(Se=1,Rp(i,ms(n,i.current)))}function Vw(){var i=B.H;return B.H=un,i===null?un:i}function Uw(){var i=B.A;return B.A=oD,i}function A0(){Se=4,Wn||(Gt&4194176)!==Gt&&bs.current!==null||(rc=!0),!(tr&134217727)&&!(fo&134217727)||ae===null||Qn(ae,Gt,ws,!1)}function S0(i,n,o){var u=pe;pe|=2;var g=Vw(),y=Uw();(ae!==i||Gt!==n)&&(Fp=null,lc(i,n)),n=!1;var w=Se;t:do try{if(re!==0&&It!==null){var L=It,N=Ki;switch(re){case 8:b0(),w=6;break t;case 3:case 2:case 6:bs.current===null&&(n=!0);var V=re;if(re=0,Ki=null,cc(i,L,N,V),o&&rc){w=0;break t}break;default:V=re,re=0,Ki=null,cc(i,L,N,V)}}uD(),w=Se;break}catch(K){zw(i,K)}while(!0);return n&&i.shellSuspendCounter++,Un=lo=null,pe=u,B.H=g,B.A=y,It===null&&(ae=null,Gt=0,lp()),w}function uD(){for(;It!==null;)Gw(It)}function hD(i,n){var o=pe;pe|=2;var u=Vw(),g=Uw();ae!==i||Gt!==n?(Fp=null,Np=ds()+500,lc(i,n)):rc=Uu(i,n);t:do try{if(re!==0&&It!==null){n=It;var y=Ki;e:switch(re){case 1:re=0,Ki=null,cc(i,n,y,1);break;case 2:if(tx(y)){re=0,Ki=null,qw(n);break}n=function(){re===2&&ae===i&&(re=7),dn(i)},y.then(n,n);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:tx(y)?(re=0,Ki=null,qw(n)):(re=0,Ki=null,cc(i,n,y,7));break;case 5:var w=null;switch(It.tag){case 26:w=It.memoizedState;case 5:case 27:var L=It;if(!w||A1(w)){re=0,Ki=null;var N=L.sibling;if(N!==null)It=N;else{var V=L.return;V!==null?(It=V,Ip(V)):It=null}break e}}re=0,Ki=null,cc(i,n,y,5);break;case 6:re=0,Ki=null,cc(i,n,y,6);break;case 8:b0(),Se=6;break t;default:throw Error(s(462))}}dD();break}catch(K){zw(i,K)}while(!0);return Un=lo=null,B.H=u,B.A=g,pe=o,It!==null?0:(ae=null,Gt=0,lp(),Se)}function dD(){for(;It!==null&&!Im();)Gw(It)}function Gw(i){var n=dw(i.alternate,i,Kn);i.memoizedProps=i.pendingProps,n===null?Ip(i):It=n}function qw(i){var n=i,o=n.alternate;switch(n.tag){case 15:case 0:n=rw(o,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=rw(o,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:Ty(n);default:Hw(o,n),n=It=kw(n,Kn),n=dw(o,n,Kn)}i.memoizedProps=i.pendingProps,n===null?Ip(i):It=n}function cc(i,n,o,u){Un=lo=null,Ty(n),Kl=null,oh=0;var g=n.return;try{if(tD(i,g,n,o,Gt)){Se=1,Rp(i,ms(o,i.current)),It=null;return}}catch(y){if(g!==null)throw It=g,y;Se=1,Rp(i,ms(o,i.current)),It=null;return}n.flags&32768?(Xt||u===1?i=!0:rc||Gt&536870912?i=!1:(Wn=i=!0,(u===2||u===3||u===6)&&(u=bs.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xw(n,i)):Ip(n)}function Ip(i){var n=i;do{if(n.flags&32768){Xw(n,Wn);return}i=n.return;var o=aD(n.alternate,n,Kn);if(o!==null){It=o;return}if(n=n.sibling,n!==null){It=n;return}It=n=i}while(n!==null);Se===0&&(Se=5)}function Xw(i,n){do{var o=rD(i.alternate,i);if(o!==null){o.flags&=32767,It=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(i=i.sibling,i!==null)){It=i;return}It=i=o}while(i!==null);Se=6,It=null}function Yw(i,n,o,u,g,y,w,L,N,V){var K=B.T,it=st.p;try{st.p=2,B.T=null,fD(i,n,o,u,it,g,y,w,L,N,V)}finally{B.T=K,st.p=it}}function fD(i,n,o,u,g,y,w,L){do uc();while(po!==null);if(pe&6)throw Error(s(327));var N=i.finishedWork;if(u=i.finishedLanes,N===null)return null;if(i.finishedWork=null,i.finishedLanes=0,N===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var V=N.lanes|N.childLanes;if(V|=uy,qM(i,u,V,y,w,L),i===ae&&(It=ae=null,Gt=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||Hp||(Hp=!0,g0=V,m0=o,yD(Nn,function(){return uc(),null})),o=(N.flags&15990)!==0,N.subtreeFlags&15990||o?(o=B.T,B.T=null,y=st.p,st.p=2,w=pe,pe|=4,iD(i,N),Cw(N,i),H2(O0,i.containerInfo),Qp=!!P0,O0=P0=null,i.current=N,ww(i,N.alternate,N),jm(),pe=w,st.p=y,B.T=o):i.current=N,Hp?(Hp=!1,po=i,Th=u):$w(i,V),V=i.pendingLanes,V===0&&(er=null),jM(N.stateNode),dn(i),n!==null)for(g=i.onRecoverableError,N=0;N<n.length;N++)V=n[N],g(V.value,{componentStack:V.stack});return Th&3&&uc(),V=i.pendingLanes,u&4194218&&V&42?i===y0?_h++:(_h=0,y0=i):_h=0,Ch(0),null}function $w(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,ch(n)))}function uc(){if(po!==null){var i=po,n=g0;g0=0;var o=sS(Th),u=B.T,g=st.p;try{if(st.p=32>o?32:o,B.T=null,po===null)var y=!1;else{o=m0,m0=null;var w=po,L=Th;if(po=null,Th=0,pe&6)throw Error(s(331));var N=pe;if(pe|=4,Pw(w.current),Mw(w,w.current,L,o),pe=N,Ch(0,!1),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(Vu,w)}catch{}y=!0}return y}finally{st.p=g,B.T=u,$w(i,n)}}return!1}function Ww(i,n,o){n=ms(o,n),n=Iy(i.stateNode,n,2),i=Wa(i,n,2),i!==null&&(Gu(i,2),dn(i))}function se(i,n,o){if(i.tag===3)Ww(i,i,o);else for(;n!==null;){if(n.tag===3){Ww(n,i,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(er===null||!er.has(u))){i=ms(o,i),o=Zx(2),u=Wa(n,o,2),u!==null&&(Jx(o,u,n,i),Gu(u,2),dn(u));break}}n=n.return}}function x0(i,n,o){var u=i.pingCache;if(u===null){u=i.pingCache=new lD;var g=new Set;u.set(n,g)}else g=u.get(n),g===void 0&&(g=new Set,u.set(n,g));g.has(o)||(h0=!0,g.add(o),i=pD.bind(null,i,n,o),n.then(i,i))}function pD(i,n,o){var u=i.pingCache;u!==null&&u.delete(n),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ae===i&&(Gt&o)===o&&(Se===4||Se===3&&(Gt&62914560)===Gt&&300>ds()-p0?!(pe&2)&&lc(i,0):d0|=o,oc===Gt&&(oc=0)),dn(i)}function Kw(i,n){n===0&&(n=tS()),i=za(i,n),i!==null&&(Gu(i,n),dn(i))}function gD(i){var n=i.memoizedState,o=0;n!==null&&(o=n.retryLane),Kw(i,o)}function mD(i,n){var o=0;switch(i.tag){case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(n),Kw(i,o)}function yD(i,n){return zu(i,n)}var jp=null,hc=null,w0=!1,zp=!1,E0=!1,go=0;function dn(i){i!==hc&&i.next===null&&(hc===null?jp=hc=i:hc=hc.next=i),zp=!0,w0||(w0=!0,bD(vD))}function Ch(i,n){if(!E0&&zp){E0=!0;do for(var o=!1,u=jp;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var w=u.suspendedLanes,L=u.pingedLanes;y=(1<<31-Xi(42|i)+1)-1,y&=g&~(w&~L),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,Jw(u,y))}else y=Gt,y=Kf(u,u===ae?y:0),!(y&3)||Uu(u,y)||(o=!0,Jw(u,y));u=u.next}while(o);E0=!1}}function vD(){zp=w0=!1;var i=0;go!==0&&(CD()&&(i=go),go=0);for(var n=ds(),o=null,u=jp;u!==null;){var g=u.next,y=Qw(u,n);y===0?(u.next=null,o===null?jp=g:o.next=g,g===null&&(hc=o)):(o=u,(i!==0||y&3)&&(zp=!0)),u=g}Ch(i)}function Qw(i,n){for(var o=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Xi(y),L=1<<w,N=g[w];N===-1?(!(L&o)||L&u)&&(g[w]=GM(L,n)):N<=n&&(i.expiredLanes|=L),y&=~L}if(n=ae,o=Gt,o=Kf(i,i===n?o:0),u=i.callbackNode,o===0||i===n&&re===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ha(u),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||Uu(i,o)){if(n=o&-o,n===i.callbackPriority)return n;switch(u!==null&&Ha(u),sS(o)){case 2:case 8:o=kn;break;case 32:o=Nn;break;case 268435456:o=kl;break;default:o=Nn}return u=Zw.bind(null,i),o=zu(o,u),i.callbackPriority=n,i.callbackNode=o,n}return u!==null&&u!==null&&Ha(u),i.callbackPriority=2,i.callbackNode=null,2}function Zw(i,n){var o=i.callbackNode;if(uc()&&i.callbackNode!==o)return null;var u=Gt;return u=Kf(i,i===ae?u:0),u===0?null:(Iw(i,u,n),Qw(i,ds()),i.callbackNode!=null&&i.callbackNode===o?Zw.bind(null,i):null)}function Jw(i,n){if(uc())return null;Iw(i,n,!0)}function bD(i){MD(function(){pe&6?zu(Yf,i):i()})}function T0(){return go===0&&(go=JA()),go}function t1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ep(""+i)}function e1(i,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,i.id&&o.setAttribute("form",i.id),n.parentNode.insertBefore(o,n),i=new FormData(i),o.parentNode.removeChild(o),i}function AD(i,n,o,u,g){if(n==="submit"&&o&&o.stateNode===g){var y=t1((g[Ni]||null).action),w=u.submitter;w&&(n=(n=w[Ni]||null)?t1(n.formAction):w.getAttribute("formAction"),n!==null&&(y=n,w=null));var L=new ap("action","action",null,u,g);i.push({event:L,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(go!==0){var N=w?e1(g,w):new FormData(g);ky(o,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(L.preventDefault(),N=w?e1(g,w):new FormData(g),ky(o,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var _0=0;_0<YS.length;_0++){var C0=YS[_0],SD=C0.toLowerCase(),xD=C0[0].toUpperCase()+C0.slice(1);Bs(SD,"on"+xD)}Bs(VS,"onAnimationEnd"),Bs(US,"onAnimationIteration"),Bs(GS,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(I2,"onTransitionRun"),Bs(j2,"onTransitionStart"),Bs(z2,"onTransitionCancel"),Bs(qS,"onTransitionEnd"),Bl("onMouseEnter",["mouseout","mouseover"]),Bl("onMouseLeave",["mouseout","mouseover"]),Bl("onPointerEnter",["pointerout","pointerover"]),Bl("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rh));function i1(i,n){n=(n&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],g=u.event;u=u.listeners;t:{var y=void 0;if(n)for(var w=u.length-1;0<=w;w--){var L=u[w],N=L.instance,V=L.currentTarget;if(L=L.listener,N!==y&&g.isPropagationStopped())break t;y=L,g.currentTarget=V;try{y(g)}catch(K){Cp(K)}g.currentTarget=null,y=N}else for(w=0;w<u.length;w++){if(L=u[w],N=L.instance,V=L.currentTarget,L=L.listener,N!==y&&g.isPropagationStopped())break t;y=L,g.currentTarget=V;try{y(g)}catch(K){Cp(K)}g.currentTarget=null,y=N}}}}function Vt(i,n){var o=n[Um];o===void 0&&(o=n[Um]=new Set);var u=i+"__bubble";o.has(u)||(s1(n,i,2,!1),o.add(u))}function R0(i,n,o){var u=0;n&&(u|=4),s1(o,i,u,n)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function M0(i){if(!i[Vp]){i[Vp]=!0,rS.forEach(function(o){o!=="selectionchange"&&(wD.has(o)||R0(o,!1,i),R0(o,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[Vp]||(n[Vp]=!0,R0("selectionchange",!1,n))}}function s1(i,n,o,u){switch(_1(n)){case 2:var g=WD;break;case 8:g=KD;break;default:g=V0}o=g.bind(null,n,o,i),g=void 0,!Qm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(n,o,{capture:!0,passive:g}):i.addEventListener(n,o,!0):g!==void 0?i.addEventListener(n,o,{passive:g}):i.addEventListener(n,o,!1)}function D0(i,n,o,u,g){var y=u;if(!(n&1)&&!(n&2)&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var L=u.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(w===4)for(w=u.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===g||N.nodeType===8&&N.parentNode===g))return;w=w.return}for(;L!==null;){if(w=$r(L),w===null)return;if(N=w.tag,N===5||N===6||N===26||N===27){u=y=w;continue t}L=L.parentNode}}u=u.return}vS(function(){var V=y,K=Wm(o),it=[];t:{var X=XS.get(i);if(X!==void 0){var $=ap,gt=i;switch(i){case"keypress":if(sp(o)===0)break t;case"keydown":case"keyup":$=m2;break;case"focusin":gt="focus",$=ey;break;case"focusout":gt="blur",$=ey;break;case"beforeblur":case"afterblur":$=ey;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=SS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=n2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=b2;break;case VS:case US:case GS:$=o2;break;case qS:$=S2;break;case"scroll":case"scrollend":$=i2;break;case"wheel":$=w2;break;case"copy":case"cut":case"paste":$=c2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=wS;break;case"toggle":case"beforetoggle":$=T2}var Rt=(n&4)!==0,xe=!Rt&&(i==="scroll"||i==="scrollend"),U=Rt?X!==null?X+"Capture":null:X;Rt=[];for(var z=V,G;z!==null;){var J=z;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||U===null||(J=Yu(z,U),J!=null&&Rt.push(Mh(z,J,G))),xe)break;z=z.return}0<Rt.length&&(X=new $(X,gt,null,o,K),it.push({event:X,listeners:Rt}))}}if(!(n&7)){t:{if(X=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",X&&o!==$m&&(gt=o.relatedTarget||o.fromElement)&&($r(gt)||gt[Nl]))break t;if(($||X)&&(X=K.window===K?K:(X=K.ownerDocument)?X.defaultView||X.parentWindow:window,$?(gt=o.relatedTarget||o.toElement,$=V,gt=gt?$r(gt):null,gt!==null&&(xe=tt(gt),Rt=gt.tag,gt!==xe||Rt!==5&&Rt!==27&&Rt!==6)&&(gt=null)):($=null,gt=V),$!==gt)){if(Rt=SS,J="onMouseLeave",U="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Rt=wS,J="onPointerLeave",U="onPointerEnter",z="pointer"),xe=$==null?X:Xu($),G=gt==null?X:Xu(gt),X=new Rt(J,z+"leave",$,o,K),X.target=xe,X.relatedTarget=G,J=null,$r(K)===V&&(Rt=new Rt(U,z+"enter",gt,o,K),Rt.target=G,Rt.relatedTarget=xe,J=Rt),xe=J,$&&gt)e:{for(Rt=$,U=gt,z=0,G=Rt;G;G=dc(G))z++;for(G=0,J=U;J;J=dc(J))G++;for(;0<z-G;)Rt=dc(Rt),z--;for(;0<G-z;)U=dc(U),G--;for(;z--;){if(Rt===U||U!==null&&Rt===U.alternate)break e;Rt=dc(Rt),U=dc(U)}Rt=null}else Rt=null;$!==null&&n1(it,X,$,Rt,!1),gt!==null&&xe!==null&&n1(it,xe,gt,Rt,!0)}}t:{if(X=V?Xu(V):window,$=X.nodeName&&X.nodeName.toLowerCase(),$==="select"||$==="input"&&X.type==="file")var dt=LS;else if(MS(X))if(PS)dt=N2;else{dt=O2;var Ht=P2}else $=X.nodeName,!$||$.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?V&&Ym(V.elementType)&&(dt=LS):dt=k2;if(dt&&(dt=dt(i,V))){DS(it,dt,o,K);break t}Ht&&Ht(i,X,V),i==="focusout"&&V&&X.type==="number"&&V.memoizedProps.value!=null&&Xm(X,"number",X.value)}switch(Ht=V?Xu(V):window,i){case"focusin":(MS(Ht)||Ht.contentEditable==="true")&&(Gl=Ht,oy=V,eh=null);break;case"focusout":eh=oy=Gl=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,jS(it,o,K);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":jS(it,o,K)}var yt;if(sy)t:{switch(i){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Ul?CS(i,o)&&(At="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(ES&&o.locale!=="ko"&&(Ul||At!=="onCompositionStart"?At==="onCompositionEnd"&&Ul&&(yt=bS()):(ja=K,Zm="value"in ja?ja.value:ja.textContent,Ul=!0)),Ht=Up(V,At),0<Ht.length&&(At=new xS(At,i,null,o,K),it.push({event:At,listeners:Ht}),yt?At.data=yt:(yt=RS(o),yt!==null&&(At.data=yt)))),(yt=C2?R2(i,o):M2(i,o))&&(At=Up(V,"onBeforeInput"),0<At.length&&(Ht=new xS("onBeforeInput","beforeinput",null,o,K),it.push({event:Ht,listeners:At}),Ht.data=yt)),AD(it,i,V,o,K)}i1(it,n)})}function Mh(i,n,o){return{instance:i,listener:n,currentTarget:o}}function Up(i,n){for(var o=n+"Capture",u=[];i!==null;){var g=i,y=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Yu(i,o),g!=null&&u.unshift(Mh(i,g,y)),g=Yu(i,n),g!=null&&u.push(Mh(i,g,y))),i=i.return}return u}function dc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function n1(i,n,o,u,g){for(var y=n._reactName,w=[];o!==null&&o!==u;){var L=o,N=L.alternate,V=L.stateNode;if(L=L.tag,N!==null&&N===u)break;L!==5&&L!==26&&L!==27||V===null||(N=V,g?(V=Yu(o,y),V!=null&&w.unshift(Mh(o,V,N))):g||(V=Yu(o,y),V!=null&&w.push(Mh(o,V,N)))),o=o.return}w.length!==0&&i.push({event:n,listeners:w})}var ED=/\r\n?/g,TD=/\u0000|\uFFFD/g;function a1(i){return(typeof i=="string"?i:""+i).replace(ED,`
`).replace(TD,"")}function r1(i,n){return n=a1(n),a1(i)===n}function Gp(){}function te(i,n,o,u,g,y){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||jl(i,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&jl(i,""+u);break;case"className":Zf(i,"class",u);break;case"tabIndex":Zf(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zf(i,o,u);break;case"style":mS(i,u,y);break;case"data":if(n!=="object"){Zf(i,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ep(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(n!=="input"&&te(i,n,"name",g.name,g,null),te(i,n,"formEncType",g.formEncType,g,null),te(i,n,"formMethod",g.formMethod,g,null),te(i,n,"formTarget",g.formTarget,g,null)):(te(i,n,"encType",g.encType,g,null),te(i,n,"method",g.method,g,null),te(i,n,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ep(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Gp);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ep(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Qf(i,"popover",u);break;case"xlinkActuate":Hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Hn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Hn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Hn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Hn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qf(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=t2.get(o)||o,Qf(i,o,u))}}function L0(i,n,o,u,g,y){switch(o){case"style":mS(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?jl(i,u):(typeof u=="number"||typeof u=="bigint")&&jl(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Gp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oS.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),n=o.slice(2,g?o.length-7:void 0),y=i[Ni]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(n,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(n,u,g);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Qf(i,o,u)}}}function ni(i,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,y,w,o,null)}}g&&te(i,n,"srcSet",o.srcSet,o,null),u&&te(i,n,"src",o.src,o,null);return;case"input":Vt("invalid",i);var L=y=w=g=null,N=null,V=null;for(u in o)if(o.hasOwnProperty(u)){var K=o[u];if(K!=null)switch(u){case"name":g=K;break;case"type":w=K;break;case"checked":N=K;break;case"defaultChecked":V=K;break;case"value":y=K;break;case"defaultValue":L=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:te(i,n,u,K,o,null)}}dS(i,y,L,N,V,w,g,!1),Jf(i);return;case"select":Vt("invalid",i),u=w=y=null;for(g in o)if(o.hasOwnProperty(g)&&(L=o[g],L!=null))switch(g){case"value":y=L;break;case"defaultValue":w=L;break;case"multiple":u=L;default:te(i,n,g,L,o,null)}n=y,o=w,i.multiple=!!u,n!=null?Il(i,!!u,n,!1):o!=null&&Il(i,!!u,o,!0);return;case"textarea":Vt("invalid",i),y=g=u=null;for(w in o)if(o.hasOwnProperty(w)&&(L=o[w],L!=null))switch(w){case"value":u=L;break;case"defaultValue":g=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:te(i,n,w,L,o,null)}pS(i,u,g,y),Jf(i);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,n,N,u,o,null)}return;case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<Rh.length;u++)Vt(Rh[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,V,u,o,null)}return;default:if(Ym(n)){for(K in o)o.hasOwnProperty(K)&&(u=o[K],u!==void 0&&L0(i,n,K,u,o,void 0));return}}for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null&&te(i,n,L,u,o,null))}function _D(i,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,L=null,N=null,V=null,K=null;for($ in o){var it=o[$];if(o.hasOwnProperty($)&&it!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=it;default:u.hasOwnProperty($)||te(i,n,$,null,u,it)}}for(var X in u){var $=u[X];if(it=o[X],u.hasOwnProperty(X)&&($!=null||it!=null))switch(X){case"type":y=$;break;case"name":g=$;break;case"checked":V=$;break;case"defaultChecked":K=$;break;case"value":w=$;break;case"defaultValue":L=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==it&&te(i,n,X,$,u,it)}}qm(i,w,L,N,V,K,y,g);return;case"select":$=w=L=X=null;for(y in o)if(N=o[y],o.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(y)||te(i,n,y,null,u,N)}for(g in u)if(y=u[g],N=o[g],u.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":X=y;break;case"defaultValue":L=y;break;case"multiple":w=y;default:y!==N&&te(i,n,g,y,u,N)}n=L,o=w,u=$,X!=null?Il(i,!!o,X,!1):!!u!=!!o&&(n!=null?Il(i,!!o,n,!0):Il(i,!!o,o?[]:"",!1));return;case"textarea":$=X=null;for(L in o)if(g=o[L],o.hasOwnProperty(L)&&g!=null&&!u.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:te(i,n,L,null,u,g)}for(w in u)if(g=u[w],y=o[w],u.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":X=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&te(i,n,w,g,u,y)}fS(i,X,$);return;case"option":for(var gt in o)if(X=o[gt],o.hasOwnProperty(gt)&&X!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":i.selected=!1;break;default:te(i,n,gt,null,u,X)}for(N in u)if(X=u[N],$=o[N],u.hasOwnProperty(N)&&X!==$&&(X!=null||$!=null))switch(N){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:te(i,n,N,X,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in o)X=o[Rt],o.hasOwnProperty(Rt)&&X!=null&&!u.hasOwnProperty(Rt)&&te(i,n,Rt,null,u,X);for(V in u)if(X=u[V],$=o[V],u.hasOwnProperty(V)&&X!==$&&(X!=null||$!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:te(i,n,V,X,u,$)}return;default:if(Ym(n)){for(var xe in o)X=o[xe],o.hasOwnProperty(xe)&&X!==void 0&&!u.hasOwnProperty(xe)&&L0(i,n,xe,void 0,u,X);for(K in u)X=u[K],$=o[K],!u.hasOwnProperty(K)||X===$||X===void 0&&$===void 0||L0(i,n,K,X,u,$);return}}for(var U in o)X=o[U],o.hasOwnProperty(U)&&X!=null&&!u.hasOwnProperty(U)&&te(i,n,U,null,u,X);for(it in u)X=u[it],$=o[it],!u.hasOwnProperty(it)||X===$||X==null&&$==null||te(i,n,it,X,u,$)}var P0=null,O0=null;function qp(i){return i.nodeType===9?i:i.ownerDocument}function o1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l1(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function k0(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var N0=null;function CD(){var i=window.event;return i&&i.type==="popstate"?i===N0?!1:(N0=i,!0):(N0=null,!1)}var c1=typeof setTimeout=="function"?setTimeout:void 0,RD=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,MD=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(i){return u1.resolve(null).then(i).catch(DD)}:c1;function DD(i){setTimeout(function(){throw i})}function F0(i,n){var o=n,u=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(u===0){i.removeChild(g),Hh(n);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=g}while(o);Hh(n)}function H0(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":H0(o),Gm(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function LD(i,n,o,u){for(;i.nodeType===1;){var g=o;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[qu])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=zs(i.nextSibling),i===null)break}return null}function PD(i,n,o){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=zs(i.nextSibling),i===null))return null;return i}function zs(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}function h1(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return i;n--}else o==="/$"&&n++}i=i.previousSibling}return null}function d1(i,n,o){switch(n=qp(o),i){case"html":if(i=n.documentElement,!i)throw Error(s(452));return i;case"head":if(i=n.head,!i)throw Error(s(453));return i;case"body":if(i=n.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var Es=new Map,f1=new Set;function Xp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Zn=st.d;st.d={f:OD,r:kD,D:ND,C:FD,L:HD,m:BD,X:jD,S:ID,M:zD};function OD(){var i=Zn.f(),n=Bp();return i||n}function kD(i){var n=Fl(i);n!==null&&n.tag===5&&n.type==="form"?jx(n):Zn.r(i)}var fc=typeof document>"u"?null:document;function p1(i,n,o){var u=fc;if(u&&typeof n=="string"&&n){var g=ps(n);g='link[rel="'+i+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),f1.has(g)||(f1.add(g),i={rel:i,crossOrigin:o,href:n},u.querySelector(g)===null&&(n=u.createElement("link"),ni(n,"link",i),Xe(n),u.head.appendChild(n)))}}function ND(i){Zn.D(i),p1("dns-prefetch",i,null)}function FD(i,n){Zn.C(i,n),p1("preconnect",i,n)}function HD(i,n,o){Zn.L(i,n,o);var u=fc;if(u&&i&&n){var g='link[rel="preload"][as="'+ps(n)+'"]';n==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+ps(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+ps(o.imageSizes)+'"]')):g+='[href="'+ps(i)+'"]';var y=g;switch(n){case"style":y=pc(i);break;case"script":y=gc(i)}Es.has(y)||(i=q({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:i,as:n},o),Es.set(y,i),u.querySelector(g)!==null||n==="style"&&u.querySelector(Dh(y))||n==="script"&&u.querySelector(Lh(y))||(n=u.createElement("link"),ni(n,"link",i),Xe(n),u.head.appendChild(n)))}}function BD(i,n){Zn.m(i,n);var o=fc;if(o&&i){var u=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+ps(u)+'"][href="'+ps(i)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=gc(i)}if(!Es.has(y)&&(i=q({rel:"modulepreload",href:i},n),Es.set(y,i),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lh(y)))return}u=o.createElement("link"),ni(u,"link",i),Xe(u),o.head.appendChild(u)}}}function ID(i,n,o){Zn.S(i,n,o);var u=fc;if(u&&i){var g=Hl(u).hoistableStyles,y=pc(i);n=n||"default";var w=g.get(y);if(!w){var L={loading:0,preload:null};if(w=u.querySelector(Dh(y)))L.loading=5;else{i=q({rel:"stylesheet",href:i,"data-precedence":n},o),(o=Es.get(y))&&B0(i,o);var N=w=u.createElement("link");Xe(N),ni(N,"link",i),N._p=new Promise(function(V,K){N.onload=V,N.onerror=K}),N.addEventListener("load",function(){L.loading|=1}),N.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Yp(w,n,u)}w={type:"stylesheet",instance:w,count:1,state:L},g.set(y,w)}}}function jD(i,n){Zn.X(i,n);var o=fc;if(o&&i){var u=Hl(o).hoistableScripts,g=gc(i),y=u.get(g);y||(y=o.querySelector(Lh(g)),y||(i=q({src:i,async:!0},n),(n=Es.get(g))&&I0(i,n),y=o.createElement("script"),Xe(y),ni(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function zD(i,n){Zn.M(i,n);var o=fc;if(o&&i){var u=Hl(o).hoistableScripts,g=gc(i),y=u.get(g);y||(y=o.querySelector(Lh(g)),y||(i=q({src:i,async:!0,type:"module"},n),(n=Es.get(g))&&I0(i,n),y=o.createElement("script"),Xe(y),ni(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function g1(i,n,o,u){var g=(g=zt.current)?Xp(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=pc(o.href),o=Hl(g).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=pc(o.href);var y=Hl(g).hoistableStyles,w=y.get(i);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=g.querySelector(Dh(i)))&&!y._p&&(w.instance=y,w.state.loading=5),Es.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Es.set(i,o),y||VD(g,i,o,w.state))),n&&u===null)throw Error(s(528,""));return w}if(n&&u!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=gc(o),o=Hl(g).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function pc(i){return'href="'+ps(i)+'"'}function Dh(i){return'link[rel="stylesheet"]['+i+"]"}function m1(i){return q({},i,{"data-precedence":i.precedence,precedence:null})}function VD(i,n,o,u){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=i.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),ni(n,"link",o),Xe(n),i.head.appendChild(n))}function gc(i){return'[src="'+ps(i)+'"]'}function Lh(i){return"script[async]"+i}function y1(i,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=i.querySelector('style[data-href~="'+ps(o.href)+'"]');if(u)return n.instance=u,Xe(u),u;var g=q({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Xe(u),ni(u,"style",g),Yp(u,o.precedence,i),n.instance=u;case"stylesheet":g=pc(o.href);var y=i.querySelector(Dh(g));if(y)return n.state.loading|=4,n.instance=y,Xe(y),y;u=m1(o),(g=Es.get(g))&&B0(u,g),y=(i.ownerDocument||i).createElement("link"),Xe(y);var w=y;return w._p=new Promise(function(L,N){w.onload=L,w.onerror=N}),ni(y,"link",u),n.state.loading|=4,Yp(y,o.precedence,i),n.instance=y;case"script":return y=gc(o.src),(g=i.querySelector(Lh(y)))?(n.instance=g,Xe(g),g):(u=o,(g=Es.get(y))&&(u=q({},o),I0(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),Xe(g),ni(g,"link",u),i.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(u=n.instance,n.state.loading|=4,Yp(u,o.precedence,i));return n.instance}function Yp(i,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,w=0;w<u.length;w++){var L=u[w];if(L.dataset.precedence===n)y=L;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(i,n.firstChild))}function B0(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function I0(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var $p=null;function v1(i,n,o){if($p===null){var u=new Map,g=$p=new Map;g.set(o,u)}else g=$p,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),g=0;g<o.length;g++){var y=o[g];if(!(y[qu]||y[di]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(n)||"";w=i+w;var L=u.get(w);L?L.push(y):u.set(w,[y])}}return u}function b1(i,n,o){i=i.ownerDocument||i,i.head.insertBefore(o,n==="title"?i.querySelector("head > title"):null)}function UD(i,n,o){if(o===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A1(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Ph=null;function GD(){}function qD(i,n,o){if(Ph===null)throw Error(s(475));var u=Ph;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var g=pc(o.href),y=i.querySelector(Dh(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Wp.bind(u),i.then(u,u)),n.state.loading|=4,n.instance=y,Xe(y);return}y=i.ownerDocument||i,o=m1(o),(g=Es.get(g))&&B0(o,g),y=y.createElement("link"),Xe(y);var w=y;w._p=new Promise(function(L,N){w.onload=L,w.onerror=N}),ni(y,"link",o),n.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,i),(i=n.state.preload)&&!(n.state.loading&3)&&(u.count++,n=Wp.bind(u),i.addEventListener("load",n),i.addEventListener("error",n))}}function XD(){if(Ph===null)throw Error(s(475));var i=Ph;return i.stylesheets&&i.count===0&&j0(i,i.stylesheets),0<i.count?function(n){var o=setTimeout(function(){if(i.stylesheets&&j0(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Wp(){if(this.count--,this.count===0){if(this.stylesheets)j0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kp=null;function j0(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kp=new Map,n.forEach(YD,i),Kp=null,Wp.call(i))}function YD(i,n){if(!(n.state.loading&4)){var o=Kp.get(i);if(o)var u=o.get(null);else{o=new Map,Kp.set(i,o);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}g=n.instance,w=g.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,g),o.set(w,g),this.count++,u=Wp.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),n.state.loading|=4}}var Oh={$$typeof:x,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function $D(i,n,o,u,g,y,w,L){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.hiddenUpdates=Vm(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function S1(i,n,o,u,g,y,w,L,N,V,K,it){return i=new $D(i,n,o,w,L,N,V,it),n=1,y===!0&&(n|=24),y=xs(3,null,null,n),i.current=y,y.stateNode=i,n=vy(),n.refCount++,i.pooledCache=n,n.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:n},Zy(y),i}function x1(i){return i?(i=Yl,i):Yl}function w1(i,n,o,u,g,y){g=x1(g),u.context===null?u.context=g:u.pendingContext=g,u=$a(n),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Wa(i,u,n),o!==null&&(_i(o,i,n),mh(o,i,n))}function E1(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<n?o:n}}function z0(i,n){E1(i,n),(i=i.alternate)&&E1(i,n)}function T1(i){if(i.tag===13){var n=za(i,67108864);n!==null&&_i(n,i,67108864),z0(i,67108864)}}var Qp=!0;function WD(i,n,o,u){var g=B.T;B.T=null;var y=st.p;try{st.p=2,V0(i,n,o,u)}finally{st.p=y,B.T=g}}function KD(i,n,o,u){var g=B.T;B.T=null;var y=st.p;try{st.p=8,V0(i,n,o,u)}finally{st.p=y,B.T=g}}function V0(i,n,o,u){if(Qp){var g=U0(u);if(g===null)D0(i,n,u,Zp,o),C1(i,u);else if(ZD(g,i,n,o,u))u.stopPropagation();else if(C1(i,u),n&4&&-1<QD.indexOf(i)){for(;g!==null;){var y=Fl(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Yr(y.pendingLanes);if(w!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;w;){var N=1<<31-Xi(w);L.entanglements[1]|=N,w&=~N}dn(y),!(pe&6)&&(Np=ds()+500,Ch(0))}}break;case 13:L=za(y,2),L!==null&&_i(L,y,2),Bp(),z0(y,2)}if(y=U0(u),y===null&&D0(i,n,u,Zp,o),y===g)break;g=y}g!==null&&u.stopPropagation()}else D0(i,n,u,null,o)}}function U0(i){return i=Wm(i),G0(i)}var Zp=null;function G0(i){if(Zp=null,i=$r(i),i!==null){var n=tt(i);if(n===null)i=null;else{var o=n.tag;if(o===13){if(i=wt(n),i!==null)return i;i=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return Zp=i,null}function _1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zm()){case Yf:return 2;case kn:return 8;case Nn:case Ol:return 32;case kl:return 268435456;default:return 32}default:return 32}}var q0=!1,ir=null,sr=null,nr=null,kh=new Map,Nh=new Map,ar=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C1(i,n){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":kh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(n.pointerId)}}function Fh(i,n,o,u,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},n!==null&&(n=Fl(n),n!==null&&T1(n)),i):(i.eventSystemFlags|=u,n=i.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),i)}function ZD(i,n,o,u,g){switch(n){case"focusin":return ir=Fh(ir,i,n,o,u,g),!0;case"dragenter":return sr=Fh(sr,i,n,o,u,g),!0;case"mouseover":return nr=Fh(nr,i,n,o,u,g),!0;case"pointerover":var y=g.pointerId;return kh.set(y,Fh(kh.get(y)||null,i,n,o,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Nh.set(y,Fh(Nh.get(y)||null,i,n,o,u,g)),!0}return!1}function R1(i){var n=$r(i.target);if(n!==null){var o=tt(n);if(o!==null){if(n=o.tag,n===13){if(n=wt(o),n!==null){i.blockedOn=n,XM(i.priority,function(){if(o.tag===13){var u=Qi(),g=za(o,u);g!==null&&_i(g,o,u),z0(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jp(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var o=U0(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);$m=u,o.target.dispatchEvent(u),$m=null}else return n=Fl(o),n!==null&&T1(n),i.blockedOn=o,!1;n.shift()}return!0}function M1(i,n,o){Jp(i)&&o.delete(n)}function JD(){q0=!1,ir!==null&&Jp(ir)&&(ir=null),sr!==null&&Jp(sr)&&(sr=null),nr!==null&&Jp(nr)&&(nr=null),kh.forEach(M1),Nh.forEach(M1)}function tg(i,n){i.blockedOn===n&&(i.blockedOn=null,q0||(q0=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,JD)))}var eg=null;function D1(i){eg!==i&&(eg=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){eg===i&&(eg=null);for(var n=0;n<i.length;n+=3){var o=i[n],u=i[n+1],g=i[n+2];if(typeof u!="function"){if(G0(u||o)===null)continue;break}var y=Fl(o);y!==null&&(i.splice(n,3),n-=3,ky(y,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function Hh(i){function n(N){return tg(N,i)}ir!==null&&tg(ir,i),sr!==null&&tg(sr,i),nr!==null&&tg(nr,i),kh.forEach(n),Nh.forEach(n);for(var o=0;o<ar.length;o++){var u=ar[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)R1(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],y=o[u+1],w=g[Ni]||null;if(typeof y=="function")w||D1(o);else if(w){var L=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[Ni]||null)L=w.formAction;else if(G0(g)!==null)continue}else L=w.action;typeof L=="function"?o[u+1]=L:(o.splice(u,3),u-=3),D1(o)}}}function X0(i){this._internalRoot=i}ig.prototype.render=X0.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,u=Qi();w1(o,u,i,n,null,null)},ig.prototype.unmount=X0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;i.tag===0&&uc(),w1(i.current,2,null,i,null,null),Bp(),n[Nl]=null}};function ig(i){this._internalRoot=i}ig.prototype.unstable_scheduleHydration=function(i){if(i){var n=nS();i={blockedOn:null,target:i,priority:n};for(var o=0;o<ar.length&&n!==0&&n<ar[o].priority;o++);ar.splice(o,0,i),o===0&&R1(i)}};var L1=t.version;if(L1!=="19.0.0")throw Error(s(527,L1,"19.0.0"));st.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=et(n),i=i!==null?ut(i):null,i=i===null?null:i.stateNode,i};var tL={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:$r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sg.isDisabled&&sg.supportsFiber)try{Vu=sg.inject(tL),qi=sg}catch{}}return Ih.createRoot=function(i,n){if(!r(i))throw Error(s(299));var o=!1,u="",g=$x,y=Wx,w=Kx,L=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(L=n.unstable_transitionCallbacks)),n=S1(i,1,!1,null,null,o,u,g,y,w,L,null),i[Nl]=n.current,M0(i.nodeType===8?i.parentNode:i),new X0(n)},Ih.hydrateRoot=function(i,n,o){if(!r(i))throw Error(s(299));var u=!1,g="",y=$x,w=Wx,L=Kx,N=null,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(V=o.formState)),n=S1(i,1,!0,n,o??null,u,g,y,w,L,N,V),n.context=x1(null),o=n.current,u=Qi(),g=$a(u),g.callback=null,Wa(o,g,u),n.current.lanes=u,Gu(n,u),dn(n),i[Nl]=n.current,M0(i),new ig(n)},Ih.version="19.0.0",Ih}var V1;function dL(){if(V1)return K0.exports;V1=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),K0.exports=hL(),K0.exports}var fL=dL();const bt={scriptHeading1:"font-script text-rusty-brown text-4xl tracking-wide sm:text-9xl",scriptHeading3:"font-script text-4xl sm:text-3xl",ovoHeading1:"font-ovo text-rusty-brown text-3xl  sm:text-9xl",ovoHeading3:"font-ovo text-2xl sm:text-3xl",ovoParagraph:"font-ovo text-xl",flexCenter:"flex justify-center items-center",flexCol:"flex flex-col "},jT={section:"  py-2 sm:min-h-screen  "},pL=()=>j.jsx("section",{id:"home",children:j.jsxs("div",{className:"relative",children:[j.jsx("img",{src:"img/bgHome.svg",alt:"",className:"w-full md:h-screen object-cover"}),j.jsxs("div",{className:"absolute bottom-[3rem] left-[2rem]  md:bottom-[12rem]  md:left-[5rem]",children:[j.jsx("h1",{className:`${bt.scriptHeading1} text-skin-white `,children:"Jd and Alma "}),j.jsx("p",{className:`${bt.ovoParagraph} text-skin-white pr-9`,children:"The best things in life are meant to be shared. Come and witness our wedding"}),j.jsx("div",{})]})]})}),zT=Z.createContext({});function gL(a){const t=Z.useRef(null);return t.current===null&&(t.current=a()),t.current}const sA=Z.createContext(null),VT=Z.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function mL(a=!0){const t=Z.useContext(sA);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:r}=t,l=Z.useId();Z.useEffect(()=>{if(a)return r(l)},[a]);const c=Z.useCallback(()=>a&&s&&s(l),[l,s,a]);return!e&&s?[!1,c]:[!0]}const nA=typeof window<"u",yL=nA?Z.useLayoutEffect:Z.useEffect,us=a=>a;let UT=us;function aA(a){let t;return()=>(t===void 0&&(t=a()),t)}const Ou=(a,t,e)=>{const s=t-a;return s===0?1:(e-a)/s},Ma=a=>a*1e3,Da=a=>a/1e3,vL={useManualTiming:!1},ng=["read","resolveKeyframes","update","preRender","render","postRender"],U1={value:null};function bL(a,t){let e=new Set,s=new Set,r=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(v){c.has(v)&&(m.schedule(v),a()),f++,v(h)}const m={schedule:(v,b=!1,x=!1)=>{const C=x&&r?e:s;return b&&c.add(v),C.has(v)||C.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,r){l=!0;return}r=!0,[e,s]=[s,e],e.forEach(p),t&&U1.value&&U1.value.frameloop[t].push(f),f=0,e.clear(),r=!1,l&&(l=!1,m.process(v))}};return m}const AL=40;function GT(a,t){let e=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=ng.reduce((D,H)=>(D[H]=bL(l,t?H:void 0),D),{}),{read:h,resolveKeyframes:f,update:p,preRender:m,render:v,postRender:b}=c,x=()=>{const D=performance.now();e=!1,r.delta=s?1e3/60:Math.max(Math.min(D-r.timestamp,AL),1),r.timestamp=D,r.isProcessing=!0,h.process(r),f.process(r),p.process(r),m.process(r),v.process(r),b.process(r),r.isProcessing=!1,e&&t&&(s=!1,a(x))},E=()=>{e=!0,s=!0,r.isProcessing||a(x)};return{schedule:ng.reduce((D,H)=>{const O=c[H];return D[H]=(A,S=!1,R=!1)=>(e||E(),O.schedule(A,S,R)),D},{}),cancel:D=>{for(let H=0;H<ng.length;H++)c[ng[H]].cancel(D)},state:r,steps:c}}const{schedule:le,cancel:Br,state:ci,steps:tv}=GT(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0),qT=Z.createContext({strict:!1}),G1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ku={};for(const a in G1)ku[a]={isEnabled:t=>G1[a].some(e=>!!t[e])};function SL(a){for(const t in a)ku[t]={...ku[t],...a[t]}}const xL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xg(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||xL.has(a)}let XT=a=>!Xg(a);function wL(a){a&&(XT=t=>t.startsWith("on")?!Xg(t):a(t))}try{wL(require("@emotion/is-prop-valid").default)}catch{}function EL(a,t,e){const s={};for(const r in a)r==="values"&&typeof a.values=="object"||(XT(r)||e===!0&&Xg(r)||!t&&!Xg(r)||a.draggable&&r.startsWith("onDrag"))&&(s[r]=a[r]);return s}function TL(a){if(typeof Proxy>"u")return a;const t=new Map,e=(...s)=>a(...s);return new Proxy(e,{get:(s,r)=>r==="create"?a:(t.has(r)||t.set(r,a(r)),t.get(r))})}const wm=Z.createContext({});function Em(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function gd(a){return typeof a=="string"||Array.isArray(a)}const rA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oA=["initial",...rA];function Tm(a){return Em(a.animate)||oA.some(t=>gd(a[t]))}function YT(a){return!!(Tm(a)||a.variants)}function _L(a,t){if(Tm(a)){const{initial:e,animate:s}=a;return{initial:e===!1||gd(e)?e:void 0,animate:gd(s)?s:void 0}}return a.inherit!==!1?t:{}}function CL(a){const{initial:t,animate:e}=_L(a,Z.useContext(wm));return Z.useMemo(()=>({initial:t,animate:e}),[q1(t),q1(e)])}function q1(a){return Array.isArray(a)?a.join(" "):a}const RL=Symbol.for("motionComponentSymbol");function Ec(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function ML(a,t,e){return Z.useCallback(s=>{s&&a.onMount&&a.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):Ec(e)&&(e.current=s))},[t])}const lA=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DL="framerAppearId",$T="data-"+lA(DL),{schedule:cA}=GT(queueMicrotask,!1),WT=Z.createContext({});function LL(a,t,e,s,r){var l,c;const{visualElement:h}=Z.useContext(wm),f=Z.useContext(qT),p=Z.useContext(sA),m=Z.useContext(VT).reducedMotion,v=Z.useRef(null);s=s||f.renderer,!v.current&&s&&(v.current=s(a,{visualState:t,parent:h,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const b=v.current,x=Z.useContext(WT);b&&!b.projection&&r&&(b.type==="html"||b.type==="svg")&&PL(v.current,e,r,x);const E=Z.useRef(!1);Z.useInsertionEffect(()=>{b&&E.current&&b.update(e,p)});const C=e[$T],P=Z.useRef(!!C&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,C))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,C)));return yL(()=>{b&&(E.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),cA.render(b.render),P.current&&b.animationState&&b.animationState.animateChanges())}),Z.useEffect(()=>{b&&(!P.current&&b.animationState&&b.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,C)}),P.current=!1))}),b}function PL(a,t,e,s){const{layoutId:r,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:KT(a.parent)),a.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||h&&Ec(h),visualElement:a,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}function KT(a){if(a)return a.options.allowProjection!==!1?a.projection:KT(a.parent)}function OL({preloadedFeatures:a,createVisualElement:t,useRender:e,useVisualState:s,Component:r}){var l,c;a&&SL(a);function h(p,m){let v;const b={...Z.useContext(VT),...p,layoutId:kL(p)},{isStatic:x}=b,E=CL(p),C=s(p,x);if(!x&&nA){NL();const P=FL(b);v=P.MeasureLayout,E.visualElement=LL(r,C,b,t,P.ProjectionNode)}return j.jsxs(wm.Provider,{value:E,children:[v&&E.visualElement?j.jsx(v,{visualElement:E.visualElement,...b}):null,e(r,p,ML(C,E.visualElement,m),C,x,E.visualElement)]})}h.displayName=`motion.${typeof r=="string"?r:`create(${(c=(l=r.displayName)!==null&&l!==void 0?l:r.name)!==null&&c!==void 0?c:""})`}`;const f=Z.forwardRef(h);return f[RL]=r,f}function kL({layoutId:a}){const t=Z.useContext(zT).id;return t&&a!==void 0?t+"-"+a:a}function NL(a,t){Z.useContext(qT).strict}function FL(a){const{drag:t,layout:e}=ku;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(a)||e!=null&&e.isEnabled(a)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const QT=a=>t=>typeof t=="string"&&t.startsWith(a),uA=QT("--"),HL=QT("var(--"),hA=a=>HL(a)?BL.test(a.split("/*")[0].trim()):!1,BL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,md={};function IL(a){for(const t in a)md[t]=a[t],uA(t)&&(md[t].isCSSVariable=!0)}const Hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Hu);function ZT(a,{layout:t,layoutId:e}){return Ml.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!md[a]||a==="opacity")}const wi=a=>!!(a&&a.getVelocity),JT=(a,t)=>t&&typeof a=="number"?t.transform(a):a,ka=(a,t,e)=>e>t?t:e<a?a:e,Bu={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},yd={...Bu,transform:a=>ka(0,1,a)},ag={...Bu,default:1},If=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),or=If("deg"),Pn=If("%"),St=If("px"),jL=If("vh"),zL=If("vw"),X1={...Pn,parse:a=>Pn.parse(a)/100,transform:a=>Pn.transform(a*100)},VL={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St},UL={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:ag,scaleX:ag,scaleY:ag,scaleZ:ag,skew:or,skewX:or,skewY:or,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:yd,originX:X1,originY:X1,originZ:St},Y1={...Bu,transform:Math.round},dA={...VL,...UL,zIndex:Y1,size:St,fillOpacity:yd,strokeOpacity:yd,numOctaves:Y1},GL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qL=Hu.length;function XL(a,t,e){let s="",r=!0;for(let l=0;l<qL;l++){const c=Hu[l],h=a[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||e){const p=JT(h,dA[c]);if(!f){r=!1;const m=GL[c]||c;s+=`${m}(${p}) `}e&&(t[c]=p)}}return s=s.trim(),e?s=e(t,r?"":s):r&&(s="none"),s}function fA(a,t,e){const{style:s,vars:r,transformOrigin:l}=a;let c=!1,h=!1;for(const f in t){const p=t[f];if(Ml.has(f)){c=!0;continue}else if(uA(f)){r[f]=p;continue}else{const m=JT(p,dA[f]);f.startsWith("origin")?(h=!0,l[f]=m):s[f]=m}}if(t.transform||(c||e?s.transform=XL(t,a.transform,e):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const pA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t_(a,t,e){for(const s in t)!wi(t[s])&&!ZT(s,e)&&(a[s]=t[s])}function YL({transformTemplate:a},t){return Z.useMemo(()=>{const e=pA();return fA(e,t,a),Object.assign({},e.vars,e.style)},[t])}function $L(a,t){const e=a.style||{},s={};return t_(s,e,a),Object.assign(s,YL(a,t)),s}function WL(a,t){const e={},s=$L(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=s,e}const KL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gA(a){return typeof a!="string"||a.includes("-")?!1:!!(KL.indexOf(a)>-1||/[A-Z]/u.test(a))}const QL={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZL={offset:"strokeDashoffset",array:"strokeDasharray"};function JL(a,t,e=1,s=0,r=!0){a.pathLength=1;const l=r?QL:ZL;a[l.offset]=St.transform(-s);const c=St.transform(t),h=St.transform(e);a[l.array]=`${c} ${h}`}function $1(a,t,e){return typeof a=="string"?a:St.transform(t+e*a)}function tP(a,t,e){const s=$1(t,a.x,a.width),r=$1(e,a.y,a.height);return`${s} ${r}`}function mA(a,{attrX:t,attrY:e,attrScale:s,originX:r,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...p},m,v){if(fA(a,p,v),m){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:b,style:x,dimensions:E}=a;b.transform&&(E&&(x.transform=b.transform),delete b.transform),E&&(r!==void 0||l!==void 0||x.transform)&&(x.transformOrigin=tP(E,r!==void 0?r:.5,l!==void 0?l:.5)),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),s!==void 0&&(b.scale=s),c!==void 0&&JL(b,c,h,f,!1)}const e_=()=>({...pA(),attrs:{}}),yA=a=>typeof a=="string"&&a.toLowerCase()==="svg";function eP(a,t,e,s){const r=Z.useMemo(()=>{const l=e_();return mA(l,t,yA(s),a.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(a.style){const l={};t_(l,a.style,a),r.style={...l,...r.style}}return r}function iP(a=!1){return(e,s,r,{latestValues:l},c)=>{const f=(gA(e)?eP:WL)(s,l,c,e),p=EL(s,typeof e=="string",a),m=e!==Z.Fragment?{...p,...f,ref:r}:{},{children:v}=s,b=Z.useMemo(()=>wi(v)?v.get():v,[v]);return Z.createElement(e,{...m,children:b})}}function W1(a){const t=[{},{}];return a==null||a.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function vA(a,t,e,s){if(typeof t=="function"){const[r,l]=W1(s);t=t(e!==void 0?e:a.custom,r,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,l]=W1(s);t=t(e!==void 0?e:a.custom,r,l)}return t}const Av=a=>Array.isArray(a),sP=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),nP=a=>Av(a)?a[a.length-1]||0:a;function fg(a){const t=wi(a)?a.get():a;return sP(t)?t.toValue():t}function aP({scrapeMotionValuesFromProps:a,createRenderState:t,onUpdate:e},s,r,l){const c={latestValues:rP(s,r,l,a),renderState:t()};return e&&(c.onMount=h=>e({props:s,current:h,...c}),c.onUpdate=h=>e(h)),c}const i_=a=>(t,e)=>{const s=Z.useContext(wm),r=Z.useContext(sA),l=()=>aP(a,t,s,r);return e?l():gL(l)};function rP(a,t,e,s){const r={},l=s(a,{});for(const b in l)r[b]=fg(l[b]);let{initial:c,animate:h}=a;const f=Tm(a),p=YT(a);t&&p&&!f&&a.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let m=e?e.initial===!1:!1;m=m||c===!1;const v=m?h:c;if(v&&typeof v!="boolean"&&!Em(v)){const b=Array.isArray(v)?v:[v];for(let x=0;x<b.length;x++){const E=vA(a,b[x]);if(E){const{transitionEnd:C,transition:P,...D}=E;for(const H in D){let O=D[H];if(Array.isArray(O)){const A=m?O.length-1:0;O=O[A]}O!==null&&(r[H]=O)}for(const H in C)r[H]=C[H]}}}return r}function bA(a,t,e){var s;const{style:r}=a,l={};for(const c in r)(wi(r[c])||t.style&&wi(t.style[c])||ZT(c,a)||((s=e==null?void 0:e.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=r[c]);return l}const oP={useVisualState:i_({scrapeMotionValuesFromProps:bA,createRenderState:pA})};function s_(a,t){try{t.dimensions=typeof a.getBBox=="function"?a.getBBox():a.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function n_(a,{style:t,vars:e},s,r){Object.assign(a.style,t,r&&r.getProjectionStyles(s));for(const l in e)a.style.setProperty(l,e[l])}const a_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r_(a,t,e,s){n_(a,t,void 0,s);for(const r in t.attrs)a.setAttribute(a_.has(r)?r:lA(r),t.attrs[r])}function o_(a,t,e){const s=bA(a,t,e);for(const r in a)if(wi(a[r])||wi(t[r])){const l=Hu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[l]=a[r]}return s}const K1=["x","y","width","height","cx","cy","r"],lP={useVisualState:i_({scrapeMotionValuesFromProps:o_,createRenderState:e_,onUpdate:({props:a,prevProps:t,current:e,renderState:s,latestValues:r})=>{if(!e)return;let l=!!a.drag;if(!l){for(const h in r)if(Ml.has(h)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let h=0;h<K1.length;h++){const f=K1[h];a[f]!==t[f]&&(c=!0)}c&&le.read(()=>{s_(e,s),le.render(()=>{mA(s,r,yA(e.tagName),a.transformTemplate),r_(e,s)})})}})};function cP(a,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...gA(s)?lP:oP,preloadedFeatures:a,useRender:iP(r),createVisualElement:t,Component:s};return OL(c)}}function vd(a,t,e){const s=a.getProps();return vA(s,t,e!==void 0?e:s.custom,a)}const uP=aA(()=>window.ScrollTimeline!==void 0);class hP{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=e}attachTimeline(t,e){const s=this.animations.map(r=>{if(uP()&&r.attachTimeline)return r.attachTimeline(t);if(typeof e=="function")return e(r)});return()=>{s.forEach((r,l)=>{r&&r(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dP extends hP{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function AA(a,t){return a?a[t]||a.default||a:void 0}const Sv=2e4;function l_(a){let t=0;const e=50;let s=a.next(t);for(;!s.done&&t<Sv;)t+=e,s=a.next(t);return t>=Sv?1/0:t}function SA(a){return typeof a=="function"}function Q1(a,t){a.timeline=t,a.onfinish=null}const xA=a=>Array.isArray(a)&&typeof a[0]=="number",fP={linearEasing:void 0};function pP(a,t){const e=aA(a);return()=>{var s;return(s=fP[t])!==null&&s!==void 0?s:e()}}const Yg=pP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c_=(a,t,e=10)=>{let s="";const r=Math.max(Math.round(t/e),2);for(let l=0;l<r;l++)s+=a(Ou(0,r-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function u_(a){return!!(typeof a=="function"&&Yg()||!a||typeof a=="string"&&(a in xv||Yg())||xA(a)||Array.isArray(a)&&a.every(u_))}const Gh=([a,t,e,s])=>`cubic-bezier(${a}, ${t}, ${e}, ${s})`,xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gh([0,.65,.55,1]),circOut:Gh([.55,0,1,.45]),backIn:Gh([.31,.01,.66,-.59]),backOut:Gh([.33,1.53,.69,.99])};function h_(a,t){if(a)return typeof a=="function"&&Yg()?c_(a,t):xA(a)?Gh(a):Array.isArray(a)?a.map(e=>h_(e,t)||xv.easeOut):xv[a]}const Vs={x:!1,y:!1};function d_(){return Vs.x||Vs.y}function gP(a,t,e){var s;if(a instanceof EventTarget)return[a];if(typeof a=="string"){let r=document;const l=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(a);return l?Array.from(l):[]}return Array.from(a)}function f_(a,t){const e=gP(a),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[e,r,()=>s.abort()]}function Z1(a){return!(a.pointerType==="touch"||d_())}function mP(a,t,e={}){const[s,r,l]=f_(a,e),c=h=>{if(!Z1(h))return;const{target:f}=h,p=t(f,h);if(typeof p!="function"||!f)return;const m=v=>{Z1(v)&&(p(v),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,r)};return s.forEach(h=>{h.addEventListener("pointerenter",c,r)}),l}function $g(a,t){const e=`${t}PointerCapture`;if(a.target instanceof Element&&e in a.target&&a.pointerId!==void 0)try{a.target[e](a.pointerId)}catch{}}const p_=(a,t)=>t?a===t?!0:p_(a,t.parentElement):!1,wA=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,yP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vP(a){return yP.has(a.tagName)||a.tabIndex!==-1}const qh=new WeakSet;function J1(a){return t=>{t.key==="Enter"&&a(t)}}function ev(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bP=(a,t)=>{const e=a.currentTarget;if(!e)return;const s=J1(()=>{if(qh.has(e))return;ev(e,"down");const r=J1(()=>{ev(e,"up")}),l=()=>ev(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function tE(a){return wA(a)&&!d_()}function AP(a,t,e={}){const[s,r,l]=f_(a,e),c=h=>{const f=h.currentTarget;if(!f||!tE(h)||qh.has(f))return;qh.add(f),$g(h,"set");const p=t(f,h),m=(x,E)=>{f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",b),$g(x,"release"),!(!tE(x)||!qh.has(f))&&(qh.delete(f),typeof p=="function"&&p(x,{success:E}))},v=x=>{(x.isTrusted?SP(x,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(x,!1):m(x,!(f instanceof Element)||p_(f,x.target))},b=x=>{m(x,!1)};f.addEventListener("pointerup",v,r),f.addEventListener("pointercancel",b,r),f.addEventListener("lostpointercapture",b,r)};return s.forEach(h=>{h=e.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!vP(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",c,r),f&&h.addEventListener("focus",p=>bP(p,r),r)}),l}function SP(a,t){return a.clientX<t.left||a.clientX>t.right||a.clientY<t.top||a.clientY>t.bottom}function xP(a){return a==="x"||a==="y"?Vs[a]?null:(Vs[a]=!0,()=>{Vs[a]=!1}):Vs.x||Vs.y?null:(Vs.x=Vs.y=!0,()=>{Vs.x=Vs.y=!1})}const g_=new Set(["width","height","top","left","right","bottom",...Hu]);let pg;function wP(){pg=void 0}const On={now:()=>(pg===void 0&&On.set(ci.isProcessing||vL.useManualTiming?ci.timestamp:performance.now()),pg),set:a=>{pg=a,queueMicrotask(wP)}};function EA(a,t){a.indexOf(t)===-1&&a.push(t)}function TA(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}class _A{constructor(){this.subscriptions=[]}add(t){return EA(this.subscriptions,t),()=>TA(this.subscriptions,t)}notify(t,e,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,s);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function m_(a,t){return t?a*(1e3/t):0}const eE=30,EP=a=>!isNaN(parseFloat(a));class TP{constructor(t,e={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const l=On.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=On.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=EP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new _A);const s=this.events[t].add(e);return t==="change"?()=>{s(),le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>eE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,eE);return m_(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(a,t){return new TP(a,t)}function _P(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,bd(e))}function CP(a,t){const e=vd(a,t);let{transitionEnd:s={},transition:r={},...l}=e||{};l={...l,...s};for(const c in l){const h=nP(l[c]);_P(a,c,h)}}function RP(a){return!!(wi(a)&&a.add)}function wv(a,t){const e=a.getValue("willChange");if(RP(e))return e.add(t)}function y_(a){return a.props[$T]}const v_=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,MP=1e-7,DP=12;function LP(a,t,e,s,r){let l,c,h=0;do c=t+(e-t)/2,l=v_(c,s,r)-a,l>0?e=c:t=c;while(Math.abs(l)>MP&&++h<DP);return c}function jf(a,t,e,s){if(a===t&&e===s)return us;const r=l=>LP(l,0,1,a,e);return l=>l===0||l===1?l:v_(r(l),t,s)}const b_=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,A_=a=>t=>1-a(1-t),S_=jf(.33,1.53,.69,.99),CA=A_(S_),x_=b_(CA),w_=a=>(a*=2)<1?.5*CA(a):.5*(2-Math.pow(2,-10*(a-1))),RA=a=>1-Math.sin(Math.acos(a)),E_=A_(RA),T_=b_(RA),__=a=>/^0[^.\s]+$/u.test(a);function PP(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||__(a):!0}const cd=a=>Math.round(a*1e5)/1e5,MA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OP(a){return a==null}const kP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DA=(a,t)=>e=>!!(typeof e=="string"&&kP.test(e)&&e.startsWith(a)||t&&!OP(e)&&Object.prototype.hasOwnProperty.call(e,t)),C_=(a,t,e)=>s=>{if(typeof s!="string")return s;const[r,l,c,h]=s.match(MA);return{[a]:parseFloat(r),[t]:parseFloat(l),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},NP=a=>ka(0,255,a),iv={...Bu,transform:a=>Math.round(NP(a))},To={test:DA("rgb","red"),parse:C_("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:s=1})=>"rgba("+iv.transform(a)+", "+iv.transform(t)+", "+iv.transform(e)+", "+cd(yd.transform(s))+")"};function FP(a){let t="",e="",s="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),s=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),s=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Ev={test:DA("#"),parse:FP,transform:To.transform},Tc={test:DA("hsl","hue"),parse:C_("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(a)+", "+Pn.transform(cd(t))+", "+Pn.transform(cd(e))+", "+cd(yd.transform(s))+")"},Si={test:a=>To.test(a)||Ev.test(a)||Tc.test(a),parse:a=>To.test(a)?To.parse(a):Tc.test(a)?Tc.parse(a):Ev.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?To.transform(a):Tc.transform(a)},HP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BP(a){var t,e;return isNaN(a)&&typeof a=="string"&&(((t=a.match(MA))===null||t===void 0?void 0:t.length)||0)+(((e=a.match(HP))===null||e===void 0?void 0:e.length)||0)>0}const R_="number",M_="color",IP="var",jP="var(",iE="${}",zP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ad(a){const t=a.toString(),e=[],s={color:[],number:[],var:[]},r=[];let l=0;const h=t.replace(zP,f=>(Si.test(f)?(s.color.push(l),r.push(M_),e.push(Si.parse(f))):f.startsWith(jP)?(s.var.push(l),r.push(IP),e.push(f)):(s.number.push(l),r.push(R_),e.push(parseFloat(f))),++l,iE)).split(iE);return{values:e,split:h,indexes:s,types:r}}function D_(a){return Ad(a).values}function L_(a){const{split:t,types:e}=Ad(a),s=t.length;return r=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],r[c]!==void 0){const h=e[c];h===R_?l+=cd(r[c]):h===M_?l+=Si.transform(r[c]):l+=r[c]}return l}}const VP=a=>typeof a=="number"?0:a;function UP(a){const t=D_(a);return L_(a)(t.map(VP))}const Ir={test:BP,parse:D_,createTransformer:L_,getAnimatableNone:UP},GP=new Set(["brightness","contrast","saturate","opacity"]);function qP(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[s]=e.match(MA)||[];if(!s)return a;const r=e.replace(s,"");let l=GP.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+r+")"}const XP=/\b([a-z-]*)\(.*?\)/gu,Tv={...Ir,getAnimatableNone:a=>{const t=a.match(XP);return t?t.map(qP).join(" "):a}},YP={...dA,color:Si,backgroundColor:Si,outlineColor:Si,fill:Si,stroke:Si,borderColor:Si,borderTopColor:Si,borderRightColor:Si,borderBottomColor:Si,borderLeftColor:Si,filter:Tv,WebkitFilter:Tv},LA=a=>YP[a];function P_(a,t){let e=LA(a);return e!==Tv&&(e=Ir),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const $P=new Set(["auto","none","0"]);function WP(a,t,e){let s=0,r;for(;s<a.length&&!r;){const l=a[s];typeof l=="string"&&!$P.has(l)&&Ad(l).values.length&&(r=a[s]),s++}if(r&&e)for(const l of t)a[l]=P_(e,r)}const sE=a=>a===Bu||a===St,nE=(a,t)=>parseFloat(a.split(", ")[t]),aE=(a,t)=>(e,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return nE(r[1],t);{const l=s.match(/^matrix\((.+)\)$/u);return l?nE(l[1],a):0}},KP=new Set(["x","y","z"]),QP=Hu.filter(a=>!KP.has(a));function ZP(a){const t=[];return QP.forEach(e=>{const s=a.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Nu={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:aE(4,13),y:aE(5,14)};Nu.translateX=Nu.x;Nu.translateY=Nu.y;const xl=new Set;let _v=!1,Cv=!1;function O_(){if(Cv){const a=Array.from(xl).filter(s=>s.needsMeasurement),t=new Set(a.map(s=>s.element)),e=new Map;t.forEach(s=>{const r=ZP(s);r.length&&(e.set(s,r),s.render())}),a.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=e.get(s);r&&r.forEach(([l,c])=>{var h;(h=s.getValue(l))===null||h===void 0||h.set(c)})}),a.forEach(s=>s.measureEndState()),a.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Cv=!1,_v=!1,xl.forEach(a=>a.complete()),xl.clear()}function k_(){xl.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Cv=!0)})}function JP(){k_(),O_()}class PA{constructor(t,e,s,r,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xl.add(this),_v||(_v=!0,le.read(k_),le.resolveKeyframes(O_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:r}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=r==null?void 0:r.get(),h=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&e){const f=s.readValue(e,h);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=h),r&&c===void 0&&r.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const N_=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),tO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eO(a){const t=tO.exec(a);if(!t)return[,];const[,e,s,r]=t;return[`--${e??s}`,r]}function F_(a,t,e=1){const[s,r]=eO(a);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return N_(c)?parseFloat(c):c}return hA(r)?F_(r,t,e+1):r}const H_=a=>t=>t.test(a),iO={test:a=>a==="auto",parse:a=>a},B_=[Bu,St,Pn,or,zL,jL,iO],rE=a=>B_.find(H_(a));class I_ extends PA{constructor(t,e,s,r,l){super(t,e,s,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),hA(p))){const m=F_(p,e.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!g_.has(s)||t.length!==2)return;const[r,l]=t,c=rE(r),h=rE(l);if(c!==h)if(sE(c)&&sE(h))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let r=0;r<t.length;r++)PP(t[r])&&s.push(r);s.length&&WP(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nu[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const l=e.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,h=r[c];r[c]=Nu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const oE=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Ir.test(a)||a==="0")&&!a.startsWith("url("));function sO(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function nO(a,t,e,s){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],c=oE(r,t),h=oE(l,t);return!c||!h?!1:sO(a)||(e==="spring"||SA(e))&&s}const aO=a=>a!==null;function _m(a,{repeat:t,repeatType:e="loop"},s){const r=a.filter(aO),l=t&&e!=="loop"&&t%2===1?0:r.length-1;return!l||s===void 0?r[l]:s}const rO=40;class j_{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=On.now(),this.options={autoplay:t,delay:e,type:s,repeat:r,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JP(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=On.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:l,delay:c,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!nO(t,s,r,l))if(c)this.options.duration=0;else{f&&f(_m(t,this.options,e)),h&&h(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const be=(a,t,e)=>a+(t-a)*e;function sv(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function oO({hue:a,saturation:t,lightness:e,alpha:s}){a/=360,t/=100,e/=100;let r=0,l=0,c=0;if(!t)r=l=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,f=2*e-h;r=sv(f,h,a+1/3),l=sv(f,h,a),c=sv(f,h,a-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Wg(a,t){return e=>e>0?t:a}const nv=(a,t,e)=>{const s=a*a,r=e*(t*t-s)+s;return r<0?0:Math.sqrt(r)},lO=[Ev,To,Tc],cO=a=>lO.find(t=>t.test(a));function lE(a){const t=cO(a);if(!t)return!1;let e=t.parse(a);return t===Tc&&(e=oO(e)),e}const cE=(a,t)=>{const e=lE(a),s=lE(t);if(!e||!s)return Wg(a,t);const r={...e};return l=>(r.red=nv(e.red,s.red,l),r.green=nv(e.green,s.green,l),r.blue=nv(e.blue,s.blue,l),r.alpha=be(e.alpha,s.alpha,l),To.transform(r))},uO=(a,t)=>e=>t(a(e)),zf=(...a)=>a.reduce(uO),Rv=new Set(["none","hidden"]);function hO(a,t){return Rv.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function dO(a,t){return e=>be(a,t,e)}function OA(a){return typeof a=="number"?dO:typeof a=="string"?hA(a)?Wg:Si.test(a)?cE:gO:Array.isArray(a)?z_:typeof a=="object"?Si.test(a)?cE:fO:Wg}function z_(a,t){const e=[...a],s=e.length,r=a.map((l,c)=>OA(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=r[c](l);return e}}function fO(a,t){const e={...a,...t},s={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(s[r]=OA(a[r])(a[r],t[r]));return r=>{for(const l in s)e[l]=s[l](r);return e}}function pO(a,t){var e;const s=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],h=a.indexes[c][r[c]],f=(e=a.values[h])!==null&&e!==void 0?e:0;s[l]=f,r[c]++}return s}const gO=(a,t)=>{const e=Ir.createTransformer(t),s=Ad(a),r=Ad(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Rv.has(a)&&!r.values.length||Rv.has(t)&&!s.values.length?hO(a,t):zf(z_(pO(s,r),r.values),e):Wg(a,t)};function V_(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?be(a,t,e):OA(a)(a,t)}const mO=5;function U_(a,t,e){const s=Math.max(t-mO,0);return m_(e-a(s),t-s)}const Te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uE=.001;function yO({duration:a=Te.duration,bounce:t=Te.bounce,velocity:e=Te.velocity,mass:s=Te.mass}){let r,l,c=1-t;c=ka(Te.minDamping,Te.maxDamping,c),a=ka(Te.minDuration,Te.maxDuration,Da(a)),c<1?(r=p=>{const m=p*c,v=m*a,b=m-e,x=Mv(p,c),E=Math.exp(-v);return uE-b/x*E},l=p=>{const v=p*c*a,b=v*e+e,x=Math.pow(c,2)*Math.pow(p,2)*a,E=Math.exp(-v),C=Mv(Math.pow(p,2),c);return(-r(p)+uE>0?-1:1)*((b-x)*E)/C}):(r=p=>{const m=Math.exp(-p*a),v=(p-e)*a+1;return-.001+m*v},l=p=>{const m=Math.exp(-p*a),v=(e-p)*(a*a);return m*v});const h=5/a,f=bO(r,l,h);if(a=Ma(a),isNaN(f))return{stiffness:Te.stiffness,damping:Te.damping,duration:a};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:a}}}const vO=12;function bO(a,t,e){let s=e;for(let r=1;r<vO;r++)s=s-a(s)/t(s);return s}function Mv(a,t){return a*Math.sqrt(1-t*t)}const AO=["duration","bounce"],SO=["stiffness","damping","mass"];function hE(a,t){return t.some(e=>a[e]!==void 0)}function xO(a){let t={velocity:Te.velocity,stiffness:Te.stiffness,damping:Te.damping,mass:Te.mass,isResolvedFromDuration:!1,...a};if(!hE(a,SO)&&hE(a,AO))if(a.visualDuration){const e=a.visualDuration,s=2*Math.PI/(e*1.2),r=s*s,l=2*ka(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:Te.mass,stiffness:r,damping:l}}else{const e=yO(a);t={...t,...e,mass:Te.mass},t.isResolvedFromDuration=!0}return t}function G_(a=Te.visualDuration,t=Te.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:s,restDelta:r}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:m,duration:v,velocity:b,isResolvedFromDuration:x}=xO({...e,velocity:-Da(e.velocity||0)}),E=b||0,C=p/(2*Math.sqrt(f*m)),P=c-l,D=Da(Math.sqrt(f/m)),H=Math.abs(P)<5;s||(s=H?Te.restSpeed.granular:Te.restSpeed.default),r||(r=H?Te.restDelta.granular:Te.restDelta.default);let O;if(C<1){const S=Mv(D,C);O=R=>{const k=Math.exp(-C*D*R);return c-k*((E+C*D*P)/S*Math.sin(S*R)+P*Math.cos(S*R))}}else if(C===1)O=S=>c-Math.exp(-D*S)*(P+(E+D*P)*S);else{const S=D*Math.sqrt(C*C-1);O=R=>{const k=Math.exp(-C*D*R),F=Math.min(S*R,300);return c-k*((E+C*D*P)*Math.sinh(F)+S*P*Math.cosh(F))/S}}const A={calculatedDuration:x&&v||null,next:S=>{const R=O(S);if(x)h.done=S>=v;else{let k=0;C<1&&(k=S===0?Ma(E):U_(O,S,R));const F=Math.abs(k)<=s,B=Math.abs(c-R)<=r;h.done=F&&B}return h.value=h.done?c:R,h},toString:()=>{const S=Math.min(l_(A),Sv),R=c_(k=>A.next(S*k).value,S,30);return S+"ms "+R}};return A}function dE({keyframes:a,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:p=.5,restSpeed:m}){const v=a[0],b={done:!1,value:v},x=F=>h!==void 0&&F<h||f!==void 0&&F>f,E=F=>h===void 0?f:f===void 0||Math.abs(h-F)<Math.abs(f-F)?h:f;let C=e*t;const P=v+C,D=c===void 0?P:c(P);D!==P&&(C=D-v);const H=F=>-C*Math.exp(-F/s),O=F=>D+H(F),A=F=>{const B=H(F),q=O(F);b.done=Math.abs(B)<=p,b.value=b.done?D:q};let S,R;const k=F=>{x(b.value)&&(S=F,R=G_({keyframes:[b.value,E(b.value)],velocity:U_(O,F,b.value),damping:r,stiffness:l,restDelta:p,restSpeed:m}))};return k(0),{calculatedDuration:null,next:F=>{let B=!1;return!R&&S===void 0&&(B=!0,A(F),k(F)),S!==void 0&&F>=S?R.next(F-S):(!B&&A(F),b)}}}const wO=jf(.42,0,1,1),EO=jf(0,0,.58,1),q_=jf(.42,0,.58,1),TO=a=>Array.isArray(a)&&typeof a[0]!="number",_O={linear:us,easeIn:wO,easeInOut:q_,easeOut:EO,circIn:RA,circInOut:T_,circOut:E_,backIn:CA,backInOut:x_,backOut:S_,anticipate:w_},fE=a=>{if(xA(a)){UT(a.length===4);const[t,e,s,r]=a;return jf(t,e,s,r)}else if(typeof a=="string")return _O[a];return a};function CO(a,t,e){const s=[],r=e||V_,l=a.length-1;for(let c=0;c<l;c++){let h=r(a[c],a[c+1]);if(t){const f=Array.isArray(t)?t[c]||us:t;h=zf(f,h)}s.push(h)}return s}function RO(a,t,{clamp:e=!0,ease:s,mixer:r}={}){const l=a.length;if(UT(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const h=CO(t,s,r),f=h.length,p=m=>{if(c&&m<a[0])return t[0];let v=0;if(f>1)for(;v<a.length-2&&!(m<a[v+1]);v++);const b=Ou(a[v],a[v+1],m);return h[v](b)};return e?m=>p(ka(a[0],a[l-1],m)):p}function MO(a,t){const e=a[a.length-1];for(let s=1;s<=t;s++){const r=Ou(0,t,s);a.push(be(e,1,r))}}function DO(a){const t=[0];return MO(t,a.length-1),t}function LO(a,t){return a.map(e=>e*t)}function PO(a,t){return a.map(()=>t||q_).splice(0,a.length-1)}function Kg({duration:a=300,keyframes:t,times:e,ease:s="easeInOut"}){const r=TO(s)?s.map(fE):fE(s),l={done:!1,value:t[0]},c=LO(e&&e.length===t.length?e:DO(t),a),h=RO(c,t,{ease:Array.isArray(r)?r:PO(t,r)});return{calculatedDuration:a,next:f=>(l.value=h(f),l.done=f>=a,l)}}const OO=a=>{const t=({timestamp:e})=>a(e);return{start:()=>le.update(t,!0),stop:()=>Br(t),now:()=>ci.isProcessing?ci.timestamp:On.now()}},kO={decay:dE,inertia:dE,tween:Kg,keyframes:Kg,spring:G_},NO=a=>a/100;class kA extends j_{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:e,motionValue:s,element:r,keyframes:l}=this.options,c=(r==null?void 0:r.KeyframeResolver)||PA,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new c(l,h,e,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=this.options,h=SA(e)?e:kO[e]||Kg;let f,p;h!==Kg&&typeof t[0]!="number"&&(f=zf(NO,V_(t[0],t[1])),t=[0,100]);const m=h({...this.options,keyframes:t});l==="mirror"&&(p=h({...this.options,keyframes:[...t].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=l_(m));const{calculatedDuration:v}=m,b=v+r,x=b*(s+1)-r;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:b,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:s}=this;if(!s){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:r,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=s;if(this.startTime===null)return l.next(0);const{delay:b,repeat:x,repeatType:E,repeatDelay:C,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const D=this.currentTime-b*(this.speed>=0?1:-1),H=this.speed>=0?D<0:D>m;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let O=this.currentTime,A=l;if(x){const F=Math.min(this.currentTime,m)/v;let B=Math.floor(F),q=F%1;!q&&F>=1&&(q=1),q===1&&B--,B=Math.min(B,x+1),!!(B%2)&&(E==="reverse"?(q=1-q,C&&(q-=C/v)):E==="mirror"&&(A=c)),O=ka(0,1,q)*v}const S=H?{done:!1,value:f[0]}:A.next(O);h&&(S.value=h(S.value));let{done:R}=S;!H&&p!==null&&(R=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return k&&r!==void 0&&(S.value=_m(f,this.options,r)),P&&P(S.value),k&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Da(t.calculatedDuration):0}get time(){return Da(this.currentTime)}set time(t){t=Ma(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Da(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=OO,onPlay:e,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),e&&e();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const FO=new Set(["opacity","clipPath","filter","transform"]);function HO(a,t,e,{delay:s=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:f}={}){const p={[t]:e};f&&(p.offset=f);const m=h_(h,r);return Array.isArray(m)&&(p.easing=m),a.animate(p,{delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const BO=aA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qg=10,IO=2e4;function jO(a){return SA(a.type)||a.type==="spring"||!u_(a.ease)}function zO(a,t){const e=new kA({...t,keyframes:a,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:a[0]};const r=[];let l=0;for(;!s.done&&l<IO;)s=e.sample(l),r.push(s.value),l+=Qg;return{times:void 0,keyframes:r,duration:l-Qg,ease:"linear"}}const X_={anticipate:w_,backInOut:x_,circInOut:T_};function VO(a){return a in X_}class pE extends j_{constructor(t){super(t);const{name:e,motionValue:s,element:r,keyframes:l}=this.options;this.resolver=new I_(l,(c,h)=>this.onKeyframesResolved(c,h),e,s,r),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:s=300,times:r,ease:l,type:c,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Yg()&&VO(l)&&(l=X_[l]),jO(this.options)){const{onComplete:v,onUpdate:b,motionValue:x,element:E,...C}=this.options,P=zO(t,C);t=P.keyframes,t.length===1&&(t[1]=t[0]),s=P.duration,r=P.times,l=P.ease,c="keyframes"}const m=HO(h.owner.current,f,t,{...this.options,duration:s,times:r,ease:l});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(Q1(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;h.set(_m(t,this.options,e)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:s,times:r,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Da(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Da(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.currentTime=Ma(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return us;const{animation:s}=e;Q1(s,t)}return us}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:s,duration:r,type:l,ease:c,times:h}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:b,...x}=this.options,E=new kA({...x,keyframes:s,duration:r,type:l,ease:c,times:h,isGenerator:!0}),C=Ma(this.time);p.setWithVelocity(E.sample(C-Qg).value,E.sample(C).value,Qg)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:s,repeatDelay:r,repeatType:l,damping:c,type:h}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return BO()&&s&&FO.has(s)&&!f&&!p&&!r&&l!=="mirror"&&c!==0&&h!=="inertia"}}const UO={type:"spring",stiffness:500,damping:25,restSpeed:10},GO=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),qO={type:"keyframes",duration:.8},XO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YO=(a,{keyframes:t})=>t.length>2?qO:Ml.has(a)?a.startsWith("scale")?GO(t[1]):UO:XO;function $O({when:a,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const NA=(a,t,e,s={},r,l)=>c=>{const h=AA(s,a)||{},f=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ma(f);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:a,motionValue:t,element:l?void 0:r};$O(h)||(m={...m,...YO(a,m)}),m.duration&&(m.duration=Ma(m.duration)),m.repeatDelay&&(m.repeatDelay=Ma(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!l&&t.get()!==void 0){const b=_m(m.keyframes,h);if(b!==void 0)return le.update(()=>{m.onUpdate(b),m.onComplete()}),new dP([])}return!l&&pE.supports(m)?new pE(m):new kA(m)};function WO({protectedKeys:a,needsAnimating:t},e){const s=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function Y_(a,t,{delay:e=0,transitionOverride:s,type:r}={}){var l;let{transition:c=a.getDefaultTransition(),transitionEnd:h,...f}=t;s&&(c=s);const p=[],m=r&&a.animationState&&a.animationState.getState()[r];for(const v in f){const b=a.getValue(v,(l=a.latestValues[v])!==null&&l!==void 0?l:null),x=f[v];if(x===void 0||m&&WO(m,v))continue;const E={delay:e,...AA(c||{},v)};let C=!1;if(window.MotionHandoffAnimation){const D=y_(a);if(D){const H=window.MotionHandoffAnimation(D,v,le);H!==null&&(E.startTime=H,C=!0)}}wv(a,v),b.start(NA(v,b,x,a.shouldReduceMotion&&g_.has(v)?{type:!1}:E,a,C));const P=b.animation;P&&p.push(P)}return h&&Promise.all(p).then(()=>{le.update(()=>{h&&CP(a,h)})}),p}function Dv(a,t,e={}){var s;const r=vd(a,t,e.type==="exit"?(s=a.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=a.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(l=e.transitionOverride);const c=r?()=>Promise.all(Y_(a,r,e)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:b}=l;return KO(a,t,m+p,v,b,e)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,m]=f==="beforeChildren"?[c,h]:[h,c];return p().then(()=>m())}else return Promise.all([c(),h(e.delay)])}function KO(a,t,e=0,s=0,r=1,l){const c=[],h=(a.variantChildren.size-1)*s,f=r===1?(p=0)=>p*s:(p=0)=>h-p*s;return Array.from(a.variantChildren).sort(QO).forEach((p,m)=>{p.notify("AnimationStart",t),c.push(Dv(p,t,{...l,delay:e+f(m)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function QO(a,t){return a.sortNodePosition(t)}function ZO(a,t,e={}){a.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(l=>Dv(a,l,e));s=Promise.all(r)}else if(typeof t=="string")s=Dv(a,t,e);else{const r=typeof t=="function"?vd(a,t,e.custom):t;s=Promise.all(Y_(a,r,e))}return s.then(()=>{a.notify("AnimationComplete",t)})}function $_(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let s=0;s<e;s++)if(t[s]!==a[s])return!1;return!0}const JO=oA.length;function W_(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?W_(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<JO;e++){const s=oA[e],r=a.props[s];(gd(r)||r===!1)&&(t[s]=r)}return t}const tk=[...rA].reverse(),ek=rA.length;function ik(a){return t=>Promise.all(t.map(({animation:e,options:s})=>ZO(a,e,s)))}function sk(a){let t=ik(a),e=gE(),s=!0;const r=f=>(p,m)=>{var v;const b=vd(a,m,f==="exit"?(v=a.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:x,transitionEnd:E,...C}=b;p={...p,...C,...E}}return p};function l(f){t=f(a)}function c(f){const{props:p}=a,m=W_(a.parent)||{},v=[],b=new Set;let x={},E=1/0;for(let P=0;P<ek;P++){const D=tk[P],H=e[D],O=p[D]!==void 0?p[D]:m[D],A=gd(O),S=D===f?H.isActive:null;S===!1&&(E=P);let R=O===m[D]&&O!==p[D]&&A;if(R&&s&&a.manuallyAnimateOnMount&&(R=!1),H.protectedKeys={...x},!H.isActive&&S===null||!O&&!H.prevProp||Em(O)||typeof O=="boolean")continue;const k=nk(H.prevProp,O);let F=k||D===f&&H.isActive&&!R&&A||P>E&&A,B=!1;const q=Array.isArray(O)?O:[O];let Y=q.reduce(r(D),{});S===!1&&(Y={});const{prevResolvedValues:ct={}}=H,ot={...ct,...Y},lt=W=>{F=!0,b.has(W)&&(B=!0,b.delete(W)),H.needsAnimating[W]=!0;const tt=a.getValue(W);tt&&(tt.liveStyle=!1)};for(const W in ot){const tt=Y[W],wt=ct[W];if(x.hasOwnProperty(W))continue;let I=!1;Av(tt)&&Av(wt)?I=!$_(tt,wt):I=tt!==wt,I?tt!=null?lt(W):b.add(W):tt!==void 0&&b.has(W)?lt(W):H.protectedKeys[W]=!0}H.prevProp=O,H.prevResolvedValues=Y,H.isActive&&(x={...x,...Y}),s&&a.blockInitialAnimation&&(F=!1),F&&(!(R&&k)||B)&&v.push(...q.map(W=>({animation:W,options:{type:D}})))}if(b.size){const P={};if(typeof p.initial!="boolean"){const D=vd(a,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(P.transition=D.transition)}b.forEach(D=>{const H=a.getBaseTarget(D),O=a.getValue(D);O&&(O.liveStyle=!0),P[D]=H??null}),v.push({animation:P})}let C=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(C=!1),s=!1,C?t(v):Promise.resolve()}function h(f,p){var m;if(e[f].isActive===p)return Promise.resolve();(m=a.variantChildren)===null||m===void 0||m.forEach(b=>{var x;return(x=b.animationState)===null||x===void 0?void 0:x.setActive(f,p)}),e[f].isActive=p;const v=c(f);for(const b in e)e[b].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=gE(),s=!0}}}function nk(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!$_(t,a):!1}function mo(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gE(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class Gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ak extends Gr{constructor(t){super(t),t.animationState||(t.animationState=sk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Em(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let rk=0;class ok extends Gr{constructor(){super(...arguments),this.id=rk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lk={animation:{Feature:ak},exit:{Feature:ok}};function Sd(a,t,e,s={passive:!0}){return a.addEventListener(t,e,s),()=>a.removeEventListener(t,e)}function Vf(a){return{point:{x:a.pageX,y:a.pageY}}}const ck=a=>t=>wA(t)&&a(t,Vf(t));function _c(a,t,e,s){return Sd(a,t,ck(e),s)}function K_({top:a,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:a,max:s}}}function uk({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function hk(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),s=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}const Q_=1e-4,dk=1-Q_,fk=1+Q_,Z_=.01,pk=0-Z_,gk=0+Z_;function Li(a){return a.max-a.min}function mk(a,t,e){return Math.abs(a-t)<=e}function mE(a,t,e,s=.5){a.origin=s,a.originPoint=be(t.min,t.max,a.origin),a.scale=Li(e)/Li(t),a.translate=be(e.min,e.max,a.origin)-a.originPoint,(a.scale>=dk&&a.scale<=fk||isNaN(a.scale))&&(a.scale=1),(a.translate>=pk&&a.translate<=gk||isNaN(a.translate))&&(a.translate=0)}function ud(a,t,e,s){mE(a.x,t.x,e.x,s?s.originX:void 0),mE(a.y,t.y,e.y,s?s.originY:void 0)}function yE(a,t,e){a.min=e.min+t.min,a.max=a.min+Li(t)}function yk(a,t,e){yE(a.x,t.x,e.x),yE(a.y,t.y,e.y)}function vE(a,t,e){a.min=t.min-e.min,a.max=a.min+Li(t)}function hd(a,t,e){vE(a.x,t.x,e.x),vE(a.y,t.y,e.y)}const bE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cc=()=>({x:bE(),y:bE()}),AE=()=>({min:0,max:0}),Me=()=>({x:AE(),y:AE()});function Cs(a){return[a("x"),a("y")]}function av(a){return a===void 0||a===1}function Lv({scale:a,scaleX:t,scaleY:e}){return!av(a)||!av(t)||!av(e)}function vo(a){return Lv(a)||J_(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function J_(a){return SE(a.x)||SE(a.y)}function SE(a){return a&&a!=="0%"}function Zg(a,t,e){const s=a-e,r=t*s;return e+r}function xE(a,t,e,s,r){return r!==void 0&&(a=Zg(a,r,s)),Zg(a,e,s)+t}function Pv(a,t=0,e=1,s,r){a.min=xE(a.min,t,e,s,r),a.max=xE(a.max,t,e,s,r)}function tC(a,{x:t,y:e}){Pv(a.x,t.translate,t.scale,t.originPoint),Pv(a.y,e.translate,e.scale,e.originPoint)}const wE=.999999999999,EE=1.0000000000001;function vk(a,t,e,s=!1){const r=e.length;if(!r)return;t.x=t.y=1;let l,c;for(let h=0;h<r;h++){l=e[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Mc(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tC(a,c)),s&&vo(l.latestValues)&&Mc(a,l.latestValues))}t.x<EE&&t.x>wE&&(t.x=1),t.y<EE&&t.y>wE&&(t.y=1)}function Rc(a,t){a.min=a.min+t,a.max=a.max+t}function TE(a,t,e,s,r=.5){const l=be(a.min,a.max,r);Pv(a,t,e,l,s)}function Mc(a,t){TE(a.x,t.x,t.scaleX,t.scale,t.originX),TE(a.y,t.y,t.scaleY,t.scale,t.originY)}function eC(a,t){return K_(hk(a.getBoundingClientRect(),t))}function bk(a,t,e){const s=eC(a,e),{scroll:r}=t;return r&&(Rc(s.x,r.offset.x),Rc(s.y,r.offset.y)),s}const _E=(a,t)=>Math.abs(a-t);function Ak(a,t){const e=_E(a.x,t.x),s=_E(a.y,t.y);return Math.sqrt(e**2+s**2)}class iC{constructor(t,e,{transformPagePoint:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ov(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=Ak(m.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:x}=m,{timestamp:E}=ci;this.history.push({...x,timestamp:E});const{onStart:C,onMove:P}=this.handlers;v||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{if(m.target instanceof Element&&m.target.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.target.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=rv(v,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{$g(m,"release"),this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=ov(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:rv(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,C),x&&x(m,C)},!wA(t))return;this.dragSnapToOrigin=r,this.handlers=e,this.transformPagePoint=s;const l=Vf(t),c=rv(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=ci;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=e;p&&p(t,ov(c,this.history)),$g(t,"set"),this.removeListeners=zf(_c(t.currentTarget,"pointermove",this.handlePointerMove),_c(t.currentTarget,"pointerup",this.handlePointerUp),_c(t.currentTarget,"pointercancel",this.handlePointerUp),_c(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function rv(a,t){return t?{point:t(a.point)}:a}function CE(a,t){return{x:a.x-t.x,y:a.y-t.y}}function ov({point:a},t){return{point:a,delta:CE(a,sC(t)),offset:CE(a,Sk(t)),velocity:xk(t,.1)}}function Sk(a){return a[0]}function sC(a){return a[a.length-1]}function xk(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,s=null;const r=sC(a);for(;e>=0&&(s=a[e],!(r.timestamp-s.timestamp>Ma(t)));)e--;if(!s)return{x:0,y:0};const l=Da(r.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-s.x)/l,y:(r.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function wk(a,{min:t,max:e},s){return t!==void 0&&a<t?a=s?be(t,a,s.min):Math.max(a,t):e!==void 0&&a>e&&(a=s?be(e,a,s.max):Math.min(a,e)),a}function RE(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function Ek(a,{top:t,left:e,bottom:s,right:r}){return{x:RE(a.x,e,r),y:RE(a.y,t,s)}}function ME(a,t){let e=t.min-a.min,s=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,s]=[s,e]),{min:e,max:s}}function Tk(a,t){return{x:ME(a.x,t.x),y:ME(a.y,t.y)}}function _k(a,t){let e=.5;const s=Li(a),r=Li(t);return r>s?e=Ou(t.min,t.max-s,a.min):s>r&&(e=Ou(a.min,a.max-r,t.min)),ka(0,1,e)}function Ck(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const Ov=.35;function Rk(a=Ov){return a===!1?a=0:a===!0&&(a=Ov),{x:DE(a,"left","right"),y:DE(a,"top","bottom")}}function DE(a,t,e){return{min:LE(a,t),max:LE(a,e)}}function LE(a,t){return typeof a=="number"?a:a[t]||0}const Mk=new WeakMap;class Dk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Me(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Vf(m).point)},l=(m,v)=>{const{drag:b,dragPropagation:x,onDragStart:E}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xP(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cs(P=>{let D=this.getAxisMotionValue(P).get()||0;if(Pn.test(D)){const{projection:H}=this.visualElement;if(H&&H.layout){const O=H.layout.layoutBox[P];O&&(D=Li(O)*(parseFloat(D)/100))}}this.originPoint[P]=D}),E&&le.postRender(()=>E(m,v)),wv(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(m,v)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:E,onDrag:C}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:P}=v;if(x&&this.currentDirection===null){this.currentDirection=Lk(P),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,P),this.updateAxis("y",v.point,P),this.visualElement.render(),C&&C(m,v)},h=(m,v)=>this.stop(m,v),f=()=>Cs(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new iC(t,{onSessionStart:r,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(t,e){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&le.postRender(()=>l(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:r}=this.getProps();if(!s||!rg(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=wk(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;e&&Ec(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ek(r.layoutBox,e):this.constraints=!1,this.elastic=Rk(s),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Ck(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ec(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=bk(s,r.root,this.visualElement.getTransformPagePoint());let c=Tk(r.layout.layoutBox,l);if(e){const h=e(uk(c));this.hasMutatedConstraints=!!h,h&&(c=K_(h))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Cs(m=>{if(!rg(m,e,this.currentDirection))return;let v=f&&f[m]||{};c&&(v={min:0,max:0});const b=r?200:1e6,x=r?40:1e7,E={type:"inertia",velocity:s?t[m]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,E)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return wv(this.visualElement,t),s.start(NA(t,s,0,e,this.visualElement,!1))}stopAnimation(){Cs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cs(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[e];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Cs(e=>{const{drag:s}=this.getProps();if(!rg(e,s,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[e];l.set(t[e]-be(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Ec(e)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Cs(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();r[c]=_k({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Cs(c=>{if(!rg(c,t,null))return;const h=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];h.set(be(f,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;Mk.set(this.visualElement,this);const t=this.visualElement.current,e=_c(t,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Ec(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),le.read(s);const c=Sd(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Cs(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=f[m].translate,v.set(v.get()+f[m].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=Ov,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function rg(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function Lk(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class Pk extends Gr{constructor(t){super(t),this.removeGroupControls=us,this.removeListeners=us,this.controls=new Dk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const PE=a=>(t,e)=>{a&&le.postRender(()=>a(t,e))};class Ok extends Gr{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(t){this.session=new iC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:PE(t),onStart:PE(e),onMove:s,onEnd:(l,c)=>{delete this.session,r&&le.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OE(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const jh={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(St.test(a))a=parseFloat(a);else return a;const e=OE(a,t.target.x),s=OE(a,t.target.y);return`${e}% ${s}%`}},kk={correct:(a,{treeScale:t,projectionDelta:e})=>{const s=a,r=Ir.parse(a);if(r.length>5)return s;const l=Ir.createTransformer(a),c=typeof r[0]!="number"?1:0,h=e.x.scale*t.x,f=e.y.scale*t.y;r[0+c]/=h,r[1+c]/=f;const p=be(h,f,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),l(r)}};class Nk extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:r}=this.props,{projection:l}=t;IL(Fk),l&&(e.group&&e.group.add(l),s&&s.register&&r&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),gg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:r,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,r||t.layoutDependency!==e||e===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||le.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nC(a){const[t,e]=mL(),s=Z.useContext(zT);return j.jsx(Nk,{...a,layoutGroup:s,switchLayoutGroup:Z.useContext(WT),isPresent:t,safeToRemove:e})}const Fk={borderRadius:{...jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jh,borderTopRightRadius:jh,borderBottomLeftRadius:jh,borderBottomRightRadius:jh,boxShadow:kk};function Hk(a,t,e){const s=wi(a)?a:bd(a);return s.start(NA("",s,t,e)),s.animation}function Bk(a){return a instanceof SVGElement&&a.tagName!=="svg"}const Ik=(a,t)=>a.depth-t.depth;class jk{constructor(){this.children=[],this.isDirty=!1}add(t){EA(this.children,t),this.isDirty=!0}remove(t){TA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ik),this.isDirty=!1,this.children.forEach(t)}}function zk(a,t){const e=On.now(),s=({timestamp:r})=>{const l=r-e;l>=t&&(Br(s),a(l-t))};return le.read(s,!0),()=>Br(s)}const aC=["TopLeft","TopRight","BottomLeft","BottomRight"],Vk=aC.length,kE=a=>typeof a=="string"?parseFloat(a):a,NE=a=>typeof a=="number"||St.test(a);function Uk(a,t,e,s,r,l){r?(a.opacity=be(0,e.opacity!==void 0?e.opacity:1,Gk(s)),a.opacityExit=be(t.opacity!==void 0?t.opacity:1,0,qk(s))):l&&(a.opacity=be(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,s));for(let c=0;c<Vk;c++){const h=`border${aC[c]}Radius`;let f=FE(t,h),p=FE(e,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||NE(f)===NE(p)?(a[h]=Math.max(be(kE(f),kE(p),s),0),(Pn.test(p)||Pn.test(f))&&(a[h]+="%")):a[h]=p}(t.rotate||e.rotate)&&(a.rotate=be(t.rotate||0,e.rotate||0,s))}function FE(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const Gk=rC(0,.5,E_),qk=rC(.5,.95,us);function rC(a,t,e){return s=>s<a?0:s>t?1:e(Ou(a,t,s))}function HE(a,t){a.min=t.min,a.max=t.max}function Ts(a,t){HE(a.x,t.x),HE(a.y,t.y)}function BE(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function IE(a,t,e,s,r){return a-=t,a=Zg(a,1/e,s),r!==void 0&&(a=Zg(a,1/r,s)),a}function Xk(a,t=0,e=1,s=.5,r,l=a,c=a){if(Pn.test(t)&&(t=parseFloat(t),t=be(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=be(l.min,l.max,s);a===l&&(h-=t),a.min=IE(a.min,t,e,h,r),a.max=IE(a.max,t,e,h,r)}function jE(a,t,[e,s,r],l,c){Xk(a,t[e],t[s],t[r],t.scale,l,c)}const Yk=["x","scaleX","originX"],$k=["y","scaleY","originY"];function zE(a,t,e,s){jE(a.x,t,Yk,e?e.x:void 0,s?s.x:void 0),jE(a.y,t,$k,e?e.y:void 0,s?s.y:void 0)}function VE(a){return a.translate===0&&a.scale===1}function oC(a){return VE(a.x)&&VE(a.y)}function UE(a,t){return a.min===t.min&&a.max===t.max}function Wk(a,t){return UE(a.x,t.x)&&UE(a.y,t.y)}function GE(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function lC(a,t){return GE(a.x,t.x)&&GE(a.y,t.y)}function qE(a){return Li(a.x)/Li(a.y)}function XE(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class Kk{constructor(){this.members=[]}add(t){EA(this.members,t),t.scheduleRender()}remove(t){if(TA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let s;for(let r=e;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qk(a,t,e){let s="";const r=a.x.translate/t.x,l=a.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((r||l||c)&&(s=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:b,skewX:x,skewY:E}=e;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),v&&(s+=`rotateX(${v}deg) `),b&&(s+=`rotateY(${b}deg) `),x&&(s+=`skewX(${x}deg) `),E&&(s+=`skewY(${E}deg) `)}const h=a.x.scale*t.x,f=a.y.scale*t.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const lv=["","X","Y","Z"],Zk={visibility:"hidden"},YE=1e3;let Jk=0;function cv(a,t,e,s){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),s&&(s[a]=0))}function cC(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=y_(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",le,!(r||l))}const{parent:s}=a;s&&!s.hasCheckedOptimisedAppear&&cC(s)}function uC({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},h=t==null?void 0:t()){this.id=Jk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iN),this.nodes.forEach(oN),this.nodes.forEach(lN),this.nodes.forEach(sN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new jk)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new _A),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Bk(c),this.instance=c;const{layoutId:f,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),a){let v;const b=()=>this.root.updateBlockedByResize=!1;a(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=zk(b,250),gg.hasAnimatedSinceResize&&(gg.hasAnimatedSinceResize=!1,this.nodes.forEach(WE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||fN,{onLayoutAnimationStart:P,onLayoutAnimationComplete:D}=m.getProps(),H=!this.targetLayout||!lC(this.targetLayout,E),O=!b&&x;if(this.options.layoutRoot||this.resumeFrom||O||b&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,O);const A={...AA(C,"layout"),onPlay:P,onComplete:D};(m.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else b||WE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($E);return}this.isUpdating||this.nodes.forEach(aN),this.isUpdating=!1,this.nodes.forEach(rN),this.nodes.forEach(tN),this.nodes.forEach(eN),this.clearAllSnapshots();const h=On.now();ci.delta=ka(0,1e3/60,h-ci.timestamp),ci.timestamp=h,ci.isProcessing=!0,tv.update.process(ci),tv.preRender.process(ci),tv.render.process(ci),ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nN),this.sharedNodes.forEach(uN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Li(this.snapshot.measuredBox.x)&&!Li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!oC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&(h||vo(this.latestValues)||m)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),pN(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return Me();const f=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(gN))){const{scroll:m}=this.root;m&&(Rc(f.x,m.offset.x),Rc(f.y,m.offset.y))}return f}removeElementScroll(c){var h;const f=Me();if(Ts(f,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:b}=m;m!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Ts(f,c),Rc(f.x,v.offset.x),Rc(f.y,v.offset.y))}return f}applyTransform(c,h=!1){const f=Me();Ts(f,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!h&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Mc(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),vo(m.latestValues)&&Mc(f,m.latestValues)}return vo(this.latestValues)&&Mc(f,this.latestValues),f}removeTransform(c){const h=Me();Ts(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!vo(p.latestValues))continue;Lv(p.latestValues)&&p.updateSnapshot();const m=Me(),v=p.measurePageBox();Ts(m,v),zE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return vo(this.latestValues)&&zE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=ci.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),hd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Me(),this.targetWithTransforms=Me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),tC(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),hd(this.relativeTargetOrigin,this.target,x.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lv(this.parent.latestValues)||J_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ci.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Ts(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;vk(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Me());const{target:E}=h;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BE(this.prevProjectionDelta.x,this.projectionDelta.x),BE(this.prevProjectionDelta.y,this.projectionDelta.y)),ud(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!XE(this.projectionDelta.x,this.prevProjectionDelta.x)||!XE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cc(),this.projectionDelta=Cc(),this.projectionDeltaWithTransform=Cc()}setAnimationOrigin(c,h=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},v=Cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Me(),x=f?f.source:void 0,E=this.layout?this.layout.source:void 0,C=x!==E,P=this.getStack(),D=!P||P.members.length<=1,H=!!(C&&!D&&this.options.crossfade===!0&&!this.path.some(dN));this.animationProgress=0;let O;this.mixTargetDelta=A=>{const S=A/1e3;KE(v.x,c.x,S),KE(v.y,c.y,S),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hN(this.relativeTarget,this.relativeTargetOrigin,b,S),O&&Wk(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Me()),Ts(O,this.relativeTarget)),C&&(this.animationValues=m,Uk(m,p,this.latestValues,S,H,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{gg.hasAnimatedSinceResize=!0,this.currentAnimation=Hk(0,YE,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:m}=c;if(!(!h||!f||!p)){if(this!==c&&this.layout&&p&&hC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Me();const v=Li(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const b=Li(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}Ts(h,f),Mc(h,m),ud(this.projectionDeltaWithTransform,this.layoutCorrected,h,m)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Kk),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&cv("z",c,p,this.animationValues);for(let m=0;m<lv.length;m++)cv(`rotate${lv[m]}`,c,p,this.animationValues),cv(`skew${lv[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}getProjectionStyles(c){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Zk;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=fg(c==null?void 0:c.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=fg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!vo(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=Qk(this.projectionDeltaWithTransform,this.treeScale,b),m&&(p.transform=m(b,p.transform));const{x,y:E}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,v.animationValues?p.opacity=v===this?(f=(h=b.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const C in md){if(b[C]===void 0)continue;const{correct:P,applyTo:D,isCSSVariable:H}=md[C],O=p.transform==="none"?b[C]:P(b[C],v);if(D){const A=D.length;for(let S=0;S<A;S++)p[D[S]]=O}else H?this.options.visualElement.renderState.vars[C]=O:p[C]=O}return this.options.layoutId&&(p.pointerEvents=v===this?fg(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach($E),this.root.sharedNodes.clear()}}}function tN(a){a.updateLayout()}function eN(a){var t;const e=((t=a.resumeFrom)===null||t===void 0?void 0:t.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&e&&a.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=a.layout,{animationType:l}=a.options,c=e.source!==a.layout.source;l==="size"?Cs(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],x=Li(b);b.min=s[v].min,b.max=b.min+x}):hC(l,e.layoutBox,s)&&Cs(v=>{const b=c?e.measuredBox[v]:e.layoutBox[v],x=Li(s[v]);b.max=b.min+x,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[v].max=a.relativeTarget[v].min+x)});const h=Cc();ud(h,s,e.layoutBox);const f=Cc();c?ud(f,a.applyTransform(r,!0),e.measuredBox):ud(f,s,e.layoutBox);const p=!oC(h);let m=!1;if(!a.resumeFrom){const v=a.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:x}=v;if(b&&x){const E=Me();hd(E,e.layoutBox,b.layoutBox);const C=Me();hd(C,s,x.layoutBox),lC(E,C)||(m=!0),v.options.layoutRoot&&(a.relativeTarget=C,a.relativeTargetOrigin=E,a.relativeParent=v)}}}a.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(a.isLead()){const{onExitComplete:s}=a.options;s&&s()}a.options.transition=void 0}function iN(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function sN(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function nN(a){a.clearSnapshot()}function $E(a){a.clearMeasurements()}function aN(a){a.isLayoutDirty=!1}function rN(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function WE(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function oN(a){a.resolveTargetDelta()}function lN(a){a.calcProjection()}function cN(a){a.resetSkewAndRotation()}function uN(a){a.removeLeadSnapshot()}function KE(a,t,e){a.translate=be(t.translate,0,e),a.scale=be(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function QE(a,t,e,s){a.min=be(t.min,e.min,s),a.max=be(t.max,e.max,s)}function hN(a,t,e,s){QE(a.x,t.x,e.x,s),QE(a.y,t.y,e.y,s)}function dN(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const fN={duration:.45,ease:[.4,0,.1,1]},ZE=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),JE=ZE("applewebkit/")&&!ZE("chrome/")?Math.round:us;function tT(a){a.min=JE(a.min),a.max=JE(a.max)}function pN(a){tT(a.x),tT(a.y)}function hC(a,t,e){return a==="position"||a==="preserve-aspect"&&!mk(qE(t),qE(e),.2)}function gN(a){var t;return a!==a.root&&((t=a.scroll)===null||t===void 0?void 0:t.wasRoot)}const mN=uC({attachResizeListener:(a,t)=>Sd(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uv={current:void 0},dC=uC({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!uv.current){const a=new mN({});a.mount(window),a.setOptions({layoutScroll:!0}),uv.current=a}return uv.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),yN={pan:{Feature:Ok},drag:{Feature:Pk,ProjectionNode:dC,MeasureLayout:nC}};function eT(a,t,e){const{props:s}=a;a.animationState&&s.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,l=s[r];l&&le.postRender(()=>l(t,Vf(t)))}class vN extends Gr{mount(){const{current:t}=this.node;t&&(this.unmount=mP(t,(e,s)=>(eT(this.node,s,"Start"),r=>eT(this.node,r,"End"))))}unmount(){}}class bN extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zf(Sd(this.node.current,"focus",()=>this.onFocus()),Sd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iT(a,t,e){const{props:s}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&s.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),l=s[r];l&&le.postRender(()=>l(t,Vf(t)))}class AN extends Gr{mount(){const{current:t}=this.node;t&&(this.unmount=AP(t,(e,s)=>(iT(this.node,s,"Start"),(r,{success:l})=>iT(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kv=new WeakMap,hv=new WeakMap,SN=a=>{const t=kv.get(a.target);t&&t(a)},xN=a=>{a.forEach(SN)};function wN({root:a,...t}){const e=a||document;hv.has(e)||hv.set(e,{});const s=hv.get(e),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(xN,{root:a,...t})),s[r]}function EN(a,t,e){const s=wN(t);return kv.set(a,e),s.observe(a),()=>{kv.delete(a),s.unobserve(a)}}const TN={some:0,all:1};class _N extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:r="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:TN[r]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),b=p?m:v;b&&b(f)};return EN(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(CN(t,e))&&this.startObserver()}unmount(){}}function CN({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const RN={inView:{Feature:_N},tap:{Feature:AN},focus:{Feature:bN},hover:{Feature:vN}},MN={layout:{ProjectionNode:dC,MeasureLayout:nC}},Nv={current:null},fC={current:!1};function DN(){if(fC.current=!0,!!nA)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nv.current=a.matches;a.addListener(t),t()}else Nv.current=!1}const LN=[...B_,Si,Ir],PN=a=>LN.find(H_(a)),ON=new WeakMap;function kN(a,t,e){for(const s in t){const r=t[s],l=e[s];if(wi(r))a.addValue(s,r);else if(wi(l))a.addValue(s,bd(r,{owner:a}));else if(l!==r)if(a.hasValue(s)){const c=a.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(s);a.addValue(s,bd(c!==void 0?c:r,{owner:a}))}}for(const s in e)t[s]===void 0&&a.removeValue(s);return t}const sT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NN{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=On.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,le.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:m}=c;this.onUpdate=m,this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Tm(e),this.isVariantNode=YT(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in b){const E=b[x];f[x]!==void 0&&wi(E)&&E.set(f[x],!1)}}mount(t){this.current=t,ON.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),fC.current||DN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ml.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),l(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ku){const e=ku[t];if(!e)continue;const{isEnabled:s,Feature:r}=e;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<sT.length;s++){const r=sT[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=kN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=bd(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(N_(r)||__(r))?r=parseFloat(r):!PN(r)&&Ir.test(e)&&(r=P_(t,e)),this.setBaseTarget(t,wi(r)?r.get():r)),wi(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const c=vA(this.props,s,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);c&&(r=c[t])}if(s&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!wi(l)?l:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new _A),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class pC extends NN{constructor(){super(...arguments),this.KeyframeResolver=I_}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wi(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function FN(a){return window.getComputedStyle(a)}class HN extends pC{constructor(){super(...arguments),this.type="html",this.renderInstance=n_}readValueFromInstance(t,e){if(Ml.has(e)){const s=LA(e);return s&&s.default||0}else{const s=FN(t),r=(uA(e)?s.getPropertyValue(e):s[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return eC(t,e)}build(t,e,s){fA(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return bA(t,e,s)}}class BN extends pC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Me,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&s_(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ml.has(e)){const s=LA(e);return s&&s.default||0}return e=a_.has(e)?e:lA(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return o_(t,e,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&le.postRender(this.updateDimensions)}build(t,e,s){mA(t,e,this.isSVGTag,s.transformTemplate)}renderInstance(t,e,s,r){r_(t,e,s,r)}mount(t){this.isSVGTag=yA(t.tagName),super.mount(t)}}const IN=(a,t)=>gA(a)?new BN(t):new HN(t,{allowProjection:a!==Z.Fragment}),jN=cP({...lk,...RN,...yN,...MN},IN),Fe=TL(jN),qr=({title:a,subtitle:t})=>j.jsxs("div",{className:"text-center pt-8 mb-6 md:pt-[4rem]",children:[j.jsx("h1",{className:"text-4xl tracking-wide sm:text-3xl md:text-6xl font-bold text-rusty-brown font-script",children:a}),j.jsx("h2",{className:"text-xl sm:text-lg md:text-xl text-rusty-brown mt-2 font-ovo",children:t})]}),zN="/wedding/img/close.svg",VN="/wedding/img/menu.svg",dv=[{id:"home",title:"Home"},{id:"details",title:"Wedding Details"}],UN=()=>{const[a,t]=Z.useState(!1);return j.jsx("nav",{className:"w-full font-ovo font-bold px-5 md:px-[5rem] bg-rusty-brown  fixed z-[99]",children:j.jsxs("div",{className:" flex container  mx-auto  py-2 items-center justify-between  md:px-0",children:[j.jsx("a",{href:"#home",children:j.jsx("h1",{className:"text-2xl text-skin-white",children:"JD & ALMA"})}),j.jsx("ul",{className:"hidden sm:flex items-center gap-4",children:dv.map((e,s)=>j.jsx("li",{children:j.jsx("a",{href:`#${e.id}`,className:"text-white font-thin hover:text-accent-200 hover:bg-skin-white hover:p-2 hover:rounded-sm",children:e.title})},e.id))}),j.jsxs("div",{className:" flex flex-1 justify-end items-center sm:hidden",children:[j.jsx("img",{src:a?zN:VN,alt:"menu",className:"w-[28px] h-[20px]  object-contain",onClick:()=>t(e=>!e)}),j.jsx("div",{className:`${a?"flex":" hidden"} p-6 bg-rusty-brown absolute top-15 right-0 mx-2 my-2 min-w-[140px] rounded-xl sidebar`,children:j.jsx("ul",{className:"list-none flex justify-end p-2 mx-auto flex-col flex-1 text-skin-white ",children:dv.map((e,s)=>j.jsx("li",{className:`font-ovo font-normal cursor-pointer text-[16px] ${s===dv.length-1?"mr-0":"mb-4"} text-secondary hover:text-darkpurple `,children:j.jsx("a",{href:`#${e.id}`,children:e.title})},e.id))})})]})]})})},GN=()=>{const[a,t]=Z.useState(!1);return Z.useEffect(()=>{const e=()=>{const s=document.getElementById("about-section");if(s){const r=s.getBoundingClientRect();r.top<window.innerHeight*.75&&r.bottom>0?t(!0):t(!1)}};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),j.jsxs("section",{id:"about-section",className:`${jT.section} sm:mx-[5rem]`,children:[j.jsx(qr,{title:"Our Love Story",subtitle:"Bride and Groom"}),j.jsxs("div",{className:"flex flex-wrap gap-4  justify-center items-center p-9 sm:gap-5",children:[j.jsxs("div",{className:"flex flex-col",children:[j.jsx(Fe.div,{initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.2,ease:"easeInOut"},children:j.jsx("img",{src:"img/about1.svg",alt:"Jeudiel Maunahan",className:"w-full object-cover"})}),j.jsxs("div",{className:"py-9 text-rusty-brown",children:[j.jsx("h1",{className:`${bt.scriptHeading3} ${bt.flexCenter} text-center font-bold tracking-wider`,children:"Jeudiel Maunahan"}),j.jsx("p",{className:`${bt.ovoParagraph} ${bt.flexCenter} text-center `,children:"masayahin, palangiti at simpleng manamit"})]})]}),j.jsx("div",{className:"flex flex-col",children:j.jsx(Fe.div,{initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.2,ease:"easeInOut",delay:.2},className:"sm:mb-[5rem]",children:j.jsx("img",{src:"img/about2.svg",alt:"Center Image",className:"w-full object-cover"})})}),j.jsxs("div",{className:"flex flex-col-reverse sm:flex-col",children:[j.jsx(Fe.div,{initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.2,ease:"easeInOut",delay:.4},children:j.jsx("img",{src:"img/about3.svg",alt:"Alma Perez",className:"w-full object-cover"})}),j.jsxs("div",{className:"py-9 text-rusty-brown",children:[j.jsx("h1",{className:`${bt.scriptHeading3} ${bt.flexCenter} text-center font-bold tracking-wider`,children:"Alma Perez"}),j.jsx("p",{className:`${bt.ovoParagraph} ${bt.flexCenter} text-center`,children:"laging kalmado, maaalalahanin at mapagbigay"})]})]})]})]})},qN=()=>j.jsx(Fe.div,{className:"flex justify-center items-center  h-[250px] md:h-screen ",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:1},viewport:{once:!0},children:j.jsx("div",{className:"w-full h-full p-4",children:j.jsx("iframe",{src:"https://drive.google.com/file/d/18YqSkbooCfW1E1-6QiRhgXNBx1TJQWhC/preview",width:"100%",height:"100%",allow:"autoplay",className:"rounded-lg shadow-lg w-full md:h-full"})})}),XN=()=>{const a=new Date("2025-02-25T00:00:00"),[t,e]=Z.useState(s(a));Z.useEffect(()=>{const r=setInterval(()=>{e(s(a))},1e3);return()=>clearInterval(r)},[a]);function s(r){const c=r-new Date;if(c<=0)return null;const h=Math.floor(c/(1e3*60*60*24)),f=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(c%(1e3*60*60)/(1e3*60)),m=Math.floor(c%(1e3*60)/1e3);return{days:h,hours:f,minutes:p,seconds:m}}return t===null?j.jsx("div",{className:" container min-h-80  ",children:j.jsx("h1",{className:`${bt.heading2} text-center `,children:"We're Getting Married Today!"})}):j.jsxs("div",{className:" bg-skin-white px-9 sm:px-12  ",children:[j.jsx(qr,{title:"Countdown to our Big Day",subtitle:"25 FEB 2025"}),j.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[j.jsxs("div",{className:"relative",children:[j.jsx("img",{src:"img/counter.png",alt:"Image 1",className:" object-cover"}),j.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-rusty-brown p-4",children:[j.jsx("h1",{className:`${bt.ovoHeading1}`,children:t.days}),j.jsx("p",{className:`${bt.ovoParagraph}`,children:"DAY"})]})]}),j.jsxs("div",{className:"relative",children:[j.jsx("img",{src:"img/counter.png",alt:"Image 1",className:" object-cover"}),j.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-rusty-brown p-4",children:[j.jsx("h1",{className:`${bt.ovoHeading1}`,children:t.hours}),j.jsx("p",{className:`${bt.ovoParagraph}`,children:"HOURS"})]})]}),j.jsxs("div",{className:"relative",children:[j.jsx("img",{src:"img/counter.png",alt:"Image 1",className:" object-cover"}),j.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-rusty-brown p-4",children:[j.jsx("h1",{className:`${bt.ovoHeading1}`,children:t.minutes}),j.jsx("p",{className:`${bt.ovoParagraph}`,children:"MINUTES"})]})]}),j.jsxs("div",{className:"relative",children:[j.jsx("img",{src:"img/counter.png",alt:"Image 1",className:" object-cover"}),j.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-rusty-brown p-4",children:[j.jsx("h1",{className:`${bt.ovoHeading1}`,children:t.seconds}),j.jsx("p",{className:`${bt.ovoParagraph}`,children:"SECONDS"})]})]})]}),j.jsx("h3",{className:`${bt.ovoHeading3} text-rusty-brown text-center py-4`,children:"#ALMAmakeitrealwithJD"})]})};var Xh={exports:{}},YN=Xh.exports,nT;function $N(){return nT||(nT=1,function(a,t){(function(e,s){s(t)})(YN,function(e){class s{constructor(A,S){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=S,this.nowDrawingDensity=this.createdDensity,this.render=A}setDensity(A){this.createdDensity=A,this.nowDrawingDensity=A}setDrawingDensity(A){this.nowDrawingDensity=A}setPosition(A){this.state.position=A}setAngle(A){this.state.angle=A}setArea(A){this.state.area=A}setHardDrawingAngle(A){this.state.hardDrawingAngle=A}setHardAngle(A){this.state.hardAngle=A,this.state.hardDrawingAngle=A}setOrientation(A){this.orientation=A}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class r extends s{constructor(A,S,R){super(A,R),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=S}draw(A){const S=this.render.getContext(),R=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,F=this.render.getRect().height;S.save(),S.translate(R.x,R.y),S.beginPath();for(let B of this.state.area)B!==null&&(B=this.render.convertToGlobal(B),S.lineTo(B.x-R.x,B.y-R.y));S.rotate(this.state.angle),S.clip(),this.isLoad?S.drawImage(this.image,0,0,k,F):this.drawLoader(S,{x:0,y:0},k,F),S.restore()}simpleDraw(A){const S=this.render.getRect(),R=this.render.getContext(),k=S.pageWidth,F=S.height,B=A===1?S.left+S.pageWidth:S.left,q=S.top;this.isLoad?R.drawImage(this.image,B,q,k,F):this.drawLoader(R,{x:B,y:q},k,F)}drawLoader(A,S,R,k){A.beginPath(),A.strokeStyle="rgb(200, 200, 200)",A.fillStyle="rgb(255, 255, 255)",A.lineWidth=1,A.rect(S.x+1,S.y+1,R-1,k-1),A.stroke(),A.fill();const F={x:S.x+R/2,y:S.y+k/2};A.beginPath(),A.lineWidth=10,A.arc(F.x,F.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),A.stroke(),A.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(A,S){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=S,this.app=A,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let S=0;S<this.pages.length;S++)this.portraitSpread.push([S]);let A=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([A]),A++);for(let S=A;S<this.pages.length;S+=2)S<this.pages.length-1?this.landscapeSpread.push([S,S+1]):(this.landscapeSpread.push([S]),this.pages[S].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(A){const S=this.getSpread();for(let R=0;R<S.length;R++)if(A===S[R][0]||A===S[R][1])return R;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(A){if(A>=0&&A<this.pages.length)return this.pages[A];throw new Error("Invalid page number")}nextBy(A){const S=this.pages.indexOf(A);return S<this.pages.length-1?this.pages[S+1]:null}prevBy(A){const S=this.pages.indexOf(A);return S>0?this.pages[S-1]:null}getFlippingPage(A){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return A===0?this.pages[S].newTemporaryCopy():this.pages[S-1];{const R=A===0?this.getSpread()[S+1]:this.getSpread()[S-1];return R.length===1||A===0?this.pages[R[0]]:this.pages[R[1]]}}getBottomPage(A){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return A===0?this.pages[S+1]:this.pages[S-1];{const R=A===0?this.getSpread()[S+1]:this.getSpread()[S-1];return R.length===1?this.pages[R[0]]:A===0?this.pages[R[1]]:this.pages[R[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(A=null){if(A===null&&(A=this.currentPageIndex),A<0||A>=this.pages.length)return;const S=this.getSpreadIndexByPage(A);S!==null&&(this.currentSpreadIndex=S,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(A){if(!(A>=0&&A<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=A}showSpread(){const A=this.getSpread()[this.currentSpreadIndex];A.length===2?(this.render.setLeftPage(this.pages[A[0]]),this.render.setRightPage(this.pages[A[1]])):this.render.getOrientation()==="landscape"&&A[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[A[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[A[0]])),this.currentPageIndex=A[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(A,S,R){super(A,S),this.imagesHref=R}load(){for(const A of this.imagesHref){const S=new r(this.render,A,"soft");S.load(),this.pages.push(S)}this.createSpread()}}class h{static GetDistanceBetweenTwoPoint(A,S){return A===null||S===null?1/0:Math.sqrt(Math.pow(S.x-A.x,2)+Math.pow(S.y-A.y,2))}static GetSegmentLength(A){return h.GetDistanceBetweenTwoPoint(A[0],A[1])}static GetAngleBetweenTwoLine(A,S){const R=A[0].y-A[1].y,k=S[0].y-S[1].y,F=A[1].x-A[0].x,B=S[1].x-S[0].x;return Math.acos((R*k+F*B)/(Math.sqrt(R*R+F*F)*Math.sqrt(k*k+B*B)))}static PointInRect(A,S){return S===null?null:S.x>=A.left&&S.x<=A.width+A.left&&S.y>=A.top&&S.y<=A.top+A.height?S:null}static GetRotatedPoint(A,S,R){return{x:A.x*Math.cos(R)+A.y*Math.sin(R)+S.x,y:A.y*Math.cos(R)-A.x*Math.sin(R)+S.y}}static LimitPointToCircle(A,S,R){if(h.GetDistanceBetweenTwoPoint(A,R)<=S)return R;const k=A.x,F=A.y,B=R.x,q=R.y;let Y=Math.sqrt(Math.pow(S,2)*Math.pow(k-B,2)/(Math.pow(k-B,2)+Math.pow(F-q,2)))+k;R.x<0&&(Y*=-1);let ct=(Y-k)*(F-q)/(k-B)+F;return k-B+F===0&&(ct=S),{x:Y,y:ct}}static GetIntersectBetweenTwoSegment(A,S,R){return h.PointInRect(A,h.GetIntersectBeetwenTwoLine(S,R))}static GetIntersectBeetwenTwoLine(A,S){const R=A[0].y-A[1].y,k=S[0].y-S[1].y,F=A[1].x-A[0].x,B=S[1].x-S[0].x,q=A[0].x*A[1].y-A[1].x*A[0].y,Y=S[0].x*S[1].y-S[1].x*S[0].y,ct=R*Y-k*q,ot=F*Y-B*q,lt=-(q*B-Y*F)/(R*B-k*F),ft=-(R*Y-k*q)/(R*B-k*F);if(isFinite(lt)&&isFinite(ft))return{x:lt,y:ft};if(Math.abs(ct-ot)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(A,S){const R=Math.abs(A.x-S.x),k=Math.abs(A.y-S.y),F=Math.max(R,k),B=[A];function q(Y,ct,ot,lt,ft){return ct>Y?Y+ft*(ot/lt):ct<Y?Y-ft*(ot/lt):Y}for(let Y=1;Y<=F;Y+=1)B.push({x:q(A.x,S.x,R,F,Y),y:q(A.y,S.y,k,F,Y)});return B}}class f extends s{constructor(A,S,R){super(A,R),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=S,this.element.classList.add("stf__item"),this.element.classList.add("--"+R)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new f(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(A){const S=A||this.nowDrawingDensity,R=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,F=this.render.getRect().height;this.element.classList.remove("--simple");const B=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${k}px;
            height: ${F}px;
        `;S==="hard"?this.drawHard(B):this.drawSoft(R,B)}drawHard(A=""){const S=this.render.getRect().left+this.render.getRect().width/2,R=this.state.hardDrawingAngle,k=A+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${R}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${S}px, 0, 0) rotateY(${R}deg);`);this.element.style.cssText=k}drawSoft(A,S=""){let R="polygon( ";for(const F of this.state.area)if(F!==null){let B=this.render.getDirection()===1?{x:-F.x+this.state.position.x,y:F.y-this.state.position.y}:{x:F.x-this.state.position.x,y:F.y-this.state.position.y};B=h.GetRotatedPoint(B,{x:0,y:0},this.state.angle),R+=B.x+"px "+B.y+"px, "}R=R.slice(0,-2),R+=")";const k=S+`transform-origin: 0 0; clip-path: ${R}; -webkit-clip-path: ${R};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${A.x}px, ${A.y}px);`:`transform: translate3d(${A.x}px, ${A.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=k}simpleDraw(A){const S=this.render.getRect(),R=S.pageWidth,k=S.height,F=A===1?S.left+S.pageWidth:S.left,B=S.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${k}px; 
            left: ${F}px; 
            top: ${B}px; 
            width: ${R}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(A){super.setOrientation(A),this.element.classList.remove("--left","--right"),this.element.classList.add(A===1?"--right":"--left")}setDrawingDensity(A){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+A),super.setDrawingDensity(A)}}class p extends l{constructor(A,S,R,k){super(A,S),this.element=R,this.pagesElement=k}load(){for(const A of this.pagesElement){const S=new f(this.render,A,A.dataset.density==="hard"?"hard":"soft");S.load(),this.pages.push(S)}this.createSpread()}}class m{constructor(A,S,R,k){this.direction=A,this.corner=S,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(R,10),this.pageHeight=parseInt(k,10)}calc(A){try{return this.position=this.calcAngleAndPosition(A),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const A=[];let S=!1;return A.push(this.rect.topLeft),A.push(this.topIntersectPoint),this.sideIntersectPoint===null?S=!0:(A.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(S=!1)),A.push(this.bottomIntersectPoint),(S||this.corner==="bottom")&&A.push(this.rect.bottomLeft),A}getBottomClipArea(){const A=[];return A.push(this.topIntersectPoint),this.corner==="top"?A.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&A.push({x:this.pageWidth,y:0}),A.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?h.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&A.push(this.sideIntersectPoint):this.corner==="top"&&A.push({x:this.pageWidth,y:this.pageHeight}),A.push(this.bottomIntersectPoint),A.push(this.topIntersectPoint),A}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const A=h.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?A:Math.PI-A}calcAngleAndPosition(A){let S=A;if(this.updateAngleAndGeometry(S),S=this.corner==="top"?this.checkPositionAtCenterLine(S,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(S,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(S.x-this.pageWidth)<1&&Math.abs(S.y)<1)throw new Error("Point is too small");return S}updateAngleAndGeometry(A){this.angle=this.calculateAngle(A),this.rect=this.getPageRect(A)}calculateAngle(A){const S=this.pageWidth-A.x+1,R=this.corner==="bottom"?this.pageHeight-A.y:A.y;let k=2*Math.acos(S/Math.sqrt(R*R+S*S));R<0&&(k=-k);const F=Math.PI-k;if(!isFinite(k)||F>=0&&F<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(k=-k),k}getPageRect(A){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],A):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],A)}getRectFromBasePoint(A,S){return{topLeft:this.getRotatedPoint(A[0],S),topRight:this.getRotatedPoint(A[1],S),bottomLeft:this.getRotatedPoint(A[2],S),bottomRight:this.getRotatedPoint(A[3],S)}}getRotatedPoint(A,S){return{x:A.x*Math.cos(this.angle)+A.y*Math.sin(this.angle)+S.x,y:A.y*Math.cos(this.angle)-A.x*Math.sin(this.angle)+S.y}}calculateIntersectPoint(A){const S={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(S,[A,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(S,[A,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(S,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(S,[A,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(A,S,R){let k=A;const F=h.LimitPointToCircle(S,this.pageWidth,k);k!==F&&(k=F,this.updateAngleAndGeometry(k));const B=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let q=this.rect.bottomRight,Y=this.rect.topLeft;if(this.corner==="bottom"&&(q=this.rect.topRight,Y=this.rect.bottomLeft),q.x<=0){const ct=h.LimitPointToCircle(R,B,Y);ct!==k&&(k=ct,this.updateAngleAndGeometry(k))}return k}getSegmentToShadowLine(){const A=this.getShadowStartPoint();return[A,A!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class v{constructor(A,S){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=A,this.app=S}fold(A){this.setState("user_fold"),this.calc===null&&this.start(A),this.do(this.render.convertToPage(A))}flip(A){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(A)||(this.calc!==null&&this.render.finishAnimation(),!this.start(A)))return;const S=this.getBoundsRect();this.setState("flipping");const R=S.height/10,k=this.calc.getCorner()==="bottom"?S.height-R:R,F=this.calc.getCorner()==="bottom"?S.height:0;this.calc.calc({x:S.pageWidth-R,y:k}),this.animateFlippingTo({x:S.pageWidth-R,y:k},{x:-S.pageWidth,y:F},!0)}start(A){this.reset();const S=this.render.convertToBook(A),R=this.getBoundsRect(),k=this.getDirectionByPoint(S),F=S.y>=R.height/2?"bottom":"top";if(!this.checkDirection(k))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(k),this.bottomPage=this.app.getPageCollection().getBottomPage(k),this.render.getOrientation()==="landscape")if(k===1){const B=this.app.getPageCollection().nextBy(this.flippingPage);B!==null&&this.flippingPage.getDensity()!==B.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),B.setDrawingDensity("hard"))}else{const B=this.app.getPageCollection().prevBy(this.flippingPage);B!==null&&this.flippingPage.getDensity()!==B.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),B.setDrawingDensity("hard"))}return this.render.setDirection(k),this.calc=new m(k,F,R.pageWidth.toString(10),R.height.toString(10)),!0}catch{return!1}}do(A){if(this.calc!==null&&this.calc.calc(A)){const S=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*S)/100):this.flippingPage.setHardAngle(-90*(200-2*S)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),S,this.calc.getDirection())}}flipToPage(A,S){const R=this.app.getPageCollection().getCurrentSpreadIndex(),k=this.app.getPageCollection().getSpreadIndexByPage(A);try{k>R&&(this.app.getPageCollection().setCurrentSpreadIndex(k-1),this.flipNext(S)),k<R&&(this.app.getPageCollection().setCurrentSpreadIndex(k+1),this.flipPrev(S))}catch{}}flipNext(A){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:A==="top"?1:this.render.getRect().height-2})}flipPrev(A){this.flip({x:10,y:A==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const A=this.calc.getPosition(),S=this.getBoundsRect(),R=this.calc.getCorner()==="bottom"?S.height:0;A.x<=0?this.animateFlippingTo(A,{x:-S.pageWidth,y:R},!0):this.animateFlippingTo(A,{x:S.pageWidth,y:R},!1)}showCorner(A){if(!this.checkState("read","fold_corner"))return;const S=this.getBoundsRect(),R=S.pageWidth;if(this.isPointOnCorners(A))if(this.calc===null){if(!this.start(A))return;this.setState("fold_corner"),this.calc.calc({x:R-1,y:1});const k=50,F=this.calc.getCorner()==="bottom"?S.height-1:1,B=this.calc.getCorner()==="bottom"?S.height-k:k;this.animateFlippingTo({x:R-1,y:F},{x:R-k,y:B},!1,!1)}else this.do(this.render.convertToPage(A));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(A,S,R,k=!0){const F=h.GetCordsFromTwoPoint(A,S),B=[];for(const Y of F)B.push(()=>this.do(Y));const q=this.getAnimationDuration(F.length);this.render.startAnimation(B,q,()=>{this.calc&&(R&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),k&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(A){this.state!==A&&(this.app.updateState(A),this.state=A)}getDirectionByPoint(A){const S=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(A.x-S.pageWidth<=S.width/5)return 1}else if(A.x<S.width/2)return 1;return 0}getAnimationDuration(A){const S=this.app.getSettings().flippingTime;return A>=1e3?S:A/1e3*S}checkDirection(A){return A===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...A){for(const S of A)if(this.state===S)return!0;return!1}isPointOnCorners(A){const S=this.getBoundsRect(),R=S.pageWidth,k=Math.sqrt(Math.pow(R,2)+Math.pow(S.height,2))/5,F=this.render.convertToBook(A);return F.x>0&&F.y>0&&F.x<S.width&&F.y<S.height&&(F.x<k||F.x>S.width-k)&&(F.y<k||F.y>S.height-k)}}class b{constructor(A,S){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=S,this.app=A;const R=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=R.exec(window.navigator.userAgent)!==null}render(A){if(this.animation!==null){const S=Math.round((A-this.animation.startedAt)/this.animation.durationFrame);S<this.animation.frames.length?this.animation.frames[S]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=A,this.drawFrame()}start(){this.update();const A=S=>{this.render(S),requestAnimationFrame(A)};requestAnimationFrame(A)}startAnimation(A,S,R){this.finishAnimation(),this.animation={frames:A,duration:S,durationFrame:S/A.length,onAnimateEnd:R,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const A=this.calculateBoundsRect();this.orientation!==A&&(this.orientation=A,this.app.updateOrientation(A))}calculateBoundsRect(){let A="landscape";const S=this.getBlockWidth(),R=S/2,k=this.getBlockHeight()/2,F=this.setting.width/this.setting.height;let B=this.setting.width,q=this.setting.height,Y=R-B;return this.setting.size==="stretch"?(S<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(A="portrait"),B=A==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,B>this.setting.maxWidth&&(B=this.setting.maxWidth),q=B/F,q>this.getBlockHeight()&&(q=this.getBlockHeight(),B=q*F),Y=A==="portrait"?R-B/2-B:R-B):S<2*B&&this.app.getSettings().usePortrait&&(A="portrait",Y=R-B/2-B),this.boundsRect={left:Y,top:k-q/2,width:2*B,height:q,pageWidth:B},A}setShadowData(A,S,R,k){if(!this.app.getSettings().drawShadow)return;const F=100*this.getSettings().maxShadowOpacity;this.shadow={pos:A,angle:S,width:3*this.getRect().pageWidth/4*R/100,opacity:(100-R)*F/100/100,direction:k,progress:2*R}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(A){this.pageRect=A}setDirection(A){this.direction=A}setRightPage(A){A!==null&&A.setOrientation(1),this.rightPage=A}setLeftPage(A){A!==null&&A.setOrientation(0),this.leftPage=A}setBottomPage(A){A!==null&&A.setOrientation(this.direction===1?0:1),this.bottomPage=A}setFlippingPage(A){A!==null&&A.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=A}convertToBook(A){const S=this.getRect();return{x:A.x-S.left,y:A.y-S.top}}isSafari(){return this.safari}convertToPage(A,S){S||(S=this.direction);const R=this.getRect();return{x:S===0?A.x-R.left-R.width/2:R.width/2-A.x+R.left,y:A.y-R.top}}convertToGlobal(A,S){if(S||(S=this.direction),A==null)return null;const R=this.getRect();return{x:S===0?A.x+R.left+R.width/2:R.width/2-A.x+R.left,y:A.y+R.top}}convertRectToGlobal(A,S){return S||(S=this.direction),{topLeft:this.convertToGlobal(A.topLeft,S),topRight:this.convertToGlobal(A.topRight,S),bottomLeft:this.convertToGlobal(A.bottomLeft,S),bottomRight:this.convertToGlobal(A.bottomRight,S)}}}class x extends b{constructor(A,S,R){super(A,S),this.canvas=R,this.ctx=R.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const A=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(A.left+A.pageWidth,A.top,A.width,A.height),this.ctx.clip())}drawBookShadow(){const A=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=A.width/20;this.ctx.rect(A.left,A.top,A.width,A.height);const R={x:A.left+A.width/2-S/2,y:0};this.ctx.translate(R.x,R.y);const k=this.ctx.createLinearGradient(0,0,S,0);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),k.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),k.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),k.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),k.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,S,2*A.height),this.ctx.restore()}drawOuterShadow(){const A=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(A.left,A.top,A.width,A.height);const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const R=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),R.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),R.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),R.addColorStop(0,"rgba(0, 0, 0, 0)"),R.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=R,this.ctx.fillRect(0,0,this.shadow.width,2*A.height),this.ctx.restore()}drawInnerShadow(){const A=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),R=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(R.topLeft.x,R.topLeft.y),this.ctx.lineTo(R.topRight.x,R.topRight.y),this.ctx.lineTo(R.bottomRight.x,R.bottomRight.y),this.ctx.lineTo(R.bottomLeft.x,R.bottomLeft.y),this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=3*this.shadow.width/4,F=this.ctx.createLinearGradient(0,0,k,0);this.shadow.direction===0?(this.ctx.translate(-k,-100),F.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),F.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),F.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),F.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=F,this.ctx.fillRect(0,0,k,2*A.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class E{constructor(A,S,R){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=F=>{if(this.checkTarget(F.target)){const B=this.getMousePos(F.clientX,F.clientY);this.app.startUserTouch(B),F.preventDefault()}},this.onTouchStart=F=>{if(this.checkTarget(F.target)&&F.changedTouches.length>0){const B=F.changedTouches[0],q=this.getMousePos(B.clientX,B.clientY);this.touchPoint={point:q,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(q)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||F.preventDefault()}},this.onMouseUp=F=>{const B=this.getMousePos(F.clientX,F.clientY);this.app.userStop(B)},this.onMouseMove=F=>{const B=this.getMousePos(F.clientX,F.clientY);this.app.userMove(B,!1)},this.onTouchMove=F=>{if(F.changedTouches.length>0){const B=F.changedTouches[0],q=this.getMousePos(B.clientX,B.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-q.x)>10||this.app.getState()!=="read")&&F.cancelable&&this.app.userMove(q,!0),this.app.getState()!=="read"&&F.preventDefault()):this.app.userMove(q,!0)}},this.onTouchEnd=F=>{if(F.changedTouches.length>0){const B=F.changedTouches[0],q=this.getMousePos(B.clientX,B.clientY);let Y=!1;if(this.touchPoint!==null){const ct=q.x-this.touchPoint.point.x,ot=Math.abs(q.y-this.touchPoint.point.y);Math.abs(ct)>this.swipeDistance&&ot<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ct>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),Y=!0),this.touchPoint=null}this.app.userStop(q,Y)}},this.parentElement=A,A.classList.add("stf__parent"),A.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=A.querySelector(".stf__wrapper"),this.app=S;const k=this.app.getSettings().usePortrait?1:2;A.style.minWidth=R.minWidth*k+"px",A.style.minHeight=R.minHeight+"px",R.size==="fixed"&&(A.style.minWidth=R.width*k+"px",A.style.minHeight=R.height+"px"),R.autoSize&&(A.style.width="100%",A.style.maxWidth=2*R.maxWidth+"px"),A.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=R.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(A){this.wrapper.classList.remove("--portrait","--landscape"),A==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(A,S){const R=this.distElement.getBoundingClientRect();return{x:A-R.left,y:S-R.top}}checkTarget(A){return!this.app.getSettings().clickEventForward||!["a","button"].includes(A.tagName.toLowerCase())}}class C extends E{constructor(A,S,R,k){super(A,S,R),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=A.querySelector(".stf__block"),this.items=k;for(const F of k)this.distElement.appendChild(F);this.setHandlers()}clear(){for(const A of this.items)this.parentElement.appendChild(A)}updateItems(A){this.removeHandlers(),this.distElement.innerHTML="";for(const S of A)this.distElement.appendChild(S);this.items=A,this.setHandlers()}update(){this.app.getRender().update()}}class P extends E{constructor(A,S,R){super(A,S,R),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=A.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const A=getComputedStyle(this.canvas),S=parseInt(A.getPropertyValue("width"),10),R=parseInt(A.getPropertyValue("height"),10);this.canvas.width=S,this.canvas.height=R}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class D extends b{constructor(A,S,R){super(A,S),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=R,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const A=this.getRect(),S=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let R=(100-S)*(2.5*A.pageWidth)/100+20;R>A.pageWidth&&(R=A.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${R}px;
            height: ${A.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*S/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${A.left+A.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=k}drawHardOuterShadow(){const A=this.getRect();let S=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*A.pageWidth)/100+20;S>A.pageWidth&&(S=A.pageWidth);let R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${S}px;
            height: ${A.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${A.left+A.width/2}px;
            transform-origin: 0 0;
        `;R+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=R}drawInnerShadow(){const A=this.getRect(),S=3*this.shadow.width/4,R=this.getDirection()===0?S:0,k=this.getDirection()===0?"to left":"to right",F=this.convertToGlobal(this.shadow.pos),B=this.shadow.angle+3*Math.PI/2,q=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let Y="polygon( ";for(const ot of q){let lt=this.getDirection()===1?{x:-ot.x+this.shadow.pos.x,y:ot.y-this.shadow.pos.y}:{x:ot.x-this.shadow.pos.x,y:ot.y-this.shadow.pos.y};lt=h.GetRotatedPoint(lt,{x:R,y:100},B),Y+=lt.x+"px "+lt.y+"px, "}Y=Y.slice(0,-2),Y+=")";const ct=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${S}px;
            height: ${2*A.height}px;
            background: linear-gradient(${k},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${R}px 100px;
            transform: translate3d(${F.x-R}px, ${F.y-100}px, 0) rotate(${B}rad);
            clip-path: ${Y};
            -webkit-clip-path: ${Y};
        `;this.innerShadow.style.cssText=ct}drawOuterShadow(){const A=this.getRect(),S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),R=this.shadow.angle+3*Math.PI/2,k=this.getDirection()===1?this.shadow.width:0,F=this.getDirection()===0?"to right":"to left",B=[{x:0,y:0},{x:A.pageWidth,y:0},{x:A.pageWidth,y:A.height},{x:0,y:A.height}];let q="polygon( ";for(const ct of B)if(ct!==null){let ot=this.getDirection()===1?{x:-ct.x+this.shadow.pos.x,y:ct.y-this.shadow.pos.y}:{x:ct.x-this.shadow.pos.x,y:ct.y-this.shadow.pos.y};ot=h.GetRotatedPoint(ot,{x:k,y:100},R),q+=ot.x+"px "+ot.y+"px, "}q=q.slice(0,-2),q+=")";const Y=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*A.height}px;
            background: linear-gradient(${F}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${k}px 100px;
            transform: translate3d(${S.x-k}px, ${S.y-100}px, 0) rotate(${R}rad);
            clip-path: ${q};
            -webkit-clip-path: ${q};
        `;this.outerShadow.style.cssText=Y}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const A=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(A))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const A of this.app.getPageCollection().getPages())A!==this.leftPage&&A!==this.rightPage&&A!==this.flippingPage&&A!==this.bottomPage&&(A.getElement().style.cssText="display: none"),A.getTemporaryCopy()!==this.flippingPage&&A.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class H{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(A){const S=this._default;if(Object.assign(S,A),S.size!=="stretch"&&S.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(S.width<=0||S.height<=0)throw new Error("Invalid width or height");if(S.flippingTime<=0)throw new Error("Invalid flipping time");return S.size==="stretch"?(S.minWidth<=0&&(S.minWidth=100),S.maxWidth<S.minWidth&&(S.maxWidth=2e3),S.minHeight<=0&&(S.minHeight=100),S.maxHeight<S.minHeight&&(S.maxHeight=2e3)):(S.minWidth=S.width,S.maxWidth=S.width,S.minHeight=S.height,S.maxHeight=S.height),S}}(function(O,A){A===void 0&&(A={});var S=A.insertAt;if(typeof document<"u"){var R=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",S==="top"&&R.firstChild?R.insertBefore(k,R.firstChild):R.appendChild(k),k.styleSheet?k.styleSheet.cssText=O:k.appendChild(document.createTextNode(O))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),e.PageFlip=class extends class{constructor(){this.events=new Map}on(O,A){return this.events.has(O)?this.events.get(O).push(A):this.events.set(O,[A]),this}off(O){this.events.delete(O)}trigger(O,A,S=null){if(this.events.has(O))for(const R of this.events.get(O))R({data:S,object:A})}}{constructor(O,A){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new H().getSettings(A),this.block=O}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(O){this.ui=new P(this.block,this,this.setting);const A=this.ui.getCanvas();this.render=new x(this,this.setting,A),this.flipController=new v(this.render,this),this.pages=new c(this,this.render,O),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(O){this.ui=new C(this.block,this,this.setting,O),this.render=new D(this,this.setting,this.ui.getDistElement()),this.flipController=new v(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),O),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(O){const A=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,O),this.pages.load(),this.pages.show(A),this.trigger("update",this,{page:A,mode:this.render.getOrientation()})}updateFromHtml(O){const A=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),O),this.pages.load(),this.ui.updateItems(O),this.render.reload(),this.pages.show(A),this.trigger("update",this,{page:A,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(O){this.pages.show(O)}flipNext(O="top"){this.flipController.flipNext(O)}flipPrev(O="top"){this.flipController.flipPrev(O)}flip(O,A="top"){this.flipController.flipToPage(O,A)}updateState(O){this.trigger("changeState",this,O)}updatePageIndex(O){this.trigger("flip",this,O)}updateOrientation(O){this.ui.setOrientationStyle(O),this.update(),this.trigger("changeOrientation",this,O)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(O){return this.pages.getPage(O)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(O){this.mousePosition=O,this.isUserTouch=!0,this.isUserMove=!1}userMove(O,A){this.isUserTouch||A||!this.setting.showPageCorners?this.isUserTouch&&h.GetDistanceBetweenTwoPoint(this.mousePosition,O)>5&&(this.isUserMove=!0,this.flipController.fold(O)):this.flipController.showCorner(O)}userStop(O,A=!1){this.isUserTouch&&(this.isUserTouch=!1,A||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(O)))}},Object.defineProperty(e,"__esModule",{value:!0})})}(Xh,Xh.exports)),Xh.exports}var WN=$N();const KN=cs.forwardRef((a,t)=>{const e=Z.useRef(null),s=Z.useRef([]),r=Z.useRef(),[l,c]=Z.useState([]);Z.useImperativeHandle(t,()=>({pageFlip:()=>r.current}));const h=Z.useCallback(()=>{r.current&&r.current.clear()},[]),f=Z.useCallback(()=>{const p=r.current;p&&(p.off("flip"),p.off("changeOrientation"),p.off("changeState"),p.off("init"),p.off("update"))},[]);return Z.useEffect(()=>{if(s.current=[],a.children){const p=cs.Children.map(a.children,m=>cs.cloneElement(m,{ref:v=>{v&&s.current.push(v)}}));(!a.renderOnlyPageLengthChange||l.length!==p.length)&&(p.length<l.length&&h(),c(p))}},[a.children]),Z.useEffect(()=>{const p=()=>{const m=r.current;m&&(a.onFlip&&m.on("flip",v=>a.onFlip(v)),a.onChangeOrientation&&m.on("changeOrientation",v=>a.onChangeOrientation(v)),a.onChangeState&&m.on("changeState",v=>a.onChangeState(v)),a.onInit&&m.on("init",v=>a.onInit(v)),a.onUpdate&&m.on("update",v=>a.onUpdate(v)))};l.length>0&&s.current.length>0&&(f(),e.current&&!r.current&&(r.current=new WN.PageFlip(e.current,a)),r.current.getFlipController()?r.current.updateFromHtml(s.current):r.current.loadFromHTML(s.current),p())},[l]),cs.createElement("div",{ref:e,className:a.className,style:a.style},l)}),QN=cs.memo(KN),ZN="modulepreload",JN=function(a){return"/wedding/"+a},aT={},og=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(f=>{if(f=JN(f),f in aT)return;aT[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":ZN,p||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};var dd={};dd.d=(a,t)=>{for(var e in t)dd.o(t,e)&&!dd.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};dd.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var Mt=globalThis.pdfjsLib={};dd.d(Mt,{AbortException:()=>Ll,AnnotationEditorLayer:()=>Yb,AnnotationEditorParamsType:()=>Ct,AnnotationEditorType:()=>Ot,AnnotationEditorUIManager:()=>El,AnnotationLayer:()=>QF,AnnotationMode:()=>ur,ColorPicker:()=>im,DOMSVGFactory:()=>YA,DrawLayer:()=>Qb,FeatureTest:()=>Pi,GlobalWorkerOptions:()=>Ra,ImageKind:()=>mg,InvalidPDFException:()=>mC,MissingPDFException:()=>Dl,OPS:()=>Gs,OutputScale:()=>jv,PDFDataRangeTransport:()=>dR,PDFDateString:()=>jA,PDFWorker:()=>Pc,PasswordResponses:()=>s3,PermissionFlag:()=>i3,PixelsPerInch:()=>jr,RenderingCancelledException:()=>BA,TextLayer:()=>pb,UnexpectedResponseException:()=>Dm,Util:()=>mt,VerbosityLevel:()=>Cm,XfaLayer:()=>pR,build:()=>LF,createValidAbsoluteUrl:()=>o3,fetchData:()=>Pm,getDocument:()=>xF,getFilenameFromUrl:()=>m3,getPdfFilenameFromUrl:()=>y3,getXfaPageViewport:()=>v3,isDataScheme:()=>Om,isPdfFile:()=>IA,noContextMenu:()=>Fs,normalizeUnicode:()=>f3,setLayerDimensions:()=>wl,shadow:()=>Ut,version:()=>DF});const Ei=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),gC=[1,0,0,1,0,0],Fv=[.001,0,0,.001,0,0],t3=1e7,fv=1.35,os={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ur={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e3="pdfjs_internal_editor_",Ot={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ct={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},i3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},gi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},mg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},zh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Cm={ERRORS:0,WARNINGS:1,INFOS:5},Gs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},s3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Rm=Cm.WARNINGS;function n3(a){Number.isInteger(a)&&(Rm=a)}function a3(){return Rm}function Mm(a){Rm>=Cm.INFOS&&console.log(`Info: ${a}`)}function Ft(a){Rm>=Cm.WARNINGS&&console.log(`Warning: ${a}`)}function he(a){throw new Error(a)}function Ge(a,t){a||he(t)}function r3(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function o3(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=d3(a)}catch{}}const s=t?new URL(a,t):new URL(a);if(r3(s))return s}catch{}return null}function Ut(a,t,e,s=!1){return Object.defineProperty(a,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Xr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Hv extends Xr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Bv extends Xr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class mC extends Xr{constructor(t){super(t,"InvalidPDFException")}}class Dl extends Xr{constructor(t){super(t,"MissingPDFException")}}class Dm extends Xr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class l3 extends Xr{constructor(t){super(t,"FormatError")}}class Ll extends Xr{constructor(t){super(t,"AbortException")}}function yC(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&he("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const s=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=a.subarray(r,l);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function Lm(a){typeof a!="string"&&he("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=a.charCodeAt(s)&255;return e}function c3(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function FA(a){const t=Object.create(null);for(const[e,s]of a)t[e]=s;return t}function u3(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function h3(){try{return new Function(""),!0}catch{return!1}}class Pi{static get isLittleEndian(){return Ut(this,"isLittleEndian",u3())}static get isEvalSupported(){return Ut(this,"isEvalSupported",h3())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ut(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ut(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ut(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const pv=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var Pa,yg,Iv;class mt{static makeHexColor(t,e,s){return`#${pv[t]}${pv[e]}${pv[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],l[0],c[0]),Math.min(s[1],r[1],l[1],c[1]),Math.max(s[0],r[0],l[0],c[0]),Math.max(s[1],r[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(s+c)/2,f=Math.sqrt((s+c)**2-4*(s*c-l*r))/2,p=h+f||1,m=h-f||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[s,l,r,c]}static bezierBoundingBox(t,e,s,r,l,c,h,f,p){return p?(p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,h),Math.min(e,f),Math.max(t,h),Math.max(e,f)],_(this,Pa,Iv).call(this,t,s,l,h,e,r,c,f,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),p),_(this,Pa,Iv).call(this,t,s,l,h,e,r,c,f,3*(-e+3*(r-c)+f),6*(e-2*r+c),3*(r-e),p),p}}Pa=new WeakSet,yg=function(t,e,s,r,l,c,h,f,p,m){if(p<=0||p>=1)return;const v=1-p,b=p*p,x=b*p,E=v*(v*(v*t+3*p*e)+3*b*s)+x*r,C=v*(v*(v*l+3*p*c)+3*b*h)+x*f;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],C),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],C)},Iv=function(t,e,s,r,l,c,h,f,p,m,v,b){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&_(this,Pa,yg).call(this,t,e,s,r,l,c,h,f,-v/m,b);return}const x=m**2-4*v*p;if(x<0)return;const E=Math.sqrt(x),C=2*p;_(this,Pa,yg).call(this,t,e,s,r,l,c,h,f,(-m+E)/C,b),_(this,Pa,yg).call(this,t,e,s,r,l,c,h,f,(-m-E)/C,b)},M(mt,Pa);function d3(a){return decodeURIComponent(escape(a))}let gv=null,rT=null;function f3(a){return gv||(gv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rT=new Map([["ﬅ","ſt"]])),a.replaceAll(gv,(t,e,s)=>e?e.normalize("NFKC"):rT.get(s))}function p3(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let t=0;t<32;t++)a[t]=Math.floor(Math.random()*255);return yC(a)}const HA="pdfjs_internal_id_",Jn={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function g3(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(yC(a))}const ea="http://www.w3.org/2000/svg",wo=class wo{};_t(wo,"CSS",96),_t(wo,"PDF",72),_t(wo,"PDF_TO_CSS_UNITS",wo.CSS/wo.PDF);let jr=wo;async function Pm(a,t="text"){if(Yh(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Uf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=l;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,b;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,m=0,v=0,b=1;break;case 90:p=0,m=1,v=1,b=0;break;case 270:p=0,m=-1,v=-1,b=0;break;case 0:p=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,b=-b);let x,E,C,P;p===0?(x=Math.abs(f-t[1])*e+r,E=Math.abs(h-t[0])*e+l,C=(t[3]-t[1])*e,P=(t[2]-t[0])*e):(x=Math.abs(h-t[0])*e+r,E=Math.abs(f-t[1])*e+l,C=(t[2]-t[0])*e,P=(t[3]-t[1])*e),this.transform=[p*e,m*e,v*e,b*e,x-p*e*h-v*e*f,E-m*e*h-b*e*f],this.width=C,this.height=P}get rawDims(){const{viewBox:t}=this;return Ut(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Uf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return mt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=mt.applyTransform([t[0],t[1]],this.transform),s=mt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return mt.applyInverseTransform([t,e],this.transform)}}class BA extends Xr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Om(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function IA(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function m3(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function y3(a,t="document.pdf"){if(typeof a!="string")return t;if(Om(a))return Ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class oT{constructor(){_t(this,"started",Object.create(null));_t(this,"times",[])}time(t){t in this.started&&Ft(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ft(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-r}ms
`);return t.join("")}}function Yh(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function Fs(a){a.preventDefault()}function lT(a){console.log("Deprecated API usage: "+a)}var wd;class jA{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,wd)||T(this,wd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,wd).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(c+=m,h+=v):p==="+"&&(c-=m,h-=v),new Date(Date.UTC(s,r,l,c,h,f))}}wd=new WeakMap,M(jA,wd);function v3(a,{scale:t=1,rotation:e=0}){const{width:s,height:r}=a.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new Uf({viewBox:l,scale:t,rotation:e})}function zA(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ft(`Not a valid color format: "${a}"`),[0,0,0])}function b3(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;a.set(e,zA(s))}t.remove()}function ve(a){const{a:t,b:e,c:s,d:r,e:l,f:c}=a.getTransform();return[t,e,s,r,l,c]}function ta(a){const{a:t,b:e,c:s,d:r,e:l,f:c}=a.getTransform().invertSelf();return[t,e,s,r,l,c]}function wl(a,t,e=!1,s=!0){if(t instanceof Uf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=a,h=Pi.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,m=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(c.width=m,c.height=v):(c.width=v,c.height=m)}s&&a.setAttribute("data-main-rotation",t.rotation)}class jv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var hr,_o,qs,Co,Ed,Td,rm,vC,Oi,bC,AC,vg,SC,Vv;const ia=class ia{constructor(t){M(this,Oi);M(this,hr,null);M(this,_o,null);M(this,qs);M(this,Co,null);M(this,Ed,null);T(this,qs,t),d(ia,Td)||T(ia,Td,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=T(this,hr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,qs)._uiManager._signal;t.addEventListener("contextmenu",Fs,{signal:e}),t.addEventListener("pointerdown",_(ia,rm,vC),{signal:e});const s=T(this,Co,document.createElement("div"));s.className="buttons",t.append(s);const r=d(this,qs).toolbarPosition;if(r){const{style:l}=t,c=d(this,qs)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Oi,SC).call(this),t}get div(){return d(this,hr)}hide(){var t;d(this,hr).classList.add("hidden"),(t=d(this,_o))==null||t.hideDropdown()}show(){var t;d(this,hr).classList.remove("hidden"),(t=d(this,Ed))==null||t.shown()}async addAltText(t){const e=await t.render();_(this,Oi,vg).call(this,e),d(this,Co).prepend(e,d(this,Oi,Vv)),T(this,Ed,t)}addColorPicker(t){T(this,_o,t);const e=t.renderButton();_(this,Oi,vg).call(this,e),d(this,Co).prepend(e,d(this,Oi,Vv))}remove(){var t;d(this,hr).remove(),(t=d(this,_o))==null||t.destroy(),T(this,_o,null)}};hr=new WeakMap,_o=new WeakMap,qs=new WeakMap,Co=new WeakMap,Ed=new WeakMap,Td=new WeakMap,rm=new WeakSet,vC=function(t){t.stopPropagation()},Oi=new WeakSet,bC=function(t){d(this,qs)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},AC=function(t){d(this,qs)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},vg=function(t){const e=d(this,qs)._uiManager._signal;t.addEventListener("focusin",_(this,Oi,bC).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",_(this,Oi,AC).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Fs,{signal:e})},SC=function(){const{editorType:t,_uiManager:e}=d(this,qs),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",d(ia,Td)[t]),_(this,Oi,vg).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),d(this,Co).append(s)},Vv=function(){const t=document.createElement("div");return t.className="divider",t},M(ia,rm),M(ia,Td,null);let zv=ia;var _d,Ro,Mo,Vr,xC,wC,EC;class A3{constructor(t){M(this,Vr);M(this,_d,null);M(this,Ro,null);M(this,Mo);T(this,Mo,t)}show(t,e,s){const[r,l]=_(this,Vr,wC).call(this,e,s),{style:c}=d(this,Ro)||T(this,Ro,_(this,Vr,xC).call(this));t.append(d(this,Ro)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Ro).remove()}}_d=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,Vr=new WeakSet,xC=function(){const t=T(this,Ro,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Fs,{signal:d(this,Mo)._signal});const e=T(this,_d,document.createElement("div"));return e.className="buttons",t.append(e),_(this,Vr,EC).call(this),t},wC=function(t,e){let s=0,r=0;for(const l of t){const c=l.y+l.height;if(c<s)continue;const h=l.x+(e?l.width:0);if(c>s){r=h,s=c;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,s]},EC=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=d(this,Mo)._signal;t.addEventListener("contextmenu",Fs,{signal:s}),t.addEventListener("click",()=>{d(this,Mo).highlightSelection("floating_button")},{signal:s}),d(this,_d).append(t)};function Jg(a,t,e){for(const s of e)t.addEventListener(s,a[s].bind(a))}function S3(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var om;class x3{constructor(){M(this,om,0)}get id(){return`${e3}${Ci(this,om)._++}`}}om=new WeakMap;var Nc,Cd,yi,Fc,bg;const KA=class KA{constructor(){M(this,Fc);M(this,Nc,p3());M(this,Cd,0);M(this,yi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ut(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:l}=t;return _(this,Fc,bg).call(this,`${e}_${s}_${r}_${l}`,t)}async getFromUrl(t){return _(this,Fc,bg).call(this,t,t)}async getFromBlob(t,e){const s=await e;return _(this,Fc,bg).call(this,t,s)}async getFromId(t){d(this,yi)||T(this,yi,new Map);const e=d(this,yi).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,yi)||T(this,yi,new Map);let s=d(this,yi).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${d(this,Nc)}_${Ci(this,Cd)._++}`,refCounter:1,isSvg:!1},d(this,yi).set(t,s),d(this,yi).set(s.id,s),s}getSvgUrl(t){const e=d(this,yi).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;d(this,yi)||T(this,yi,new Map);const e=d(this,yi).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(s.width,s.height);l.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=l.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,Nc)}_`)}};Nc=new WeakMap,Cd=new WeakMap,yi=new WeakMap,Fc=new WeakSet,bg=async function(t,e){d(this,yi)||T(this,yi,new Map);let s=d(this,yi).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${d(this,Nc)}_${Ci(this,Cd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Pm(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=KA._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,m)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},c.onload=async()=>{const v=s.svgUrl=c.result;h.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=c.onerror=m});c.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return d(this,yi).set(t,s),s&&d(this,yi).set(s.id,s),s};let Uv=KA;var Qe,dr,Rd,Ze;class w3{constructor(t=128){M(this,Qe,[]);M(this,dr,!1);M(this,Rd);M(this,Ze,-1);T(this,Rd,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),d(this,dr))return;const f={cmd:t,undo:e,post:s,type:l};if(d(this,Ze)===-1){d(this,Qe).length>0&&(d(this,Qe).length=0),T(this,Ze,0),d(this,Qe).push(f);return}if(c&&d(this,Qe)[d(this,Ze)].type===l){h&&(f.undo=d(this,Qe)[d(this,Ze)].undo),d(this,Qe)[d(this,Ze)]=f;return}const p=d(this,Ze)+1;p===d(this,Rd)?d(this,Qe).splice(0,1):(T(this,Ze,p),p<d(this,Qe).length&&d(this,Qe).splice(p)),d(this,Qe).push(f)}undo(){if(d(this,Ze)===-1)return;T(this,dr,!0);const{undo:t,post:e}=d(this,Qe)[d(this,Ze)];t(),e==null||e(),T(this,dr,!1),T(this,Ze,d(this,Ze)-1)}redo(){if(d(this,Ze)<d(this,Qe).length-1){T(this,Ze,d(this,Ze)+1),T(this,dr,!0);const{cmd:t,post:e}=d(this,Qe)[d(this,Ze)];t(),e==null||e(),T(this,dr,!1)}}hasSomethingToUndo(){return d(this,Ze)!==-1}hasSomethingToRedo(){return d(this,Ze)<d(this,Qe).length-1}destroy(){T(this,Qe,null)}}Qe=new WeakMap,dr=new WeakMap,Rd=new WeakMap,Ze=new WeakMap;var lm,TC;class Gf{constructor(t){M(this,lm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Pi.platform;for(const[s,r,l={}]of t)for(const c of s){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(_(this,lm,TC).call(this,e));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=s;h&&!h(t,e)||(r.bind(t,...c,e)(),l||(e.stopPropagation(),e.preventDefault()))}}lm=new WeakSet,TC=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const cm=class cm{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return b3(t),Ut(this,"_colors",t)}convert(t){const e=zA(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((l,c)=>l===e[c]))return cm._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?mt.makeHexColor(...e):t}};_t(cm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Gv=cm;var Hc,Ji,ze,ri,Bc,na,Ic,Xs,fr,jc,Do,pn,Ys,Lo,Md,Dd,zc,Ld,gn,pr,Vc,gr,mn,um,mr,Pd,yr,Po,Od,kd,Je,Kt,aa,Oo,Nd,Fd,vr,yn,ra,Hd,Rs,rt,Ag,qv,_C,CC,Sg,RC,MC,DC,Xv,LC,Yv,$v,PC,Ri,lr,OC,kC,Wv,NC,$h,Kv;const Dc=class Dc{constructor(t,e,s,r,l,c,h,f,p,m,v){M(this,rt);M(this,Hc,new AbortController);M(this,Ji,null);M(this,ze,new Map);M(this,ri,new Map);M(this,Bc,null);M(this,na,null);M(this,Ic,null);M(this,Xs,new w3);M(this,fr,null);M(this,jc,0);M(this,Do,new Set);M(this,pn,null);M(this,Ys,null);M(this,Lo,new Set);M(this,Md,!1);M(this,Dd,!1);M(this,zc,!1);M(this,Ld,null);M(this,gn,null);M(this,pr,null);M(this,Vc,null);M(this,gr,!1);M(this,mn,null);M(this,um,new x3);M(this,mr,!1);M(this,Pd,!1);M(this,yr,null);M(this,Po,null);M(this,Od,null);M(this,kd,null);M(this,Je,Ot.NONE);M(this,Kt,new Set);M(this,aa,null);M(this,Oo,null);M(this,Nd,null);M(this,Fd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});M(this,vr,[0,0]);M(this,yn,null);M(this,ra,null);M(this,Hd,null);M(this,Rs,null);const b=this._signal=d(this,Hc).signal;T(this,ra,t),T(this,Hd,e),T(this,Bc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),_(this,rt,RC).call(this),_(this,rt,PC).call(this),_(this,rt,Xv).call(this),T(this,na,l.annotationStorage),T(this,Ld,l.filterFactory),T(this,Oo,c),T(this,Vc,h||null),T(this,Md,f),T(this,Dd,p),T(this,zc,m),T(this,kd,v||null),this.viewParameters={realScale:jr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Dc.prototype,e=c=>d(c,ra).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new Gf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,ra).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,ra).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,s,r;(t=d(this,Rs))==null||t.resolve(),T(this,Rs,null),(e=d(this,Hc))==null||e.abort(),T(this,Hc,null),this._signal=null;for(const l of d(this,ri).values())l.destroy();d(this,ri).clear(),d(this,ze).clear(),d(this,Lo).clear(),T(this,Ji,null),d(this,Kt).clear(),d(this,Xs).destroy(),(s=d(this,Bc))==null||s.destroy(),(r=d(this,mn))==null||r.hide(),T(this,mn,null),d(this,gn)&&(clearTimeout(d(this,gn)),T(this,gn,null)),d(this,yn)&&(clearTimeout(d(this,yn)),T(this,yn,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,kd)}get useNewAltTextFlow(){return d(this,Dd)}get useNewAltTextWhenAddingImage(){return d(this,zc)}get hcmFilter(){return Ut(this,"hcmFilter",d(this,Oo)?d(this,Ld).addHCMFilter(d(this,Oo).foreground,d(this,Oo).background):"none")}get direction(){return Ut(this,"direction",getComputedStyle(d(this,ra)).direction)}get highlightColors(){return Ut(this,"highlightColors",d(this,Vc)?new Map(d(this,Vc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){T(this,Od,t)}editAltText(t,e=!1){var s;(s=d(this,Bc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":T(this,zc,e);break}}onPageChanging({pageNumber:t}){T(this,jc,t-1)}focusMainContainer(){d(this,ra).focus()}findParent(t,e){for(const s of d(this,ri).values()){const{x:r,y:l,width:c,height:h}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+h)return s}return null}disableUserSelect(t=!1){d(this,Hd).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Lo).add(t)}removeShouldRescale(t){d(this,Lo).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*jr.PDF_TO_CSS_UNITS;for(const e of d(this,Lo))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:c}=e,h=e.toString(),p=_(this,rt,Ag).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const v=_(this,rt,qv).call(this,p),b=d(this,Je)===Ot.NONE,x=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Ot.HIGHLIGHT,x);return}x()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,na)&&!d(this,na).has(t.id)&&d(this,na).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,gr)&&(T(this,gr,!1),_(this,rt,Sg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Kt))if(e.div.contains(t)){T(this,Po,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,Po))return;const[t,e]=d(this,Po);T(this,Po,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){_(this,rt,Xv).call(this),_(this,rt,Yv).call(this)}removeEditListeners(){_(this,rt,LC).call(this),_(this,rt,$v).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of d(this,Ys))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of d(this,Ys))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=d(this,Ji))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of d(this,Kt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of d(this,Ys))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Ft(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of s){const p=await r.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)_(this,rt,Wv).call(this,f);_(this,rt,Kv).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Ft(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Je)!==Ot.NONE&&!this.isEditorHandlingKeyboard&&Dc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,gr)&&(T(this,gr,!1),_(this,rt,Sg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(_(this,rt,MC).call(this),_(this,rt,Yv).call(this),_(this,rt,Ri).call(this,{isEditing:d(this,Je)!==Ot.NONE,isEmpty:_(this,rt,$h).call(this),hasSomethingToUndo:d(this,Xs).hasSomethingToUndo(),hasSomethingToRedo:d(this,Xs).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,rt,DC).call(this),_(this,rt,$v).call(this),_(this,rt,Ri).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,Ys)){T(this,Ys,t);for(const e of d(this,Ys))_(this,rt,lr).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,um).id}get currentLayer(){return d(this,ri).get(d(this,jc))}getLayer(t){return d(this,ri).get(t)}get currentPageIndex(){return d(this,jc)}addLayer(t){d(this,ri).set(t.pageIndex,t),d(this,mr)?t.enable():t.disable()}removeLayer(t){d(this,ri).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(d(this,Je)!==t&&!(d(this,Rs)&&(await d(this,Rs).promise,!d(this,Rs)))){if(T(this,Rs,Promise.withResolvers()),T(this,Je,t),t===Ot.NONE){this.setEditingState(!1),_(this,rt,kC).call(this),d(this,Rs).resolve();return}this.setEditingState(!0),await _(this,rt,OC).call(this),this.unselectAll();for(const r of d(this,ri).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),d(this,Rs).resolve();return}for(const r of d(this,ze).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();d(this,Rs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,Je)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(d(this,Ys)){switch(t){case Ct.CREATE:this.currentLayer.addNewEditor();return;case Ct.HIGHLIGHT_DEFAULT_COLOR:(s=d(this,Od))==null||s.updateColor(e);break;case Ct.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Nd)||T(this,Nd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of d(this,Kt))r.updateParams(t,e);for(const r of d(this,Ys))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var l;for(const c of d(this,ze).values())c.editorType===t&&c.show(e);(((l=d(this,Nd))==null?void 0:l.get(Ct.HIGHLIGHT_SHOW_ALL))??!0)!==e&&_(this,rt,lr).call(this,[[Ct.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Pd)!==t){T(this,Pd,t);for(const e of d(this,ri).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of d(this,ze).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return d(this,ze).get(t)}addEditor(t){d(this,ze).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,gn)&&clearTimeout(d(this,gn)),T(this,gn,setTimeout(()=>{this.focusMainContainer(),T(this,gn,null)},0))),d(this,ze).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,Do).has(t.annotationElementId))&&((e=d(this,na))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,Do).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,Do).has(t)}removeDeletedAnnotationElement(t){d(this,Do).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,Ji)!==t&&(T(this,Ji,t),t&&_(this,rt,lr).call(this,t.propertiesToUpdate))}updateUI(t){d(this,rt,NC)===t&&_(this,rt,lr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,Kt).has(t)){d(this,Kt).delete(t),t.unselect(),_(this,rt,Ri).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Kt).add(t),t.select(),_(this,rt,lr).call(this,t.propertiesToUpdate),_(this,rt,Ri).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,Kt))e!==t&&e.unselect();d(this,Kt).clear(),d(this,Kt).add(t),t.select(),_(this,rt,lr).call(this,t.propertiesToUpdate),_(this,rt,Ri).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Kt).has(t)}get firstSelectedEditor(){return d(this,Kt).values().next().value}unselect(t){t.unselect(),d(this,Kt).delete(t),_(this,rt,Ri).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Kt).size!==0}get isEnterHandled(){return d(this,Kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,Xs).undo(),_(this,rt,Ri).call(this,{hasSomethingToUndo:d(this,Xs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,rt,$h).call(this)})}redo(){d(this,Xs).redo(),_(this,rt,Ri).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Xs).hasSomethingToRedo(),isEmpty:_(this,rt,$h).call(this)})}addCommands(t){d(this,Xs).add(t),_(this,rt,Ri).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,rt,$h).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,Kt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)_(this,rt,Wv).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=d(this,Ji))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,Ji)||this.hasSelection}selectAll(){for(const t of d(this,Kt))t.commit();_(this,rt,Kv).call(this,d(this,ze).values())}unselectAll(){if(!(d(this,Ji)&&(d(this,Ji).commitOrRemove(),d(this,Je)!==Ot.NONE))&&this.hasSelection){for(const t of d(this,Kt))t.unselect();d(this,Kt).clear(),_(this,rt,Ri).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;d(this,vr)[0]+=t,d(this,vr)[1]+=e;const[r,l]=d(this,vr),c=[...d(this,Kt)],h=1e3;d(this,yn)&&clearTimeout(d(this,yn)),T(this,yn,setTimeout(()=>{T(this,yn,null),d(this,vr)[0]=d(this,vr)[1]=0,this.addCommands({cmd:()=>{for(const f of c)d(this,ze).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)d(this,ze).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,pn,new Map);for(const t of d(this,Kt))d(this,pn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,pn))return!1;this.disableUserSelect(!1);const t=d(this,pn);T(this,pn,null);let e=!1;for(const[{x:r,y:l,pageIndex:c},h]of t)h.newX=r,h.newY=l,h.newPageIndex=c,e||(e=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const s=(r,l,c,h)=>{if(d(this,ze).has(r.id)){const f=d(this,ri).get(h);f?r._setParentAndPosition(f,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of t)s(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of t)s(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,pn))for(const s of d(this,pn).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,Ji)===t}getActive(){return d(this,Ji)}getMode(){return d(this,Je)}get imageManager(){return Ut(this,"imageManager",new Uv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,m,v,b)=>({x:(m-r)/c,y:1-(p+v-s)/l,width:b/c,height:v/l});break;case"180":h=(p,m,v,b)=>({x:1-(p+v-s)/l,y:1-(m+b-r)/c,width:v/l,height:b/c});break;case"270":h=(p,m,v,b)=>({x:1-(m+b-r)/c,y:(p-s)/l,width:b/c,height:v/l});break;default:h=(p,m,v,b)=>({x:(p-s)/l,y:(m-r)/c,width:v/l,height:b/c});break}const f=[];for(let p=0,m=e.rangeCount;p<m;p++){const v=e.getRangeAt(p);if(!v.collapsed)for(const{x:b,y:x,width:E,height:C}of v.getClientRects())E===0||C===0||f.push(h(b,x,E,C))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Ic)||T(this,Ic,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Ic))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=d(this,Ic))==null?void 0:r.get(t.data.id);if(!e)return;const s=d(this,na).getRawValue(e);s&&(d(this,Je)===Ot.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};Hc=new WeakMap,Ji=new WeakMap,ze=new WeakMap,ri=new WeakMap,Bc=new WeakMap,na=new WeakMap,Ic=new WeakMap,Xs=new WeakMap,fr=new WeakMap,jc=new WeakMap,Do=new WeakMap,pn=new WeakMap,Ys=new WeakMap,Lo=new WeakMap,Md=new WeakMap,Dd=new WeakMap,zc=new WeakMap,Ld=new WeakMap,gn=new WeakMap,pr=new WeakMap,Vc=new WeakMap,gr=new WeakMap,mn=new WeakMap,um=new WeakMap,mr=new WeakMap,Pd=new WeakMap,yr=new WeakMap,Po=new WeakMap,Od=new WeakMap,kd=new WeakMap,Je=new WeakMap,Kt=new WeakMap,aa=new WeakMap,Oo=new WeakMap,Nd=new WeakMap,Fd=new WeakMap,vr=new WeakMap,yn=new WeakMap,ra=new WeakMap,Hd=new WeakMap,Rs=new WeakMap,rt=new WeakSet,Ag=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},qv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of d(this,ri).values())if(s.hasTextLayer(t))return s;return null},_C=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=_(this,rt,Ag).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(d(this,mn)||T(this,mn,new A3(this)),d(this,mn).show(s,r,this.direction==="ltr"))},CC=function(){var l,c,h;const t=document.getSelection();if(!t||t.isCollapsed){d(this,aa)&&((l=d(this,mn))==null||l.hide(),T(this,aa,null),_(this,rt,Ri).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,aa))return;const r=_(this,rt,Ag).call(this,t).closest(".textLayer");if(!r){d(this,aa)&&((c=d(this,mn))==null||c.hide(),T(this,aa,null),_(this,rt,Ri).call(this,{hasSelectedText:!1}));return}if((h=d(this,mn))==null||h.hide(),T(this,aa,e),_(this,rt,Ri).call(this,{hasSelectedText:!0}),!(d(this,Je)!==Ot.HIGHLIGHT&&d(this,Je)!==Ot.NONE)&&(d(this,Je)===Ot.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,gr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,Je)===Ot.HIGHLIGHT?_(this,rt,qv).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),v=b=>{b.type==="pointerup"&&b.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&_(this,rt,Sg).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("blur",v,{signal:m})}},Sg=function(t=""){d(this,Je)===Ot.HIGHLIGHT?this.highlightSelection(t):d(this,Md)&&_(this,rt,_C).call(this)},RC=function(){document.addEventListener("selectionchange",_(this,rt,CC).bind(this),{signal:this._signal})},MC=function(){if(d(this,pr))return;T(this,pr,new AbortController);const t=this.combinedSignal(d(this,pr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},DC=function(){var t;(t=d(this,pr))==null||t.abort(),T(this,pr,null)},Xv=function(){if(d(this,yr))return;T(this,yr,new AbortController);const t=this.combinedSignal(d(this,yr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},LC=function(){var t;(t=d(this,yr))==null||t.abort(),T(this,yr,null)},Yv=function(){if(d(this,fr))return;T(this,fr,new AbortController);const t=this.combinedSignal(d(this,fr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},$v=function(){var t;(t=d(this,fr))==null||t.abort(),T(this,fr,null)},PC=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Ri=function(t){Object.entries(t).some(([s,r])=>d(this,Fd)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Fd),t)}),d(this,Je)===Ot.HIGHLIGHT&&t.hasSelectedEditor===!1&&_(this,rt,lr).call(this,[[Ct.HIGHLIGHT_FREE,!0]]))},lr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},OC=async function(){if(!d(this,mr)){T(this,mr,!0);const t=[];for(const e of d(this,ri).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,ze).values())e.enable()}},kC=function(){if(this.unselectAll(),d(this,mr)){T(this,mr,!1);for(const t of d(this,ri).values())t.disable();for(const t of d(this,ze).values())t.disable()}},Wv=function(t){const e=d(this,ri).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},NC=function(){let t=null;for(t of d(this,Kt));return t},$h=function(){if(d(this,ze).size===0)return!0;if(d(this,ze).size===1)for(const t of d(this,ze).values())return t.isEmpty();return!1},Kv=function(t){for(const e of d(this,Kt))e.unselect();d(this,Kt).clear();for(const e of t)e.isEmpty()||(d(this,Kt).add(e),e.select());_(this,rt,Ri).call(this,{hasSelectedEditor:this.hasSelection})},_t(Dc,"TRANSLATE_SMALL",1),_t(Dc,"TRANSLATE_BIG",10);let El=Dc;var ti,vn,$s,Uc,bn,ts,Gc,An,ji,oa,ko,Sn,br,an,Wh,xg;const Mi=class Mi{constructor(t){M(this,an);M(this,ti,null);M(this,vn,!1);M(this,$s,null);M(this,Uc,null);M(this,bn,null);M(this,ts,null);M(this,Gc,!1);M(this,An,null);M(this,ji,null);M(this,oa,null);M(this,ko,null);M(this,Sn,!1);T(this,ji,t),T(this,Sn,t._uiManager.useNewAltTextFlow),d(Mi,br)||T(Mi,br,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Mi._l10n??(Mi._l10n=t)}async render(){const t=T(this,$s,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=T(this,Uc,document.createElement("span"));t.append(e),d(this,Sn)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(Mi,br).missing),e.setAttribute("data-l10n-id",d(Mi,br)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=d(this,ji)._uiManager._signal;t.addEventListener("contextmenu",Fs,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),d(this,ji)._uiManager.editAltText(d(this,ji)),d(this,Sn)&&d(this,ji)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,an,Wh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(T(this,Gc,!0),r(l))},{signal:s}),await _(this,an,xg).call(this),t}finish(){d(this,$s)&&(d(this,$s).focus({focusVisible:d(this,Gc)}),T(this,Gc,!1))}isEmpty(){return d(this,Sn)?d(this,ti)===null:!d(this,ti)&&!d(this,vn)}hasData(){return d(this,Sn)?d(this,ti)!==null||!!d(this,oa):this.isEmpty()}get guessedText(){return d(this,oa)}async setGuessedText(t){d(this,ti)===null&&(T(this,oa,t),T(this,ko,await Mi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),_(this,an,xg).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,Sn)||d(this,ti)){(e=d(this,An))==null||e.remove(),T(this,An,null);return}if(!d(this,An)){const s=T(this,An,document.createElement("div"));s.className="noAltTextBadge",d(this,ji).div.append(s)}d(this,An).classList.toggle("hidden",!t)}serialize(t){let e=d(this,ti);return!t&&d(this,oa)===e&&(e=d(this,ko)),{altText:e,decorative:d(this,vn),guessedText:d(this,oa),textWithDisclaimer:d(this,ko)}}get data(){return{altText:d(this,ti),decorative:d(this,vn)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(T(this,oa,s),T(this,ko,r)),!(d(this,ti)===t&&d(this,vn)===e)&&(l||(T(this,ti,t),T(this,vn,e)),_(this,an,xg).call(this))}toggle(t=!1){d(this,$s)&&(!t&&d(this,ts)&&(clearTimeout(d(this,ts)),T(this,ts,null)),d(this,$s).disabled=!t)}shown(){d(this,ji)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,an,Wh)}})}destroy(){var t,e;(t=d(this,$s))==null||t.remove(),T(this,$s,null),T(this,Uc,null),T(this,bn,null),(e=d(this,An))==null||e.remove(),T(this,An,null)}};ti=new WeakMap,vn=new WeakMap,$s=new WeakMap,Uc=new WeakMap,bn=new WeakMap,ts=new WeakMap,Gc=new WeakMap,An=new WeakMap,ji=new WeakMap,oa=new WeakMap,ko=new WeakMap,Sn=new WeakMap,br=new WeakMap,an=new WeakSet,Wh=function(){return d(this,ti)&&"added"||d(this,ti)===null&&this.guessedText&&"review"||"missing"},xg=async function(){var r,l,c;const t=d(this,$s);if(!t)return;if(d(this,Sn)){if(t.classList.toggle("done",!!d(this,ti)),t.setAttribute("data-l10n-id",d(Mi,br)[d(this,an,Wh)]),(r=d(this,Uc))==null||r.setAttribute("data-l10n-id",d(Mi,br)[`${d(this,an,Wh)}-label`]),!d(this,ti)){(l=d(this,bn))==null||l.remove();return}}else{if(!d(this,ti)&&!d(this,vn)){t.classList.remove("done"),(c=d(this,bn))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,bn);if(!e){T(this,bn,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,ji).id}`;const h=100,f=d(this,ji)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,ts)),T(this,ts,null)},{once:!0}),t.addEventListener("mouseenter",()=>{T(this,ts,setTimeout(()=>{T(this,ts,null),d(this,bn).classList.add("show"),d(this,ji)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;d(this,ts)&&(clearTimeout(d(this,ts)),T(this,ts,null)),(p=d(this,bn))==null||p.classList.remove("show")},{signal:f})}d(this,vn)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,ti)),e.parentNode||t.append(e);const s=d(this,ji).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},M(Mi,br,null),_t(Mi,"_l10n",null);let tm=Mi;var No,Ws,me,qc,Fo,oi,Ho,Ar,Bd,Bo,Sr,Id,Io,la,xn,Xc,Yc,Ms,jd,hm,kt,Qv,zd,Zv,Jv,FC,HC,tb,eb,ib,BC,sb,IC,jC,zC,nb,Kh;const Wt=class Wt{constructor(t){M(this,kt);M(this,No,null);M(this,Ws,null);M(this,me,null);M(this,qc,!1);M(this,Fo,!1);M(this,oi,null);M(this,Ho,null);M(this,Ar,null);M(this,Bd,"");M(this,Bo,!1);M(this,Sr,null);M(this,Id,!1);M(this,Io,!1);M(this,la,!1);M(this,xn,null);M(this,Xc,0);M(this,Yc,0);M(this,Ms,null);_t(this,"_editToolbar",null);_t(this,"_initialOptions",Object.create(null));_t(this,"_initialData",null);_t(this,"_isVisible",!0);_t(this,"_uiManager",null);_t(this,"_focusEventsAllowed",!0);M(this,jd,!1);M(this,hm,Wt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Wt.prototype._resizeWithKeyboard,e=El.TRANSLATE_SMALL,s=El.TRANSLATE_BIG;return Ut(this,"_resizerKeyboardManager",new Gf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Wt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new E3({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Wt._l10n??(Wt._l10n=t),Wt._l10nResizer||(Wt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Wt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Wt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){he("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,jd)}set _isDraggable(t){var e;T(this,jd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,hm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):_(this,kt,Kh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Bo)?T(this,Bo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[l,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){_(this,kt,Qv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,Sr)||T(this,Sr,[this.x,this.y]),_(this,kt,Qv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,Sr)||T(this,Sr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,Sr)&&(d(this,Sr)[0]!==this.x||d(this,Sr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Wt,r=s/t,l=s/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:l,width:c,height:h}=this;if(c*=e,h*=s,r*=e,l*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),l=Math.max(0,Math.min(s-h,l));break;case 90:r=Math.max(0,Math.min(e-h,r)),l=Math.min(s,Math.max(c,l));break;case 180:r=Math.min(e,Math.max(c,r)),l=Math.min(s,Math.max(h,l));break;case 270:r=Math.min(e,Math.max(h,r)),l=Math.max(0,Math.min(s-c,l));break}this.x=r/=e,this.y=l/=s;const[f,p]=this.getBaseTranslation();r+=f,l+=p;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return _(s=Wt,zd,Zv).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return _(s=Wt,zd,Zv).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,d(this,Fo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),l=!d(this,Fo)&&e.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!d(this,Fo)&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,me))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,Io)?this._editToolbar:(this._editToolbar=new zv(this),this.div.append(this._editToolbar.render()),d(this,me)&&await this._editToolbar.addAltText(d(this,me)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,me))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,me)||(tm.initialize(Wt._l10n),T(this,me,new tm(this)),d(this,No)&&(d(this,me).data=d(this,No),T(this,No,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,me))==null?void 0:t.data}set altTextData(t){d(this,me)&&(d(this,me).data=t)}get guessedAltText(){var t;return(t=d(this,me))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,me))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,me))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,me)&&!d(this,me).isEmpty()}hasAltTextData(){var t;return((t=d(this,me))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,qc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,kt,sb).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Jg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Pi.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(T(this,Bo,!0),this._isDraggable){_(this,kt,BC).call(this,t);return}_(this,kt,ib).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,xn)&&clearTimeout(d(this,xn)),T(this,xn,setTimeout(()=>{var t;T(this,xn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=t/r,m=e/r,v=this.x*l,b=this.y*c,x=this.width*l,E=this.height*c;switch(s){case 0:return[v+p+h,c-b-m-E+f,v+p+x+h,c-b-m+f];case 90:return[v+m+h,c-b+p+f,v+m+E+h,c-b+p+x+f];case 180:return[v-p-x+h,c-b+m+f,v-p+h,c-b+m+E+f];case 270:return[v-m-E+h,c-b-p-x+f,v-m+h,c-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,l,c]=t,h=l-s,f=c-r;switch(this.rotation){case 0:return[s,e-c,h,f];case 90:return[s,e-r,f,h];case 180:return[l,e-r,h,f];case 270:return[l,e-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){T(this,Io,!0)}disableEditMode(){T(this,Io,!1)}isInEditMode(){return d(this,Io)}shouldGetKeyboardEvents(){return d(this,la)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){_(this,kt,sb).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){he("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,T(r,No,t.accessibilityData);const[l,c]=r.pageDimensions,[h,f,p,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/l,r.y=f/c,r.width=p/l,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=d(this,Ar))==null||t.abort(),T(this,Ar,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,xn)&&(clearTimeout(d(this,xn)),T(this,xn,null)),_(this,kt,Kh).call(this),this.removeEditToolbar(),d(this,Ms)){for(const e of d(this,Ms).values())clearTimeout(e);T(this,Ms,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,kt,FC).call(this),d(this,oi).classList.remove("hidden"),Jg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),T(this,Ho,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,oi).children;if(!d(this,Ws)){T(this,Ws,Array.from(e));const c=_(this,kt,IC).bind(this),h=_(this,kt,jC).bind(this),f=this._uiManager._signal;for(const p of d(this,Ws)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",_(this,kt,zC).bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",Wt._l10nResizer[m])}}const s=d(this,Ws)[0];let r=0;for(const c of e){if(c===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,Ws).length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)d(this,oi).append(d(this,oi).firstChild);else if(l>r)for(let h=0;h<l-r;h++)d(this,oi).firstChild.before(d(this,oi).lastChild);let c=0;for(const h of e){const p=d(this,Ws)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Wt._l10nResizer[p])}}_(this,kt,nb).call(this,0),T(this,la,!0),d(this,oi).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,la)&&_(this,kt,eb).call(this,d(this,Bd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){_(this,kt,Kh).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(s=d(this,me))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,l;(t=d(this,oi))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=d(this,me))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,Id)}set isEditing(t){T(this,Id,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){T(this,Fo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Ms)||T(this,Ms,new Map);const{action:s}=t;let r=d(this,Ms).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),d(this,Ms).delete(s),d(this,Ms).size===0&&T(this,Ms,null)},Wt._telemetryTimeout),d(this,Ms).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),T(this,qc,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,qc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};No=new WeakMap,Ws=new WeakMap,me=new WeakMap,qc=new WeakMap,Fo=new WeakMap,oi=new WeakMap,Ho=new WeakMap,Ar=new WeakMap,Bd=new WeakMap,Bo=new WeakMap,Sr=new WeakMap,Id=new WeakMap,Io=new WeakMap,la=new WeakMap,xn=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Ms=new WeakMap,jd=new WeakMap,hm=new WeakMap,kt=new WeakSet,Qv=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},zd=new WeakSet,Zv=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Jv=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},FC=function(){if(d(this,oi))return;T(this,oi,document.createElement("div")),d(this,oi).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");d(this,oi).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",_(this,kt,HC).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Fs,{signal:e}),r.tabIndex=-1}this.div.prepend(d(this,oi))},HC=function(t,e){var E;e.preventDefault();const{isMac:s}=Pi.platform;if(e.button!==0||e.ctrlKey&&s)return;(E=d(this,me))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,kt,eb).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Fs,{signal:c});const h=this.x,f=this.y,p=this.width,m=this.height,v=this.parent.div.style.cursor,b=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const x=()=>{var C;l.abort(),this.parent.togglePointerEvents(!0),(C=d(this,me))==null||C.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=b,_(this,kt,tb).call(this,h,f,p,m)};window.addEventListener("pointerup",x,{signal:c}),window.addEventListener("blur",x,{signal:c})},tb=function(t,e,s,r){const l=this.x,c=this.y,h=this.width,f=this.height;l===t&&c===e&&h===s&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=l,this.y=c;const[p,m]=this.parentDimensions;this.setDims(p*h,m*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[p,m]=this.parentDimensions;this.setDims(p*s,m*r),this.fixAndSetPosition()},mustExec:!0})},eb=function(t,e){const[s,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,p=Wt.MIN_SIZE/s,m=Wt.MIN_SIZE/r,v=W=>Math.round(W*1e4)/1e4,b=_(this,kt,Jv).call(this,this.rotation),x=(W,tt)=>[b[0]*W+b[2]*tt,b[1]*W+b[3]*tt],E=_(this,kt,Jv).call(this,360-this.rotation),C=(W,tt)=>[E[0]*W+E[2]*tt,E[1]*W+E[3]*tt];let P,D,H=!1,O=!1;switch(t){case"topLeft":H=!0,P=(W,tt)=>[0,0],D=(W,tt)=>[W,tt];break;case"topMiddle":P=(W,tt)=>[W/2,0],D=(W,tt)=>[W/2,tt];break;case"topRight":H=!0,P=(W,tt)=>[W,0],D=(W,tt)=>[0,tt];break;case"middleRight":O=!0,P=(W,tt)=>[W,tt/2],D=(W,tt)=>[0,tt/2];break;case"bottomRight":H=!0,P=(W,tt)=>[W,tt],D=(W,tt)=>[0,0];break;case"bottomMiddle":P=(W,tt)=>[W/2,tt],D=(W,tt)=>[W/2,0];break;case"bottomLeft":H=!0,P=(W,tt)=>[0,tt],D=(W,tt)=>[W,0];break;case"middleLeft":O=!0,P=(W,tt)=>[0,tt/2],D=(W,tt)=>[W,tt/2];break}const A=P(h,f),S=D(h,f);let R=x(...S);const k=v(l+R[0]),F=v(c+R[1]);let B=1,q=1,[Y,ct]=this.screenToPageTranslation(e.movementX,e.movementY);if([Y,ct]=C(Y/s,ct/r),H){const W=Math.hypot(h,f);B=q=Math.max(Math.min(Math.hypot(S[0]-A[0]-Y,S[1]-A[1]-ct)/W,1/h,1/f),p/h,m/f)}else O?B=Math.max(p,Math.min(1,Math.abs(S[0]-A[0]-Y)))/h:q=Math.max(m,Math.min(1,Math.abs(S[1]-A[1]-ct)))/f;const ot=v(h*B),lt=v(f*q);R=x(...D(ot,lt));const ft=k-R[0],Q=F-R[1];this.width=ot,this.height=lt,this.x=ft,this.y=Q,this.setDims(s*ot,r*lt),this.fixAndSetPosition()},ib=function(t){const{isMac:e}=Pi.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},BC=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),T(this,Xc,t.clientX),T(this,Yc,t.clientY);const c=h=>{const{clientX:f,clientY:p}=h,[m,v]=this.screenToPageTranslation(f-d(this,Xc),p-d(this,Yc));T(this,Xc,f),T(this,Yc,p),this._uiManager.dragSelectedEditors(m,v)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{s.abort(),e&&this.div.classList.remove("moving"),T(this,Bo,!1),this._uiManager.endDragSession()||_(this,kt,ib).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},sb=function(){if(d(this,Ar)||!this.div)return;T(this,Ar,new AbortController);const t=this._uiManager.combinedSignal(d(this,Ar));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},IC=function(t){Wt._resizerKeyboardManager.exec(this,t)},jC=function(t){var e;d(this,la)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,oi)&&_(this,kt,Kh).call(this)},zC=function(t){T(this,Bd,d(this,la)?t:"")},nb=function(t){if(d(this,Ws))for(const e of d(this,Ws))e.tabIndex=t},Kh=function(){if(T(this,la,!1),_(this,kt,nb).call(this,-1),d(this,Ho)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=d(this,Ho);_(this,kt,tb).call(this,t,e,s,r),T(this,Ho,null)}},M(Wt,zd),_t(Wt,"_l10n",null),_t(Wt,"_l10nResizer",null),_t(Wt,"_borderLineWidth",-1),_t(Wt,"_colorManager",new Gv),_t(Wt,"_zIndex",1),_t(Wt,"_telemetryTimeout",1e3);let Zt=Wt;class E3 extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cT=3285377520,_s=4294901760,fn=65535;class VC{constructor(t){this.h1=t?t&4294967295:cT,this.h2=t?t&4294967295:cT}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let C=0,P=t.length;C<P;C++){const D=t.charCodeAt(C);D<=255?e[s++]=D:(e[s++]=D>>>8,e[s++]=D&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,c=new Uint32Array(e.buffer,0,r);let h=0,f=0,p=this.h1,m=this.h2;const v=3432918353,b=461845907,x=v&fn,E=b&fn;for(let C=0;C<r;C++)C&1?(h=c[C],h=h*v&_s|h*x&fn,h=h<<15|h>>>17,h=h*b&_s|h*E&fn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[C],f=f*v&_s|f*x&fn,f=f<<15|f>>>17,f=f*b&_s|f*E&fn,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(h=0,l){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*v&_s|h*x&fn,h=h<<15|h>>>17,h=h*b&_s|h*E&fn,r&1?p^=h:m^=h}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&_s|t*36045&fn,e=e*4283543511&_s|((e<<16|t>>>16)*2950163797&_s)>>>16,t^=e>>>1,t=t*444984403&_s|t*60499&fn,e=e*3301882366&_s|((e<<16|t>>>16)*3120437893&_s)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const ab=Object.freeze({map:null,hash:"",transfer:void 0});var jo,zo,ei,dm,UC;class VA{constructor(){M(this,dm);M(this,jo,!1);M(this,zo,null);M(this,ei,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=d(this,ei).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return d(this,ei).get(t)}remove(t){if(d(this,ei).delete(t),d(this,ei).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,ei).values())if(e instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=d(this,ei).get(t);let r=!1;if(s!==void 0)for(const[l,c]of Object.entries(e))s[l]!==c&&(r=!0,s[l]=c);else r=!0,d(this,ei).set(t,e);r&&_(this,dm,UC).call(this),e instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,ei).has(t)}getAll(){return d(this,ei).size>0?FA(d(this,ei)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return d(this,ei).size}resetModified(){d(this,jo)&&(T(this,jo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new GC(this)}get serializable(){if(d(this,ei).size===0)return ab;const t=new Map,e=new VC,s=[],r=Object.create(null);let l=!1;for(const[c,h]of d(this,ei)){const f=h instanceof Zt?h.serialize(!1,r):h;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:ab}get editorStats(){let t=null;const e=new Map;for(const s of d(this,ei).values()){if(!(s instanceof Zt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){T(this,zo,null)}get modifiedIds(){if(d(this,zo))return d(this,zo);const t=[];for(const e of d(this,ei).values())!(e instanceof Zt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return T(this,zo,{ids:new Set(t),hash:t.join(",")})}}jo=new WeakMap,zo=new WeakMap,ei=new WeakMap,dm=new WeakSet,UC=function(){d(this,jo)||(T(this,jo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Vd;class GC extends VA{constructor(e){super();M(this,Vd);const{map:s,hash:r,transfer:l}=e.serializable,c=structuredClone(s,l?{transfer:l}:null);T(this,Vd,{map:c,hash:r,transfer:l})}get print(){he("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,Vd)}get modifiedIds(){return Ut(this,"modifiedIds",{ids:new Set,hash:""})}}Vd=new WeakMap;var $c;class T3{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){M(this,$c,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,$c).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,$c).has(t.loadedName))){if(Ge(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,c=new FontFace(s,r,l);this.addNativeFontFace(c);try{await c.load(),d(this,$c).add(s),e==null||e(t)}catch{Ft(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}he("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ft(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ut(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ei||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ut(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ge(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ut(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3)&255}function r(A,S,R,k){const F=A.substring(0,S),B=A.substring(S+R);return F+k+B}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function m(A,S){if(++p>30){Ft("Load test font never loaded."),S();return}if(f.font="30px "+A,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(m.bind(null,A,S))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,v.length,v);const E=16,C=1482184792;let P=s(b,E);for(l=0,c=v.length-3;l<c;l+=4)P=P-C+s(v,l)|0;l<v.length&&(P=P-C+s(v+"XXX",l)|0),b=r(b,E,4,c3(P));const D=`url(data:font/opentype;base64,${btoa(b)});`,H=`@font-face {font-family:"${v}";src:${D}}`;this.insertRule(H);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const A of[t.loadedName,v]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=A,O.append(S)}this._document.body.append(O),m(v,()=>{O.remove(),e.complete()})}}$c=new WeakMap;class _3{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${g3(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(l){Ft(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(l,c){};const r=[];for(let l=0,c=s.length;l<c;)switch(s[l++]){case Jn.BEZIER_CURVE_TO:{const[h,f,p,m,v,b]=s.slice(l,l+6);r.push(x=>x.bezierCurveTo(h,f,p,m,v,b)),l+=6}break;case Jn.MOVE_TO:{const[h,f]=s.slice(l,l+2);r.push(p=>p.moveTo(h,f)),l+=2}break;case Jn.LINE_TO:{const[h,f]=s.slice(l,l+2);r.push(p=>p.lineTo(h,f)),l+=2}break;case Jn.QUADRATIC_CURVE_TO:{const[h,f,p,m]=s.slice(l,l+4);r.push(v=>v.quadraticCurveTo(h,f,p,m)),l+=4}break;case Jn.RESTORE:r.push(h=>h.restore());break;case Jn.SAVE:r.push(h=>h.save());break;case Jn.SCALE:Ge(r.length===2,"Scale command is only valid at the third position.");break;case Jn.TRANSFORM:{const[h,f,p,m,v,b]=s.slice(l,l+6);r.push(x=>x.transform(h,f,p,m,v,b)),l+=6}break;case Jn.TRANSLATE:{const[h,f]=s.slice(l,l+2);r.push(p=>p.translate(h,f)),l+=2}break}return this.compiledGlyphs[e]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](c)}}}var Ud;class qC{constructor({enableHWA:t=!1}){M(this,Ud,!1);T(this,Ud,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!d(this,Ud)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){he("Abstract method `_createCanvas` called.")}}Ud=new WeakMap;class C3 extends qC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class XC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){he("Abstract method `_fetch` called.")}}class YC extends XC{async _fetch(t){const e=await Pm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Lm(e)}}class $C{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,l){return"none"}destroy(t=!1){}}var Vo,Uo,wn,ca,vi,fm,Go,ht,mi,mc,yc,wg,vc,WC,rb,bc,Qh,Zh,ob,Jh;class R3 extends $C{constructor({docId:e,ownerDocument:s=globalThis.document}){super();M(this,ht);M(this,Vo);M(this,Uo);M(this,wn);M(this,ca);M(this,vi);M(this,fm);M(this,Go,0);T(this,ca,e),T(this,vi,s)}addFilter(e){if(!e)return"none";let s=d(this,ht,mi).get(e);if(s)return s;const[r,l,c]=_(this,ht,wg).call(this,e),h=e.length===1?r:`${r}${l}${c}`;if(s=d(this,ht,mi).get(h),s)return d(this,ht,mi).set(e,s),s;const f=`g_${d(this,ca)}_transfer_map_${Ci(this,Go)._++}`,p=_(this,ht,vc).call(this,f);d(this,ht,mi).set(e,p),d(this,ht,mi).set(h,p);const m=_(this,ht,bc).call(this,f);return _(this,ht,Zh).call(this,r,l,c,m),p}addHCMFilter(e,s){var E;const r=`${e}-${s}`,l="base";let c=d(this,ht,mc).get(l);if((c==null?void 0:c.key)===r||(c?((E=c.filter)==null||E.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},d(this,ht,mc).set(l,c)),!e||!s))return c.url;const h=_(this,ht,Jh).call(this,e);e=mt.makeHexColor(...h);const f=_(this,ht,Jh).call(this,s);if(s=mt.makeHexColor(...f),d(this,ht,yc).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const p=new Array(256);for(let C=0;C<=255;C++){const P=C/255;p[C]=P<=.03928?P/12.92:((P+.055)/1.055)**2.4}const m=p.join(","),v=`g_${d(this,ca)}_hcm_filter`,b=c.filter=_(this,ht,bc).call(this,v);_(this,ht,Zh).call(this,m,m,m,b),_(this,ht,rb).call(this,b);const x=(C,P)=>{const D=h[C]/255,H=f[C]/255,O=new Array(P+1);for(let A=0;A<=P;A++)O[A]=D+A/P*(H-D);return O.join(",")};return _(this,ht,Zh).call(this,x(0,5),x(1,5),x(2,5),b),c.url=_(this,ht,vc).call(this,v),c.url}addAlphaFilter(e){let s=d(this,ht,mi).get(e);if(s)return s;const[r]=_(this,ht,wg).call(this,[e]),l=`alpha_${r}`;if(s=d(this,ht,mi).get(l),s)return d(this,ht,mi).set(e,s),s;const c=`g_${d(this,ca)}_alpha_map_${Ci(this,Go)._++}`,h=_(this,ht,vc).call(this,c);d(this,ht,mi).set(e,h),d(this,ht,mi).set(l,h);const f=_(this,ht,bc).call(this,c);return _(this,ht,ob).call(this,r,f),h}addLuminosityFilter(e){let s=d(this,ht,mi).get(e||"luminosity");if(s)return s;let r,l;if(e?([r]=_(this,ht,wg).call(this,[e]),l=`luminosity_${r}`):l="luminosity",s=d(this,ht,mi).get(l),s)return d(this,ht,mi).set(e,s),s;const c=`g_${d(this,ca)}_luminosity_map_${Ci(this,Go)._++}`,h=_(this,ht,vc).call(this,c);d(this,ht,mi).set(e,h),d(this,ht,mi).set(l,h);const f=_(this,ht,bc).call(this,c);return _(this,ht,WC).call(this,f),e&&_(this,ht,ob).call(this,r,f),h}addHighlightHCMFilter(e,s,r,l,c){var H;const h=`${s}-${r}-${l}-${c}`;let f=d(this,ht,mc).get(e);if((f==null?void 0:f.key)===h||(f?((H=f.filter)==null||H.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},d(this,ht,mc).set(e,f)),!s||!r))return f.url;const[p,m]=[s,r].map(_(this,ht,Jh).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[x,E]=[l,c].map(_(this,ht,Jh).bind(this));b<v&&([v,b,x,E]=[b,v,E,x]),d(this,ht,yc).style.color="";const C=(O,A,S)=>{const R=new Array(256),k=(b-v)/S,F=O/255,B=(A-O)/(255*S);let q=0;for(let Y=0;Y<=S;Y++){const ct=Math.round(v+Y*k),ot=F+Y*B;for(let lt=q;lt<=ct;lt++)R[lt]=ot;q=ct+1}for(let Y=q;Y<256;Y++)R[Y]=R[q-1];return R.join(",")},P=`g_${d(this,ca)}_hcm_${e}_filter`,D=f.filter=_(this,ht,bc).call(this,P);return _(this,ht,rb).call(this,D),_(this,ht,Zh).call(this,C(x[0],E[0],5),C(x[1],E[1],5),C(x[2],E[2],5),D),f.url=_(this,ht,vc).call(this,P),f.url}destroy(e=!1){e&&d(this,ht,mc).size!==0||(d(this,wn)&&(d(this,wn).parentNode.parentNode.remove(),T(this,wn,null)),d(this,Uo)&&(d(this,Uo).clear(),T(this,Uo,null)),T(this,Go,0))}}Vo=new WeakMap,Uo=new WeakMap,wn=new WeakMap,ca=new WeakMap,vi=new WeakMap,fm=new WeakMap,Go=new WeakMap,ht=new WeakSet,mi=function(){return d(this,Uo)||T(this,Uo,new Map)},mc=function(){return d(this,fm)||T(this,fm,new Map)},yc=function(){if(!d(this,wn)){const e=d(this,vi).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=d(this,vi).createElementNS(ea,"svg");r.setAttribute("width",0),r.setAttribute("height",0),T(this,wn,d(this,vi).createElementNS(ea,"defs")),e.append(r),r.append(d(this,wn)),d(this,vi).body.append(e)}return d(this,wn)},wg=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let b=0;b<256;b++)m[b]=p[b]/255;const v=m.join(",");return[v,v,v]}const[s,r,l]=e,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=s[p]/255,h[p]=r[p]/255,f[p]=l[p]/255;return[c.join(","),h.join(","),f.join(",")]},vc=function(e){if(d(this,Vo)===void 0){T(this,Vo,"");const s=d(this,vi).URL;s!==d(this,vi).baseURI&&(Om(s)?Ft('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,Vo,s.split("#",1)[0]))}return`url(${d(this,Vo)}#${e})`},WC=function(e){const s=d(this,vi).createElementNS(ea,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},rb=function(e){const s=d(this,vi).createElementNS(ea,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},bc=function(e){const s=d(this,vi).createElementNS(ea,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),d(this,ht,yc).append(s),s},Qh=function(e,s,r){const l=d(this,vi).createElementNS(ea,s);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},Zh=function(e,s,r,l){const c=d(this,vi).createElementNS(ea,"feComponentTransfer");l.append(c),_(this,ht,Qh).call(this,c,"feFuncR",e),_(this,ht,Qh).call(this,c,"feFuncG",s),_(this,ht,Qh).call(this,c,"feFuncB",r)},ob=function(e,s){const r=d(this,vi).createElementNS(ea,"feComponentTransfer");s.append(r),_(this,ht,Qh).call(this,r,"feFuncA",e)},Jh=function(e){return d(this,ht,yc).style.color=e,zA(getComputedStyle(d(this,ht,yc)).getPropertyValue("color"))};class KC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){he("Abstract method `_fetch` called.")}}class QC extends KC{async _fetch(t){const e=await Pm(t,"arraybuffer");return new Uint8Array(e)}}if(Ei){var lb=Promise.withResolvers(),fd=null;(async()=>{const t=await og(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await og(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await og(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await og(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:l,path2d:c}))})().then(t=>{fd=t,lb.resolve()},t=>{Ft(`loadPackages: ${t}`),fd=new Map,lb.resolve()})}class zr{static get promise(){return lb.promise}static get(t){return fd==null?void 0:fd.get(t)}}async function ZC(a){const e=await zr.get("fs").promises.readFile(a);return new Uint8Array(e)}class M3 extends $C{}class D3 extends qC{_createCanvas(t,e){return zr.get("canvas").createCanvas(t,e)}}class L3 extends XC{async _fetch(t){return ZC(t)}}class P3 extends KC{async _fetch(t){return ZC(t)}}const Di={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function cb(a,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),a.clip(r)}class UA{getPattern(){he("Abstract method `getPattern` called.")}}class O3 extends UA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let l;if(r===Di.STROKE||r===Di.FILL){const c=e.current.getClippedPathBoundingBox(r,ve(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=mt.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),cb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(s);l.setTransform(v)}else cb(t,this._bbox),l=this._createGradient(t);return l}}function mv(a,t,e,s,r,l,c,h){const f=t.coords,p=t.colors,m=a.data,v=a.width*4;let b;f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=l,l=c,c=b),f[s+1]>f[r+1]&&(b=s,s=r,r=b,b=c,c=h,h=b),f[e+1]>f[s+1]&&(b=e,e=s,s=b,b=l,l=c,c=b);const x=(f[e]+t.offsetX)*t.scaleX,E=(f[e+1]+t.offsetY)*t.scaleY,C=(f[s]+t.offsetX)*t.scaleX,P=(f[s+1]+t.offsetY)*t.scaleY,D=(f[r]+t.offsetX)*t.scaleX,H=(f[r+1]+t.offsetY)*t.scaleY;if(E>=H)return;const O=p[l],A=p[l+1],S=p[l+2],R=p[c],k=p[c+1],F=p[c+2],B=p[h],q=p[h+1],Y=p[h+2],ct=Math.round(E),ot=Math.round(H);let lt,ft,Q,W,tt,wt,I,et;for(let ut=ct;ut<=ot;ut++){if(ut<P){const Tt=ut<E?0:(E-ut)/(E-P);lt=x-(x-C)*Tt,ft=O-(O-R)*Tt,Q=A-(A-k)*Tt,W=S-(S-F)*Tt}else{let Tt;ut>H?Tt=1:P===H?Tt=0:Tt=(P-ut)/(P-H),lt=C-(C-D)*Tt,ft=R-(R-B)*Tt,Q=k-(k-q)*Tt,W=F-(F-Y)*Tt}let at;ut<E?at=0:ut>H?at=1:at=(E-ut)/(E-H),tt=x-(x-D)*at,wt=O-(O-B)*at,I=A-(A-q)*at,et=S-(S-Y)*at;const st=Math.round(Math.min(lt,tt)),Et=Math.round(Math.max(lt,tt));let pt=v*ut+st*4;for(let Tt=st;Tt<=Et;Tt++)at=(lt-Tt)/(lt-tt),at<0?at=0:at>1&&(at=1),m[pt++]=ft-(ft-wt)*at|0,m[pt++]=Q-(Q-I)*at|0,m[pt++]=W-(W-et)*at|0,m[pt++]=255}}function k3(a,t,e){const s=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(s.length/h)-1,p=h-1;for(l=0;l<f;l++){let m=l*h;for(let v=0;v<p;v++,m++)mv(a,e,s[m],s[m+1],s[m+h],r[m],r[m+1],r[m+h]),mv(a,e,s[m+h+1],s[m+1],s[m+h],r[m+h+1],r[m+1],r[m+h])}break;case"triangles":for(l=0,c=s.length;l<c;l+=3)mv(a,e,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class N3 extends UA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,m=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),x=p/v,E=m/b,C={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/x,scaleY:1/E},P=v+2*2,D=b+2*2,H=s.getCanvas("mesh",P,D),O=H.context,A=O.createImageData(v,b);if(e){const R=A.data;for(let k=0,F=R.length;k<F;k+=4)R[k]=e[0],R[k+1]=e[1],R[k+2]=e[2],R[k+3]=255}for(const R of this._figures)k3(A,R,C);return O.putImageData(A,2,2),{canvas:H.canvas,offsetX:h-2*x,offsetY:f-2*E,scaleX:x,scaleY:E}}getPattern(t,e,s,r){cb(t,this._bbox);let l;if(r===Di.SHADING)l=mt.singularValueDecompose2dScale(ve(t));else if(l=mt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=mt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,r===Di.SHADING?null:this._background,e.cachedCanvases);return r!==Di.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class F3 extends UA{getPattern(){return"hotpink"}}function H3(a){switch(a[0]){case"RadialAxial":return new O3(a);case"Mesh":return new N3(a);case"Dummy":return new F3}throw new Error(`Unknown IR type: ${a[0]}`)}const uT={COLORED:1,UNCOLORED:2},pm=class pm{constructor(t,e,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Mm("TilingType: "+l);const m=e[0],v=e[1],b=e[2],x=e[3],E=b-m,C=x-v,P=mt.singularValueDecompose2dScale(this.matrix),D=mt.singularValueDecompose2dScale(this.baseTransform),H=P[0]*D[0],O=P[1]*D[1];let A=E,S=C,R=!1,k=!1;const F=Math.ceil(f*H),B=Math.ceil(p*O),q=Math.ceil(E*H),Y=Math.ceil(C*O);F>=q?A=f:R=!0,B>=Y?S=p:k=!0;const ct=this.getSizeAndScale(A,this.ctx.canvas.width,H),ot=this.getSizeAndScale(S,this.ctx.canvas.height,O),lt=t.cachedCanvases.getCanvas("pattern",ct.size,ot.size),ft=lt.context,Q=h.createCanvasGraphics(ft);if(Q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Q,r,c),ft.translate(-ct.scale*m,-ot.scale*v),Q.transform(ct.scale,0,0,ot.scale,0,0),ft.save(),this.clipBbox(Q,m,v,b,x),Q.baseTransform=ve(Q.ctx),Q.executeOperatorList(s),Q.endDrawing(),ft.restore(),R||k){const W=lt.canvas;R&&(A=f),k&&(S=p);const tt=this.getSizeAndScale(A,this.ctx.canvas.width,H),wt=this.getSizeAndScale(S,this.ctx.canvas.height,O),I=tt.size,et=wt.size,ut=t.cachedCanvases.getCanvas("pattern-workaround",I,et),at=ut.context,st=R?Math.floor(E/f):0,Et=k?Math.floor(C/p):0;for(let pt=0;pt<=st;pt++)for(let Tt=0;Tt<=Et;Tt++)at.drawImage(W,I*pt,et*Tt,I,et,0,0,I,et);return{canvas:ut.canvas,scaleX:tt.scale,scaleY:wt.scale,offsetX:m,offsetY:v}}return{canvas:lt.canvas,scaleX:ct.scale,scaleY:ot.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,s){const r=Math.max(pm.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,r,l){const c=r-e,h=l-s;t.ctx.rect(e,s,c,h),t.current.updateRectMinMax(ve(t.ctx),[e,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,l=t.current;switch(e){case uT.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case uT.UNCOLORED:const h=mt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new l3(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let l=s;r!==Di.SHADING&&(l=mt.transform(l,e.baseTransform),this.matrix&&(l=mt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};_t(pm,"MAX_PATTERN_SIZE",3e3);let ub=pm;function B3({src:a,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Pi.isLittleEndian?4278190080:255,[f,p]=c?[l,h]:[h,l],m=s>>3,v=s&7,b=a.length;e=new Uint32Array(e.buffer);let x=0;for(let E=0;E<r;E++){for(const P=t+m;t<P;t++){const D=t<b?a[t]:255;e[x++]=D&128?p:f,e[x++]=D&64?p:f,e[x++]=D&32?p:f,e[x++]=D&16?p:f,e[x++]=D&8?p:f,e[x++]=D&4?p:f,e[x++]=D&2?p:f,e[x++]=D&1?p:f}if(v===0)continue;const C=t<b?a[t++]:255;for(let P=0;P<v;P++)e[x++]=C&1<<7-P?p:f}return{srcPos:t,destPos:x}}const hT=16,dT=100,I3=15,fT=10,pT=1e3,Ui=16;function j3(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},a.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},a.transform=function(s,r,l,c,h,f){t.transform(s,r,l,c,h,f),this.__originalTransform(s,r,l,c,h,f)},a.setTransform=function(s,r,l,c,h,f){t.setTransform(s,r,l,c,h,f),this.__originalSetTransform(s,r,l,c,h,f)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(s){t.rotate(s),this.__originalRotate(s)},a.clip=function(s){t.clip(s),this.__originalClip(s)},a.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},a.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},a.bezierCurveTo=function(e,s,r,l,c,h){t.bezierCurveTo(e,s,r,l,c,h),this.__originalBezierCurveTo(e,s,r,l,c,h)},a.rect=function(e,s,r,l){t.rect(e,s,r,l),this.__originalRect(e,s,r,l)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class z3{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function lg(a,t,e,s,r,l,c,h,f,p){const[m,v,b,x,E,C]=ve(a);if(v===0&&b===0){const H=c*m+E,O=Math.round(H),A=h*x+C,S=Math.round(A),R=(c+f)*m+E,k=Math.abs(Math.round(R)-O)||1,F=(h+p)*x+C,B=Math.abs(Math.round(F)-S)||1;return a.setTransform(Math.sign(m),0,0,Math.sign(x),O,S),a.drawImage(t,e,s,r,l,0,0,k,B),a.setTransform(m,v,b,x,E,C),[k,B]}if(m===0&&x===0){const H=h*b+E,O=Math.round(H),A=c*v+C,S=Math.round(A),R=(h+p)*b+E,k=Math.abs(Math.round(R)-O)||1,F=(c+f)*v+C,B=Math.abs(Math.round(F)-S)||1;return a.setTransform(0,Math.sign(v),Math.sign(b),0,O,S),a.drawImage(t,e,s,r,l,0,0,B,k),a.setTransform(m,v,b,x,E,C),[B,k]}a.drawImage(t,e,s,r,l,c,h,f,p);const P=Math.hypot(m,v),D=Math.hypot(b,x);return[P*f,D*p]}function V3(a){const{width:t,height:e}=a;if(t>pT||e>pT)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),h,f,p;const m=t+7&-8;let v=new Uint8Array(m*e),b=0;for(const D of a.data){let H=128;for(;H>0;)v[b++]=D&H?0:255,H>>=1}let x=0;for(b=0,v[b]!==0&&(c[0]=1,++x),f=1;f<t;f++)v[b]!==v[b+1]&&(c[f]=v[b]?2:1,++x),b++;for(v[b]!==0&&(c[f]=2,++x),h=1;h<e;h++){b=h*m,p=h*l,v[b-m]!==v[b]&&(c[p]=v[b]?1:8,++x);let D=(v[b]?4:0)+(v[b-m]?8:0);for(f=1;f<t;f++)D=(D>>2)+(v[b+1]?4:0)+(v[b-m+1]?8:0),r[D]&&(c[p+f]=r[D],++x),b++;if(v[b-m]!==v[b]&&(c[p+f]=v[b]?2:4,++x),x>s)return null}for(b=m*(e-1),p=h*l,v[b]!==0&&(c[p]=8,++x),f=1;f<t;f++)v[b]!==v[b+1]&&(c[p+f]=v[b]?4:8,++x),b++;if(v[b]!==0&&(c[p+f]=4,++x),x>s)return null;const E=new Int32Array([0,l,-1,0,-l,0,0,0,1]),C=new Path2D;for(h=0;x&&h<=e;h++){let D=h*l;const H=D+t;for(;D<H&&!c[D];)D++;if(D===H)continue;C.moveTo(D%l,h);const O=D;let A=c[D];do{const S=E[A];do D+=S;while(!c[D]);const R=c[D];R!==5&&R!==10?(A=R,c[D]=0):(A=R&51*A>>4,c[D]&=A>>2|A<<2),C.lineTo(D%l,D/l|0),c[D]||--x}while(O!==D);--h}return v=null,c=null,function(D){D.save(),D.scale(1/t,-1/e),D.translate(0,-e),D.fill(C),D.beginPath(),D.restore()}}class gT{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=gC,this.textMatrixScale=1,this.fontMatrix=Fv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=gi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=mt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=mt.applyTransform(e,t),r=mt.applyTransform(e.slice(2),t),l=mt.applyTransform([e[0],e[3]],t),c=mt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],c[1])}updateScalingPathMinMax(t,e){mt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,l,c,h,f,p,m){const v=mt.bezierBoundingBox(e,s,r,l,c,h,f,p,m);m||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Di.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Di.STROKE){e||he("Stroke bounding box must include transform.");const r=mt.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=c,s[2]+=l,s[3]+=c}return s}updateClipFromPath(){const t=mt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Di.FILL,e=null){return mt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function mT(a,t){if(typeof ImageData<"u"&&t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%Ui,l=(e-r)/Ui,c=r===0?l:l+1,h=a.createImageData(s,Ui);let f=0,p;const m=t.data,v=h.data;let b,x,E,C;if(t.kind===mg.GRAYSCALE_1BPP){const P=m.byteLength,D=new Uint32Array(v.buffer,0,v.byteLength>>2),H=D.length,O=s+7>>3,A=4294967295,S=Pi.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(E=b<l?Ui:r,p=0,x=0;x<E;x++){const R=P-f;let k=0;const F=R>O?s:R*8-7,B=F&-8;let q=0,Y=0;for(;k<B;k+=8)Y=m[f++],D[p++]=Y&128?A:S,D[p++]=Y&64?A:S,D[p++]=Y&32?A:S,D[p++]=Y&16?A:S,D[p++]=Y&8?A:S,D[p++]=Y&4?A:S,D[p++]=Y&2?A:S,D[p++]=Y&1?A:S;for(;k<F;k++)q===0&&(Y=m[f++],q=128),D[p++]=Y&q?A:S,q>>=1}for(;p<H;)D[p++]=0;a.putImageData(h,0,b*Ui)}}else if(t.kind===mg.RGBA_32BPP){for(x=0,C=s*Ui*4,b=0;b<l;b++)v.set(m.subarray(f,f+C)),f+=C,a.putImageData(h,0,x),x+=Ui;b<c&&(C=s*r*4,v.set(m.subarray(f,f+C)),a.putImageData(h,0,x))}else if(t.kind===mg.RGB_24BPP)for(E=Ui,C=s*E,b=0;b<c;b++){for(b>=l&&(E=r,C=s*E),p=0,x=C;x--;)v[p++]=m[f++],v[p++]=m[f++],v[p++]=m[f++],v[p++]=255;a.putImageData(h,0,b*Ui)}else throw new Error(`bad image kind: ${t.kind}`)}function yT(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%Ui,l=(e-r)/Ui,c=r===0?l:l+1,h=a.createImageData(s,Ui);let f=0;const p=t.data,m=h.data;for(let v=0;v<c;v++){const b=v<l?Ui:r;({srcPos:f}=B3({src:p,srcPos:f,dest:m,width:s,height:b,nonBlackColor:0})),a.putImageData(h,0,v*Ui)}}function Vh(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)a[s]!==void 0&&(t[s]=a[s]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function cg(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!Ei){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function vT(a,t){if(t)return!0;const e=mt.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*jr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const U3=["butt","round","square"],G3=["miter","round","bevel"],q3={},bT={};var Ur,hb,db;const QA=class QA{constructor(t,e,s,r,l,{optionalContentConfig:c,markedContentStack:h=null},f,p){M(this,Ur);this.ctx=t,this.current=new gT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new z3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,s){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ve(this.compositeCtx))}this.ctx.save(),cg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ve(this.ctx)}executeOperatorList(t,e,s,r){const l=t.argsArray,c=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const p=f-h>fT&&typeof s=="function",m=p?Date.now()+I3:0;let v=0;const b=this.commonObjs,x=this.objs;let E;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,s),h;if(E=c[h],E!==Gs.dependency)this[E].apply(this,l[h]);else for(const C of l[h]){const P=C.startsWith("g_")?b:x;if(!P.has(C))return P.get(C,s),h}if(h++,h===f)return h;if(p&&++v>fT){if(Date.now()>m)return s(),h;v=0}}}endDrawing(){_(this,Ur,hb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),_(this,Ur,db).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=s,f=r,p="prescale1",m,v;for(;l>2&&h>1||c>2&&f>1;){let b=h,x=f;l>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/b),c>2&&f>1&&(x=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/x),m=this.cachedCanvases.getCanvas(p,b,x),v=m.context,v.clearRect(0,0,b,x),v.drawImage(t,0,0,h,f,0,0,b,x),t=m.canvas,h=b,f=x,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,h=ve(e);let f,p,m,v;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(F),f||(f=new Map,this._cachedBitmapsMap.set(F,f));const B=f.get(p);if(B&&!c){const q=Math.round(Math.min(h[0],h[2])+h[4]),Y=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:B,offsetX:q,offsetY:Y}}m=B}m||(v=this.cachedCanvases.getCanvas("maskCanvas",s,r),yT(v.context,t));let b=mt.transform(h,[1/s,0,0,-1/r,0,0]);b=mt.transform(b,[1,0,0,1,0,-r]);const[x,E,C,P]=mt.getAxialAlignedBoundingBox([0,0,s,r],b),D=Math.round(C-x)||1,H=Math.round(P-E)||1,O=this.cachedCanvases.getCanvas("fillCanvas",D,H),A=O.context,S=x,R=E;A.translate(-S,-R),A.transform(...b),m||(m=this._scaleImage(v.canvas,ta(A)),m=m.img,f&&c&&f.set(p,m)),A.imageSmoothingEnabled=vT(ve(A),t.interpolate),lg(A,m,0,0,m.width,m.height,0,0,s,r),A.globalCompositeOperation="source-in";const k=mt.transform(ta(A),[1,0,0,1,-S,-R]);return A.fillStyle=c?l.getPattern(e,this,k,Di.FILL):l,A.fillRect(0,0,s,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,O.canvas)),{canvas:O.canvas,offsetX:Math.round(S),offsetY:Math.round(R)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=U3[t]}setLineJoin(t){this.ctx.lineJoin=G3[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...ve(this.suspendedCtx)),Vh(this.suspendedCtx,l),j3(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Vh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const l=r[0],c=r[1],h=r[2]-l,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(e.context,s,h,f,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,l,c,h,f,p,m,v){let b=t.canvas,x=f-m,E=p-v;if(c){const P=mt.makeHexColor(...c);if(x<0||E<0||x+s>b.width||E+r>b.height){const D=this.cachedCanvases.getCanvas("maskExtension",s,r),H=D.context;H.drawImage(b,-x,-E),H.globalCompositeOperation="destination-atop",H.fillStyle=P,H.fillRect(0,0,s,r),H.globalCompositeOperation="source-over",b=D.canvas,x=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const D=new Path2D;D.rect(x,E,s,r),t.clip(D),t.globalCompositeOperation="destination-atop",t.fillStyle=P,t.fillRect(x,E,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const C=new Path2D;C.rect(f,p,s,r),e.clip(C),e.globalCompositeOperation="destination-in",e.drawImage(b,x,E,s,r,f,p,s,r),e.restore()}save(){this.inSMaskMode?(Vh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Vh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,l,c){this.ctx.transform(t,e,s,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,l=this.current;let c=l.x,h=l.y,f,p;const m=ve(r),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,b=v?s.slice(0):null;for(let x=0,E=0,C=t.length;x<C;x++)switch(t[x]|0){case Gs.rectangle:c=e[E++],h=e[E++];const P=e[E++],D=e[E++],H=c+P,O=h+D;r.moveTo(c,h),P===0||D===0?r.lineTo(H,O):(r.lineTo(H,h),r.lineTo(H,O),r.lineTo(c,O)),v||l.updateRectMinMax(m,[c,h,H,O]),r.closePath();break;case Gs.moveTo:c=e[E++],h=e[E++],r.moveTo(c,h),v||l.updatePathMinMax(m,c,h);break;case Gs.lineTo:c=e[E++],h=e[E++],r.lineTo(c,h),v||l.updatePathMinMax(m,c,h);break;case Gs.curveTo:f=c,p=h,c=e[E+4],h=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],c,h),l.updateCurvePathMinMax(m,f,p,e[E],e[E+1],e[E+2],e[E+3],c,h,b),E+=6;break;case Gs.curveTo2:f=c,p=h,r.bezierCurveTo(c,h,e[E],e[E+1],e[E+2],e[E+3]),l.updateCurvePathMinMax(m,f,p,c,h,e[E],e[E+1],e[E+2],e[E+3],b),c=e[E+2],h=e[E+3],E+=4;break;case Gs.curveTo3:f=c,p=h,c=e[E+2],h=e[E+3],r.bezierCurveTo(e[E],e[E+1],c,h,c,h),l.updateCurvePathMinMax(m,f,p,e[E],e[E+1],c,h,c,h,b),E+=4;break;case Gs.closePath:r.closePath();break}v&&l.updateScalingPathMinMax(m,b),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,ta(e),Di.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,ta(e),Di.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=q3}eoClip(){this.pendingClip=bT}beginText(){this.current.textMatrix=gC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Fv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ft("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const f=s.italic?"italic":"normal";let p=e;e<hT?p=hT:e>dT&&(p=dT),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,l,c){this.current.textMatrix=[t,e,s,r,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,m=f&gi.FILL_STROKE_MASK,v=!!(f&gi.ADD_TO_PATH_FLAG),b=c.patternFill&&!h.missingFile;let x;(h.disableFontFace||v||b)&&(x=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||b?(l.save(),l.translate(e,s),l.beginPath(),x(l,p),r&&l.setTransform(...r),(m===gi.FILL||m===gi.FILL_STROKE)&&l.fill(),(m===gi.STROKE||m===gi.FILL_STROKE)&&l.stroke(),l.restore()):((m===gi.FILL||m===gi.FILL_STROKE)&&l.fillText(t,e,s),(m===gi.STROKE||m===gi.FILL_STROKE)&&l.strokeText(t,e,s)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ve(l),x:e,y:s,fontSize:p,addToPath:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Ut(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,v=t.length,b=s.vertical,x=b?1:-1,E=s.defaultVMetrics,C=r*e.fontMatrix[0],P=e.textRenderingMode===gi.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(m,-1):l.scale(m,1);let D;if(e.patternFill){l.save();const R=e.fillColor.getPattern(l,this,ta(l),Di.FILL);D=ve(l),l.restore(),l.fillStyle=R}let H=e.lineWidth;const O=e.textMatrixScale;if(O===0||H===0){const R=e.textRenderingMode&gi.FILL_STROKE_MASK;(R===gi.STROKE||R===gi.FILL_STROKE)&&(H=this.getSinglePixelWidth())}else H/=O;if(c!==1&&(l.scale(c,c),H/=c),l.lineWidth=H,s.isInvalidPDFjsFont){const R=[];let k=0;for(const F of t)R.push(F.unicode),k+=F.width;l.fillText(R.join(""),0,0),e.x+=k*C*m,l.restore(),this.compose();return}let A=0,S;for(S=0;S<v;++S){const R=t[S];if(typeof R=="number"){A+=x*R*r/1e3;continue}let k=!1;const F=(R.isSpace?f:0)+h,B=R.fontChar,q=R.accent;let Y,ct,ot=R.width;if(b){const ft=R.vmetric||E,Q=-(R.vmetric?ft[1]:ot*.5)*C,W=ft[2]*C;ot=ft?-ft[0]:ot,Y=Q/c,ct=(A+W)/c}else Y=A/c,ct=0;if(s.remeasure&&ot>0){const ft=l.measureText(B).width*1e3/r*c;if(ot<ft&&this.isFontSubpixelAAEnabled){const Q=ot/ft;k=!0,l.save(),l.scale(Q,1),Y/=Q}else ot!==ft&&(Y+=(ot-ft)/2e3*r/c)}if(this.contentVisible&&(R.isInFont||s.missingFile)){if(P&&!q)l.fillText(B,Y,ct);else if(this.paintChar(B,Y,ct,D),q){const ft=Y+r*q.offset.x/c,Q=ct-r*q.offset.y/c;this.paintChar(q.fontChar,ft,Q,D)}}const lt=b?ot*C-F*p:ot*C+F*p;A+=lt,k&&l.restore()}b?e.y-=A:e.x+=A*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,l=s.fontSize,c=s.fontDirection,h=r.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,m=s.textHScale*c,v=s.fontMatrix||Fv,b=t.length,x=s.textRenderingMode===gi.INVISIBLE;let E,C,P,D;if(!(x||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,c),E=0;E<b;++E){if(C=t[E],typeof C=="number"){D=h*C*l/1e3,this.ctx.translate(D,0),s.x+=D*m;continue}const H=(C.isSpace?p:0)+f,O=r.charProcOperatorList[C.operatorListId];if(!O){Ft(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),e.scale(l,l),e.transform(...v),this.executeOperatorList(O),this.restore()),P=mt.applyTransform([C.width,0],v)[0]*l+H,e.translate(P,0),s.x+=P*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,l,c){this.ctx.rect(s,r,l-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||ve(this.ctx),l={createCanvasGraphics:c=>new QA(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new ub(t,s,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=mt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=mt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=H3(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,ta(e),Di.SHADING);const r=ta(e);if(r){const{width:l,height:c}=e.canvas,[h,f,p,m]=mt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){he("Should not call beginInlineImage")}beginImageData(){he("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ve(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(ve(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Mm("TODO: Support non-isolated groups."),t.knockout&&Ft("Knockout groups not supported.");const s=ve(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=mt.getAxialAlignedBoundingBox(t.bbox,ve(e));const l=[0,0,e.canvas.width,e.canvas.height];r=mt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,p),b=v.context;b.translate(-c,-h),b.transform(...s),t.smask?this.smaskStack.push({canvas:v.canvas,context:b,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Vh(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ve(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=mt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,r,l){if(_(this,Ur,hb).call(this),cg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[f,p]=mt.singularValueDecompose2dScale(ve(this.ctx)),{viewportScale:m}=this,v=Math.ceil(c*this.outputScaleX*m),b=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,b);const{canvas:x,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,x),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),cg(this.ctx)}else cg(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new gT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,Ur,db).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=V3(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),c=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=ve(h);h.transform(e,s,r,l,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,v=c.length;m<v;m+=2){const b=mt.transform(f,[e,s,r,l,c[m],c[m+1]]),[x,E]=mt.applyTransform([0,0],b);h.drawImage(p.canvas,x,E)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:h,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=m.context;v.save();const b=this.getObject(c,l);yT(v,b),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,ta(e),Di.FILL):s,v.fillRect(0,0,h,f),v.restore(),e.save(),e.transform(...p),e.scale(1,-1),lg(e,m.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Ft("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let p=0,m=r.length;p<m;p+=2)f.push({transform:[e,0,0,s,r[p],r[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!Ei){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/e,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;mT(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,ta(r));r.imageSmoothingEnabled=vT(ve(r),t.interpolate),lg(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;mT(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),lg(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===bT?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ve(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:l}=this.ctx.getTransform();let c,h;if(s===0&&r===0){const f=Math.abs(e),p=Math.abs(l);if(f===p)if(t===0)c=h=1/f;else{const m=f*t;c=h=m<1?1/m:1}else if(t===0)c=1/f,h=1/p;else{const m=f*t,v=p*t;c=m<1?1/m:1,h=v<1?1/v:1}}else{const f=Math.abs(e*l-s*r),p=Math.hypot(e,s),m=Math.hypot(r,l);if(t===0)c=m/f,h=p/f;else{const v=t*f;c=m>v?m/v:1,h=p>v?p/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,l),c.length>0){const h=Math.max(r,l);e.setLineDash(c.map(f=>f/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Ur=new WeakSet,hb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},db=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Lc=QA;for(const a in Gs)Lc.prototype[a]!==void 0&&(Lc.prototype[Gs[a]]=Lc.prototype[a]);var Gd,qd;class Ra{static get workerPort(){return d(this,Gd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");T(this,Gd,t)}static get workerSrc(){return d(this,qd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");T(this,qd,t)}}Gd=new WeakMap,qd=new WeakMap,M(Ra,Gd,null),M(Ra,qd,"");const ug={DATA:1,ERROR:2},ke={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Zi(a){switch(a instanceof Error||typeof a=="object"&&a!==null||he('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Ll(a.message);case"MissingPDFException":return new Dl(a.message);case"PasswordException":return new Hv(a.message,a.code);case"UnexpectedResponseException":return new Dm(a.message,a.status);case"UnknownErrorException":return new Bv(a.message,a.details);default:return new Bv(a.message,a.toString())}}var Wc,Ns,JC,tR,eR,Eg;class td{constructor(t,e,s){M(this,Ns);M(this,Wc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",_(this,Ns,JC).bind(this),{signal:d(this,Wc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,s,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:c,targetName:h,stream:ke.PULL,streamId:l,desiredSize:p.desiredSize}),m.promise},cancel:p=>{Ge(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:ke.CANCEL,streamId:l,reason:Zi(p)}),m.promise}},s)}destroy(){var t;(t=d(this,Wc))==null||t.abort(),T(this,Wc,null)}}Wc=new WeakMap,Ns=new WeakSet,JC=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){_(this,Ns,eR).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===ug.DATA)r.resolve(t.data);else if(t.callback===ug.ERROR)r.reject(Zi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){l.postMessage({sourceName:s,targetName:r,callback:ug.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:s,targetName:r,callback:ug.ERROR,callbackId:t.callbackId,reason:Zi(c)})});return}if(t.streamId){_(this,Ns,tR).call(this,t);return}e(t.data)},tR=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(p,m=1,v){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:ke.ENQUEUE,streamId:e,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:ke.CLOSE,streamId:e}),delete c.streamSinks[e])},error(p){Ge(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:ke.ERROR,streamId:e,reason:Zi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(p){p(h(t.data,f))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ke.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:r,stream:ke.START_COMPLETE,streamId:e,reason:Zi(p)})})},eR=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case ke.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Zi(t.reason));break;case ke.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Zi(t.reason));break;case ke.PULL:if(!h){l.postMessage({sourceName:s,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:ke.PULL_COMPLETE,streamId:e,reason:Zi(f)})});break;case ke.ENQUEUE:if(Ge(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case ke.CLOSE:if(Ge(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),_(this,Ns,Eg).call(this,c,e);break;case ke.ERROR:Ge(c,"error should have stream controller"),c.controller.error(Zi(t.reason)),_(this,Ns,Eg).call(this,c,e);break;case ke.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Zi(t.reason)),_(this,Ns,Eg).call(this,c,e);break;case ke.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,Zi(t.reason)))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:r,stream:ke.CANCEL_COMPLETE,streamId:e,reason:Zi(f)})}),h.sinkCapability.reject(Zi(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Eg=async function(t,e){var s,r,l;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var qo,Xd;class X3{constructor({parsedData:t,rawData:e}){M(this,qo);M(this,Xd);T(this,qo,t),T(this,Xd,e)}getRaw(){return d(this,Xd)}get(t){return d(this,qo).get(t)??null}getAll(){return FA(d(this,qo))}has(t){return d(this,qo).has(t)}}qo=new WeakMap,Xd=new WeakMap;const Ac=Symbol("INTERNAL");var Yd,$d,Wd,Kc;class Y3{constructor(t,{name:e,intent:s,usage:r,rbGroups:l}){M(this,Yd,!1);M(this,$d,!1);M(this,Wd,!1);M(this,Kc,!0);T(this,Yd,!!(t&os.DISPLAY)),T(this,$d,!!(t&os.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(d(this,Wd))return d(this,Kc);if(!d(this,Kc))return!1;const{print:t,view:e}=this.usage;return d(this,Yd)?(e==null?void 0:e.viewState)!=="OFF":d(this,$d)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Ac&&he("Internal method `_setVisible` called."),T(this,Wd,s),T(this,Kc,e)}}Yd=new WeakMap,$d=new WeakMap,Wd=new WeakMap,Kc=new WeakMap;var xr,Qt,Qc,Zc,Kd,fb;class $3{constructor(t,e=os.DISPLAY){M(this,Kd);M(this,xr,null);M(this,Qt,new Map);M(this,Qc,null);M(this,Zc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,T(this,Zc,t.order);for(const s of t.groups)d(this,Qt).set(s.id,new Y3(e,s));if(t.baseState==="OFF")for(const s of d(this,Qt).values())s._setVisible(Ac,!1);for(const s of t.on)d(this,Qt).get(s)._setVisible(Ac,!0);for(const s of t.off)d(this,Qt).get(s)._setVisible(Ac,!1);T(this,Qc,this.getHash())}}isVisible(t){if(d(this,Qt).size===0)return!0;if(!t)return Mm("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Qt).has(t.id)?d(this,Qt).get(t.id).visible:(Ft(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return _(this,Kd,fb).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(d(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!d(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!d(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(d(this,Qt).get(e).visible)return!1}return!0}return Ft(`Unknown optional content policy ${t.policy}.`),!0}return Ft(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var l;const r=d(this,Qt).get(t);if(!r){Ft(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==t&&((l=d(this,Qt).get(h))==null||l._setVisible(Ac,!1,!0));r._setVisible(Ac,!!e,!0),T(this,xr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=d(this,Qt).get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}T(this,xr,null)}get hasInitialVisibility(){return d(this,Qc)===null||this.getHash()===d(this,Qc)}getOrder(){return d(this,Qt).size?d(this,Zc)?d(this,Zc).slice():[...d(this,Qt).keys()]:null}getGroups(){return d(this,Qt).size>0?FA(d(this,Qt)):null}getGroup(t){return d(this,Qt).get(t)||null}getHash(){if(d(this,xr)!==null)return d(this,xr);const t=new VC;for(const[e,s]of d(this,Qt))t.update(`${e}:${s.visible}`);return T(this,xr,t.hexdigest())}}xr=new WeakMap,Qt=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,Kd=new WeakSet,fb=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=_(this,Kd,fb).call(this,l);else if(d(this,Qt).has(l))c=d(this,Qt).get(l).visible;else return Ft(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class W3{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ge(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Ge(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,l;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new K3(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Q3(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class K3{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=IA(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Q3{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Z3(a){let t=!0,e=s("filename\\*","i").exec(a);if(e){e=e[1];let m=h(e);return m=unescape(m),m=f(m),m=p(m),l(m)}if(e=c(a),e){const m=p(e);return l(m)}if(e=s("filename","i").exec(a),e){e=e[1];let m=h(e);return m=p(m),l(m)}function s(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(m,{fatal:!0}),x=Lm(v);v=b.decode(x),t=!1}catch{}}return v}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const v=[];let b;const x=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(m))!==null;){let[,C,P,D]=b;if(C=parseInt(C,10),C in v){if(C===0)break;continue}v[C]=[P,D]}const E=[];for(let C=0;C<v.length&&C in v;++C){let[P,D]=v[C];D=h(D),P&&(D=unescape(D),C===0&&(D=f(D))),E.push(D)}return E.join("")}function h(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let b=0;b<v.length;++b){const x=v[b].indexOf('"');x!==-1&&(v[b]=v[b].slice(0,x),v.length=b+1),v[b]=v[b].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function f(m){const v=m.indexOf("'");if(v===-1)return m;const b=m.slice(0,v),E=m.slice(v+1).replace(/^[^']*'/,"");return r(b,E)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,x,E){if(x==="q"||x==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,P){return String.fromCharCode(parseInt(P,16))}),r(b,E);try{E=atob(E)}catch{}return r(b,E)})}return""}function GA(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function qA({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(a.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||s||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function XA(a){const t=a.get("Content-Disposition");if(t){let e=Z3(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(IA(e))return e}return null}function km(a,t){return a===404||a===0&&t.startsWith("file:")?new Dl('Missing PDF "'+t+'".'):new Dm(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function iR(a){return a===200||a===206}function sR(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function nR(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Ft(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class AT{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=GA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new J3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new tF(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class J3{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,sR(s,this._withCredentials,this._abortController)).then(l=>{if(!iR(l.status))throw km(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=qA({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=XA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ll("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class tF{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const c=r.url;fetch(c,sR(l,this._withCredentials,this._abortController)).then(h=>{if(!iR(h.status))throw km(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:nR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const yv=200,vv=206;function eF(a){const t=a.response;return typeof t!="string"?t:Lm(t).buffer}class iF{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=GA(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const l in s)r[l]=s[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=vv):r.expectedStatus=yv,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var f,p,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const l=r.status||yv;if(!(l===yv&&s.expectedStatus===vv)&&l!==s.expectedStatus){(p=s.onError)==null||p.call(s,r.status);return}const h=eF(r);if(l===vv){const v=r.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);s.onDone({begin:parseInt(b[1],10),chunk:h})}else h?s.onDone({begin:0,chunk:h}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class sF{constructor(t){this._source=t,this._manager=new iF(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new nF(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new aF(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class nF{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=qA({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=XA(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=km(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class aF{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=km(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rF=/^[a-z][a-z0-9\-+.]+:/i;function oF(a){if(rF.test(a))return new URL(a);const t=zr.get("url");return new URL(t.pathToFileURL(a))}function aR(a,t,e){return a.protocol==="http:"?zr.get("http").request(a,{headers:t},e):zr.get("https").request(a,{headers:t},e)}class lF{constructor(t){this.source=t,this.url=oF(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=GA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new hF(this):new cF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new dF(this,t,e):new uF(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class rR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ll("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oR{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class cF extends rR{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const f=new Dl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=qA({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=XA(l)};this._request=aR(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class uF extends oR{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const l=c=>{if(c.statusCode===404){const h=new Dl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=aR(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class hF extends rR{constructor(t){super(t);const e=zr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Dl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class dF extends oR{constructor(t,e,s){super(t);const r=zr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const fF=1e5,Bi=30,pF=.8;var HT,wr,zi,Qd,Zd,Xo,ua,Jd,tf,Yo,Jc,tu,Er,eu,ef,iu,$o,sf,nf,Ee,Wo,Ko,af,Tr,su,Na,lR,cR,gb,hs,Tg,mb,uR,hR;let pb=(Ee=class{constructor({textContentSource:t,container:e,viewport:s}){M(this,Na);M(this,wr,Promise.withResolvers());M(this,zi,null);M(this,Qd,!1);M(this,Zd,!!((HT=globalThis.FontInspector)!=null&&HT.enabled));M(this,Xo,null);M(this,ua,null);M(this,Jd,0);M(this,tf,0);M(this,Yo,null);M(this,Jc,null);M(this,tu,0);M(this,Er,0);M(this,eu,Object.create(null));M(this,ef,[]);M(this,iu,null);M(this,$o,[]);M(this,sf,new WeakMap);M(this,nf,null);var f;if(t instanceof ReadableStream)T(this,iu,t);else if(typeof t=="object")T(this,iu,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,zi,T(this,Jc,e)),T(this,Er,s.scale*(globalThis.devicePixelRatio||1)),T(this,tu,s.rotation),T(this,ua,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=s.rawDims;T(this,nf,[1,0,0,-1,-c,h+l]),T(this,tf,r),T(this,Jd,l),_(f=Ee,hs,uR).call(f),wl(e,s),d(this,wr).promise.finally(()=>{d(Ee,su).delete(this),T(this,ua,null),T(this,eu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Pi.platform;return Ut(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Yo).read().then(({value:e,done:s})=>{if(s){d(this,wr).resolve();return}d(this,Xo)??T(this,Xo,e.lang),Object.assign(d(this,eu),e.styles),_(this,Na,lR).call(this,e.items),t()},d(this,wr).reject)};return T(this,Yo,d(this,iu).getReader()),d(Ee,su).add(this),t(),d(this,wr).promise}update({viewport:t,onBefore:e=null}){var l;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==d(this,tu)&&(e==null||e(),T(this,tu,r),wl(d(this,Jc),{rotation:r})),s!==d(this,Er)){e==null||e(),T(this,Er,s);const c={div:null,properties:null,ctx:_(l=Ee,hs,Tg).call(l,d(this,Xo))};for(const h of d(this,$o))c.properties=d(this,sf).get(h),c.div=h,_(this,Na,gb).call(this,c)}}cancel(){var e;const t=new Ll("TextLayer task cancelled.");(e=d(this,Yo))==null||e.cancel(t).catch(()=>{}),T(this,Yo,null),d(this,wr).reject(t)}get textDivs(){return d(this,$o)}get textContentItemsStr(){return d(this,ef)}static cleanup(){if(!(d(this,su).size>0)){d(this,Wo).clear();for(const{canvas:t}of d(this,Ko).values())t.remove();d(this,Ko).clear()}}},wr=new WeakMap,zi=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Xo=new WeakMap,ua=new WeakMap,Jd=new WeakMap,tf=new WeakMap,Yo=new WeakMap,Jc=new WeakMap,tu=new WeakMap,Er=new WeakMap,eu=new WeakMap,ef=new WeakMap,iu=new WeakMap,$o=new WeakMap,sf=new WeakMap,nf=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,af=new WeakMap,Tr=new WeakMap,su=new WeakMap,Na=new WeakSet,lR=function(t){var r,l;if(d(this,Qd))return;(l=d(this,ua)).ctx??(l.ctx=_(r=Ee,hs,Tg).call(r,d(this,Xo)));const e=d(this,$o),s=d(this,ef);for(const c of t){if(e.length>fF){Ft("Ignoring additional textDivs for performance reasons."),T(this,Qd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=d(this,zi);T(this,zi,document.createElement("span")),d(this,zi).classList.add("markedContent"),c.id!==null&&d(this,zi).setAttribute("id",`${c.id}`),h.append(d(this,zi))}else c.type==="endMarkedContent"&&T(this,zi,d(this,zi).parentNode);continue}s.push(c.str),_(this,Na,cR).call(this,c)}},cR=function(t){var C;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,$o).push(e);const r=mt.transform(d(this,nf),t.transform);let l=Math.atan2(r[1],r[0]);const c=d(this,eu)[t.fontName];c.vertical&&(l+=Math.PI/2);let h=d(this,Zd)&&c.fontSubstitution||c.fontFamily;h=Ee.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*_(C=Ee,hs,hR).call(C,h,d(this,Xo));let m,v;l===0?(m=r[4],v=r[5]-p):(m=r[4]+p*Math.sin(l),v=r[5]-p*Math.cos(l));const b="calc(var(--scale-factor)*",x=e.style;d(this,zi)===d(this,Jc)?(x.left=`${(100*m/d(this,tf)).toFixed(2)}%`,x.top=`${(100*v/d(this,Jd)).toFixed(2)}%`):(x.left=`${b}${m.toFixed(2)}px)`,x.top=`${b}${v.toFixed(2)}px)`),x.fontSize=`${b}${(d(Ee,Tr)*f).toFixed(2)}px)`,x.fontFamily=h,s.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,Zd)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const P=Math.abs(t.transform[0]),D=Math.abs(t.transform[3]);P!==D&&Math.max(P,D)/Math.min(P,D)>1.5&&(E=!0)}if(E&&(s.canvasWidth=c.vertical?t.height:t.width),d(this,sf).set(e,s),d(this,ua).div=e,d(this,ua).properties=s,_(this,Na,gb).call(this,d(this,ua)),s.hasText&&d(this,zi).append(e),s.hasEOL){const P=document.createElement("br");P.setAttribute("role","presentation"),d(this,zi).append(P)}},gb=function(t){var h;const{div:e,properties:s,ctx:r}=t,{style:l}=e;let c="";if(d(Ee,Tr)>1&&(c=`scale(${1/d(Ee,Tr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:m}=s;_(h=Ee,hs,mb).call(h,r,m*d(this,Er),f);const{width:v}=r.measureText(e.textContent);v>0&&(c=`scaleX(${p*d(this,Er)/v}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(l.transform=c)},hs=new WeakSet,Tg=function(t=null){let e=d(this,Ko).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Ko).set(t,e),d(this,af).set(e,{size:0,family:""})}return e},mb=function(t,e,s){const r=d(this,af).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},uR=function(){if(d(this,Tr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),T(this,Tr,t.getBoundingClientRect().height),t.remove()},hR=function(t,e){const s=d(this,Wo).get(t);if(s)return s;const r=_(this,hs,Tg).call(this,e);r.canvas.width=r.canvas.height=Bi,_(this,hs,mb).call(this,r,Bi,t);const l=r.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const m=c/(c+h);return d(this,Wo).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Bi,Bi),r.strokeText("g",0,0);let f=r.getImageData(0,0,Bi,Bi).data;h=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){h=Math.ceil(m/4/Bi);break}r.clearRect(0,0,Bi,Bi),r.strokeText("A",0,Bi),f=r.getImageData(0,0,Bi,Bi).data,c=0;for(let m=0,v=f.length;m<v;m+=4)if(f[m]>0){c=Bi-Math.floor(m/4/Bi);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+h):pF;return d(this,Wo).set(t,p),p},M(Ee,hs),M(Ee,Wo,new Map),M(Ee,Ko,new Map),M(Ee,af,new WeakMap),M(Ee,Tr,null),M(Ee,su,new Set),Ee);class xd{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(xd.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const p of l.children)r(p)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const gF=65536,mF=100,yF=5e3,vF=Ei?D3:C3,bF=Ei?L3:YC,AF=Ei?M3:R3,SF=Ei?P3:QC;function xF(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new yb,{docId:e}=t,s=a.url?wF(a.url):null,r=a.data?EF(a.data):null,l=a.httpHeaders||null,c=a.withCredentials===!0,h=a.password??null,f=a.range instanceof dR?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:gF;let m=a.worker instanceof Pc?a.worker:null;const v=a.verbosity,b=typeof a.docBaseUrl=="string"&&!Om(a.docBaseUrl)?a.docBaseUrl:null,x=typeof a.cMapUrl=="string"?a.cMapUrl:null,E=a.cMapPacked!==!1,C=a.CMapReaderFactory||bF,P=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,D=a.StandardFontDataFactory||SF,H=a.stopAtErrors!==!0,O=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,A=a.isEvalSupported!==!1,S=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Ei,R=typeof a.isChrome=="boolean"?a.isChrome:!Pi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),k=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,F=typeof a.disableFontFace=="boolean"?a.disableFontFace:Ei,B=a.fontExtraProperties===!0,q=a.enableXfa===!0,Y=a.ownerDocument||globalThis.document,ct=a.disableRange===!0,ot=a.disableStream===!0,lt=a.disableAutoFetch===!0,ft=a.pdfBug===!0,Q=a.CanvasFactory||vF,W=a.FilterFactory||AF,tt=a.enableHWA===!0,wt=f?f.length:a.length??NaN,I=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Ei&&!F,et=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:C===YC&&D===QC&&x&&P&&Yh(x,document.baseURI)&&Yh(P,document.baseURI);a.canvasFactory&&lT("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&lT("`filterFactory`-instance option, please use `FilterFactory` instead.");const ut=null;n3(v);const at={canvasFactory:new Q({ownerDocument:Y,enableHWA:tt}),filterFactory:new W({docId:e,ownerDocument:Y}),cMapReaderFactory:et?null:new C({baseUrl:x,isCompressed:E}),standardFontDataFactory:et?null:new D({baseUrl:P})};if(!m){const pt={verbosity:v,port:Ra.workerPort};m=pt.port?Pc.fromPort(pt):new Pc(pt),t._worker=m}const st={docId:e,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:lt,rangeChunkSize:p,length:wt,docBaseUrl:b,enableXfa:q,evaluatorOptions:{maxImageSize:O,disableFontFace:F,ignoreErrors:H,isEvalSupported:A,isOffscreenCanvasSupported:S,isChrome:R,canvasMaxAreaInBytes:k,fontExtraProperties:B,useSystemFonts:I,cMapUrl:et?x:null,standardFontDataUrl:et?P:null}},Et={disableFontFace:F,fontExtraProperties:B,ownerDocument:Y,pdfBug:ft,styleElement:ut,loadingParams:{disableAutoFetch:lt,enableXfa:q}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const pt=m.messageHandler.sendWithPromise("GetDocRequest",st,r?[r.buffer]:null);let Tt;if(f)Tt=new W3(f,{disableRange:ct,disableStream:ot});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Lt;Ei?Lt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Yh(s)?AT:lF:Lt=Yh(s)?AT:sF,Tt=new Lt({url:s,length:wt,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:ct,disableStream:ot})}return pt.then(Lt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const qt=new td(e,Lt,m.port),xt=new RF(qt,t,Tt,Et,at);t._transport=xt,qt.send("Ready",null)})}).catch(t._capability.reject),t}function wF(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(Ei&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function EF(a){if(Ei&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Lm(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ST(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var gm;const mm=class mm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ci(mm,gm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};gm=new WeakMap,M(mm,gm,0);let yb=mm,dR=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){he("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class TF{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _r,ha,Os,Sc,_g;class _F{constructor(t,e,s,r=!1){M(this,Os);M(this,_r,null);M(this,ha,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new oT:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new fR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new Uf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=ur.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1}){var A,S;(A=this._stats)==null||A.time("Overall");const b=this._transport.getRenderingIntent(s,r,m,v),{renderingIntent:x,cacheKey:E}=b;T(this,ha,!1),_(this,Os,_g).call(this),h||(h=this._transport.getOptionalContentConfig(x));let C=this._intentStates.get(E);C||(C=Object.create(null),this._intentStates.set(E,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const P=!!(x&os.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(b));const D=R=>{var k;C.renderTasks.delete(H),(this._maybeCleanupAfterRender||P)&&T(this,ha,!0),_(this,Os,Sc).call(this,!P),R?(H.capability.reject(R),this._abortOperatorList({intentState:C,reason:R instanceof Error?R:new Error(R)})):H.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},H=new bb({callback:D,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:p});(C.renderTasks||(C.renderTasks=new Set)).add(H);const O=H.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([R,k])=>{var F;if(this.destroyed){D();return}if((F=this._stats)==null||F.time("Rendering"),!(k.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");H.initializeGraphics({transparency:R,optionalContentConfig:k}),H.operatorListChanged()}).catch(D),O}getOperatorList({intent:t="display",annotationMode:e=ur.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var p;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,s,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>xd.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function l(){c.read().then(function({value:f,done:p}){if(p){s(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},r)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),T(this,ha,!1),_(this,Os,_g).call(this),Promise.all(t)}cleanup(t=!1){T(this,ha,!0);const e=_(this,Os,Sc).call(this,!1);return t&&e&&this._stats&&(this._stats=new oT),e}_startRenderPage(t,e){var r,l;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=s.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&_(this,Os,Sc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:c}=s,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),p=this._intentStates.get(e);p.streamReader=f;const m=()=>{f.read().then(({value:v,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),m())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();_(this,Os,Sc).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof BA){let r=mF;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Ll(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}_r=new WeakMap,ha=new WeakMap,Os=new WeakSet,Sc=function(t=!1){if(_(this,Os,_g).call(this),!d(this,ha)||this.destroyed)return!1;if(t)return T(this,_r,setTimeout(()=>{T(this,_r,null),_(this,Os,Sc).call(this,!1)},yF)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,ha,!1),!0},_g=function(){d(this,_r)&&(clearTimeout(d(this,_r)),T(this,_r,null))};var da,ym;class CF{constructor(){M(this,da,new Map);M(this,ym,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};d(this,ym).then(()=>{for(const[r]of d(this,da))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Ft("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}d(this,da).set(e,r)}removeEventListener(t,e){const s=d(this,da).get(e);s==null||s(),d(this,da).delete(e)}terminate(){for(const[,t]of d(this,da))t==null||t();d(this,da).clear()}}da=new WeakMap,ym=new WeakMap;var vm,Qo,Zo,nu,Cg,au,Rg;const de=class de{constructor({name:t=null,port:e=null,verbosity:s=a3()}={}){M(this,nu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=d(de,Zo))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(de,Zo)||T(de,Zo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Ei?Promise.all([zr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new td("main","worker",t),this._messageHandler.on("ready",function(){}),_(this,nu,Cg).call(this)}_initialize(){if(d(de,Qo)||d(de,au,Rg)){this._setupFakeWorker();return}let{workerSrc:t}=de;try{de._isSameOrigin(window.location.href,t)||(t=de._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new td("main","worker",e),r=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,_(this,nu,Cg).call(this)}),s.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};c();return}catch{Mm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(de,Qo)||(Ft("Setting up fake worker."),T(de,Qo,!0)),de._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new CF;this._port=e;const s=`fake${Ci(de,vm)._++}`,r=new td(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new td(s,s+"_worker",e),_(this,nu,Cg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(de,Zo))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=d(this,Zo))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new de(t)}static get workerSrc(){if(Ra.workerSrc)return Ra.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ut(this,"_setupFakeWorkerGlobal",(async()=>d(this,au,Rg)?d(this,au,Rg):(await import(this.workerSrc)).WorkerMessageHandler)())}};vm=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,nu=new WeakSet,Cg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},au=new WeakSet,Rg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},M(de,au),M(de,vm,0),M(de,Qo,!1),M(de,Zo),Ei&&(T(de,Qo,!0),Ra.workerSrc||(Ra.workerSrc="./pdf.worker.mjs")),de._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},de._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Pc=de;var fa,En,ru,ou,Tn,Jo,ed;class RF{constructor(t,e,s,r,l){M(this,Jo);M(this,fa,new Map);M(this,En,new Map);M(this,ru,new Map);M(this,ou,new Map);M(this,Tn,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new fR,this.fontLoader=new T3({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ut(this,"annotationStorage",new VA)}getRenderingIntent(t,e=ur.ENABLE,s=null,r=!1,l=!1){let c=os.DISPLAY,h=ab;switch(t){case"any":c=os.ANY;break;case"display":break;case"print":c=os.PRINT;break;default:Ft(`getRenderingIntent - invalid intent: ${t}`)}const f=c&os.PRINT&&s instanceof GC?s:this.annotationStorage;switch(e){case ur.DISABLE:c+=os.ANNOTATIONS_DISABLE;break;case ur.ENABLE:break;case ur.ENABLE_FORMS:c+=os.ANNOTATIONS_FORMS;break;case ur.ENABLE_STORAGE:c+=os.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Ft(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=os.IS_EDITING),l&&(c+=os.OPLIST);const{ids:p,hash:m}=f.modifiedIds,v=[c,h.hash,m];return{renderingIntent:c,cacheKey:v.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=d(this,Tn))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of d(this,En).values())t.push(r._destroy());d(this,En).clear(),d(this,ru).clear(),d(this,ou).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,fa).clear(),this.filterFactory.destroy(),pb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Ll("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}Ge(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}Ge(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new TF(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Hv(s.message,s.code);break;case"InvalidPDFException":r=new mC(s.message);break;case"MissingPDFException":r=new Dl(s.message);break;case"UnexpectedResponseException":r=new Dm(s.message,s.status);break;case"UnknownErrorException":r=new Bv(s.message,s.details);break;default:he("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(T(this,Tn,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?d(this,Tn).reject(l):d(this,Tn).resolve({password:l})};try{e.onPassword(r,s.code)}catch(l){d(this,Tn).reject(l)}}else d(this,Tn).reject(new Hv(s.message,s.code));return d(this,Tn).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;d(this,En).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const x=l.error;Ft(`Error during font loading: ${x}`),this.commonObjs.resolve(s,x);break}const m=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(x,E)=>globalThis.FontInspector.fontAdded(x,E):null,v=new _3(l,{disableFontFace:h,inspectFont:m});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(s,v)});break;case"CopyLocalImage":const{imageRef:b}=l;Ge(b,"The imageRef must be defined.");for(const x of d(this,En).values())for(const[,E]of x.objs)if((E==null?void 0:E.ref)===b)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,c])=>{var f;if(this.destroyed)return;const h=d(this,En).get(r);if(!h.objs.has(s)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(s,c),(c==null?void 0:c.dataLen)>t3&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=d(this,ru).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,ou).set(l.refStr,t);const c=new _F(e,l,this,this._params.pdfBug);return d(this,En).set(e,c),c});return d(this,ru).set(e,r),r}getPageIndex(t){return ST(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return _(this,Jo,ed).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Jo,ed).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Jo,ed).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return _(this,Jo,ed).call(this,"GetOptionalContentConfig").then(e=>new $3(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,fa).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new X3(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,fa).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,En).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,fa).clear(),this.filterFactory.destroy(!0),pb.cleanup()}}cachedPageNumber(t){if(!ST(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,ou).get(e)??null}}fa=new WeakMap,En=new WeakMap,ru=new WeakMap,ou=new WeakMap,Tn=new WeakMap,Jo=new WeakSet,ed=function(t,e=null){const s=d(this,fa).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return d(this,fa).set(t,r),r};const hg=Symbol("INITIAL_DATA");var Ks,rf,vb;class fR{constructor(){M(this,rf);M(this,Ks,Object.create(null))}get(t,e=null){if(e){const r=_(this,rf,vb).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=d(this,Ks)[t];if(!s||s.data===hg)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=d(this,Ks)[t];return!!e&&e.data!==hg}resolve(t,e=null){const s=_(this,rf,vb).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in d(this,Ks)){const{data:s}=d(this,Ks)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}T(this,Ks,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,Ks)){const{data:e}=d(this,Ks)[t];e!==hg&&(yield[t,e])}}}Ks=new WeakMap,rf=new WeakSet,vb=function(t){var e;return(e=d(this,Ks))[t]||(e[t]={...Promise.withResolvers(),data:hg})};var Cr;class MF{constructor(t){M(this,Cr,null);T(this,Cr,t),this.onContinue=null}get promise(){return d(this,Cr).capability.promise}cancel(t=0){d(this,Cr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Cr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Cr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Cr=new WeakMap;var Rr,tl;const Eo=class Eo{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:b=null}){M(this,Rr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,f;if(this.cancelled)return;if(this._canvas){if(d(Eo,tl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Eo,tl).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:c}=this.params;this.gfx=new Lc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),d(this,Rr)&&(window.cancelAnimationFrame(d(this,Rr)),T(this,Rr,null)),d(Eo,tl).delete(this._canvas),this.callback(t||new BA(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,Rr,window.requestAnimationFrame(()=>{T(this,Rr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Eo,tl).delete(this._canvas),this.callback())))}};Rr=new WeakMap,tl=new WeakMap,M(Eo,tl,new WeakSet);let bb=Eo;const DF="4.8.69",LF="3634dab10";function xT(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Uh(a){return Math.max(0,Math.min(255,255*a))}class wT{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Uh(t),[t,t,t]}static G_HTML([t]){const e=xT(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Uh)}static RGB_HTML(t){return`#${t.map(xT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[Uh(1-Math.min(1,t+r)),Uh(1-Math.min(1,s+r)),Uh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,l=1-e,c=1-s,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class PF{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){he("Abstract method `_createSVG` called.")}}class YA extends PF{_createSVG(t){return document.createElementNS(ea,t)}}class pR{static setupStorage(t,e,s,r,l){const c=r.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of s.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}h&&l.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var v,b;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:s});const h=l!=="richText",f=t.div;if(f.append(c),t.viewport){const x=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=x}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const x=document.createTextNode(r.value);c.append(x),h&&xd.shouldBuildText(r.name)&&p.push(x)}return{textDivs:p}}const m=[[r,-1,c]];for(;m.length>0;){const[x,E,C]=m.at(-1);if(E+1===x.children.length){m.pop();continue}const P=x.children[++m.at(-1)[1]];if(P===null)continue;const{name:D}=P;if(D==="#text"){const O=document.createTextNode(P.value);p.push(O),C.append(O);continue}const H=(v=P==null?void 0:P.attributes)!=null&&v.xmlns?document.createElementNS(P.attributes.xmlns,D):document.createElement(D);if(C.append(H),P.attributes&&this.setAttributes({html:H,element:P,storage:e,intent:l,linkService:s}),((b=P.children)==null?void 0:b.length)>0)m.push([P,-1,H]);else if(P.value){const O=document.createTextNode(P.value);h&&xd.shouldBuildText(D)&&p.push(O),H.append(O)}}for(const x of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const qf=1e3,OF=9,Tl=new WeakSet;function La(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class kF{static create(t){switch(t.data.annotationType){case je.LINK:return new gR(t);case je.TEXT:return new NF(t);case je.WIDGET:switch(t.data.fieldType){case"Tx":return new FF(t);case"Btn":return t.data.radioButton?new vR(t):t.data.checkBox?new BF(t):new IF(t);case"Ch":return new jF(t);case"Sig":return new HF(t)}return new Pl(t);case je.POPUP:return new Sb(t);case je.FREETEXT:return new wR(t);case je.LINE:return new VF(t);case je.SQUARE:return new UF(t);case je.CIRCLE:return new GF(t);case je.POLYLINE:return new ER(t);case je.CARET:return new XF(t);case je.INK:return new $A(t);case je.POLYGON:return new qF(t);case je.HIGHLIGHT:return new TR(t);case je.UNDERLINE:return new YF(t);case je.SQUIGGLY:return new $F(t);case je.STRIKEOUT:return new WF(t);case je.STAMP:return new _R(t);case je.FILEATTACHMENT:return new KF(t);default:return new De(t)}}}var el,lu,cu,of,Ab;const ZA=class ZA{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){M(this,of);M(this,el,null);M(this,lu,!1);M(this,cu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ZA._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;d(this,el)||T(this,el,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&_(this,of,Ab).call(this,e),(s=d(this,cu))==null||s.popup.updateEdited(t)}resetEdited(){var t;d(this,el)&&(_(this,of,Ab).call(this,d(this,el).rect),(t=d(this,cu))==null||t.popup.resetEdited(),T(this,el,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Pl||(l.tabIndex=qf);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof Sb){const{rotation:C}=e;return!e.hasOwnCanvas&&C!==0&&this.setRotation(C,l),l}const{width:h,height:f}=La(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const C=e.borderStyle.horizontalCornerRadius,P=e.borderStyle.verticalCornerRadius;if(C>0||P>0){const H=`calc(${C}px * var(--scale-factor)) / calc(${P}px * var(--scale-factor))`;c.borderRadius=H}else if(this instanceof vR){const H=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=H}switch(e.borderStyle.style){case zh.SOLID:c.borderStyle="solid";break;case zh.DASHED:c.borderStyle="dashed";break;case zh.BEVELED:Ft("Unimplemented border style: beveled");break;case zh.INSET:Ft("Unimplemented border style: inset");break;case zh.UNDERLINE:c.borderBottomStyle="solid";break}const D=e.borderColor||null;D?(T(this,lu,!0),c.borderColor=mt.makeHexColor(D[0]|0,D[1]|0,D[2]|0)):c.borderWidth=0}const p=mt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:v,pageX:b,pageY:x}=r.rawDims;c.left=`${100*(p[0]-b)/m}%`,c.top=`${100*(p[1]-x)/v}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(c.width=`${100*h/m}%`,c.height=`${100*f/v}%`):this.setRotation(E,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=La(this.data.rect);let h,f;t%180===0?(h=100*l/s,f=100*c/r):(h=100*c/s,f=100*l/r),e.style.width=`${h}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const l=r.detail[e],c=l[0],h=l.slice(1);r.target.style[s]=wT[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:wT[`${c}_rgb`](h)})};return Ut(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||s[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,l]of Object.entries(e)){const c=s[r];if(c){const h={detail:{[r]:l},target:t};c(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,l]=this.data.rect.map(C=>Math.fround(C));if(t.length===8){const[C,P,D,H]=t.subarray(2,6);if(r===C&&l===P&&e===D&&s===H)return}const{style:c}=this.container;let h;if(d(this,lu)){const{borderColor:C,borderWidth:P}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${P}">`],this.container.classList.add("hasBorder")}const f=r-e,p=l-s,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const b=m.createElement("defs");v.append(b);const x=m.createElement("clipPath"),E=`clippath_${this.data.id}`;x.setAttribute("id",E),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let C=2,P=t.length;C<P;C+=8){const D=t[C],H=t[C+1],O=t[C+2],A=t[C+3],S=m.createElement("rect"),R=(O-e)/f,k=(l-H)/p,F=(D-O)/f,B=(H-A)/p;S.setAttribute("x",R),S.setAttribute("y",k),S.setAttribute("width",F),S.setAttribute("height",B),x.append(S),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${k}" width="${F}" height="${B}"/>`)}d(this,lu)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=T(this,cu,new Sb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){he("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===e)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Tl.has(p)){Ft(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:f,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&Tl.has(r)&&s.push({id:c,exportValue:l,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};el=new WeakMap,lu=new WeakMap,cu=new WeakMap,of=new WeakSet,Ab=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;s==null||s.splice(0,4,...t);const{width:p,height:m}=La(t);e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+f)/c}%`,r===0?(e.width=`${100*p/l}%`,e.height=`${100*m/c}%`):this.setRotation(r)};let De=ZA;var ls,bo,mR,yR;class gR extends De{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});M(this,ls);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(_(this,ls,mR).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(_(this,ls,yR).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&_(this,ls,bo).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),_(this,ls,bo).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(s.actions)){const c=r.get(l);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),_(this,ls,bo).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),_(this,ls,bo).call(this),!this._fieldObjects){Ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var v;r==null||r();const{fields:l,refs:c,include:h}=s,f=[];if(l.length!==0||c.length!==0){const b=new Set(c);for(const x of l){const E=this._fieldObjects[x]||[];for(const{id:C}of E)b.add(C)}for(const x of Object.values(this._fieldObjects))for(const E of x)b.has(E.id)===h&&f.push(E)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const p=this.annotationStorage,m=[];for(const b of f){const{id:x}=b;switch(m.push(x),b.type){case"text":{const C=b.defaultValue||"";p.setValue(x,{value:C});break}case"checkbox":case"radiobutton":{const C=b.defaultValue===b.exportValues;p.setValue(x,{value:C});break}case"combobox":case"listbox":{const C=b.defaultValue||"";p.setValue(x,{value:C});break}default:continue}const E=document.querySelector(`[data-element-id="${x}"]`);if(E){if(!Tl.has(E)){Ft(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}ls=new WeakSet,bo=function(){this.container.setAttribute("data-internal-link","")},mR=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(s.content,s.filename,r),!1},_(this,ls,bo).call(this)},yR=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),_(this,ls,bo).call(this)};class NF extends De{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Pl extends De{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Pi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,l){s.includes("mouse")?t.addEventListener(s,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var h;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(t,e,s,r){var l,c,h;for(const[f,p]of s)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":mt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||OF,l=t.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),m=Math.round(p/(fv*r))||1,v=p/m;c=Math.min(r,f(v/fv))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(p/fv))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=mt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class FF extends Pl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),l.setValue(c.id,{[r]:s})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??h,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??h),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Tl.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=qf,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",b=>{const x=this.data.defaultFieldValue??"";s.value=m.userValue=x,m.formattedValue=null});let v=b=>{const{formattedValue:x}=m;x!=null&&(b.target.value=x),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",x=>{var C;if(m.focused)return;const{target:E}=x;m.userValue&&(E.value=m.userValue),m.lastCommittedValue=E.value,m.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const E={value(C){m.userValue=C.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),C.target.value=m.userValue},formattedValue(C){const{formattedValue:P}=C.detail;m.formattedValue=P,P!=null&&C.target!==document.activeElement&&(C.target.value=P),t.setValue(e,{formattedValue:P})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var O;const{charLimit:P}=C.detail,{target:D}=C;if(P===0){D.removeAttribute("maxLength");return}D.setAttribute("maxLength",P);let H=m.userValue;!H||H.length<=P||(H=H.slice(0,P),D.value=m.userValue=H,t.setValue(e,{value:H}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:H,willCommit:!0,commitKey:1,selStart:D.selectionStart,selEnd:D.selectionEnd}}))}};this._dispatchEventFromSandbox(E,x)}),s.addEventListener("keydown",x=>{var P;m.commitKey=1;let E=-1;if(x.key==="Escape"?E=0:x.key==="Enter"&&!this.data.multiLine?E=2:x.key==="Tab"&&(m.commitKey=3),E===-1)return;const{value:C}=x.target;m.lastCommittedValue!==C&&(m.lastCommittedValue=C,m.userValue=C,(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:E,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const b=v;v=null,s.addEventListener("blur",x=>{var C,P;if(!m.focused||!x.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(m.focused=!1);const{value:E}=x.target;m.userValue=E,m.lastCommittedValue!==E&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:m.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),b(x)}),(l=this.data.actions)!=null&&l.Keystroke&&s.addEventListener("beforeinput",x=>{var S;m.lastCommittedValue=null;const{data:E,target:C}=x,{value:P,selectionStart:D,selectionEnd:H}=C;let O=D,A=H;switch(x.inputType){case"deleteWordBackward":{const R=P.substring(0,D).match(/\w*[^\w]*$/);R&&(O-=R[0].length);break}case"deleteWordForward":{const R=P.substring(D).match(/^[^\w]*\w*/);R&&(A+=R[0].length);break}case"deleteContentBackward":D===H&&(O-=1);break;case"deleteContentForward":D===H&&(A+=1);break}x.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,change:E||"",willCommit:!1,selStart:O,selEnd:A}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(v&&s.addEventListener("blur",v),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${x}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class HF extends Pl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class BF extends Pl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Tl.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=qf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,s)){const m=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class vR extends Pl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(Tl.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=qf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const m=c===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const b=m&&v.id===s;v.domElement&&(v.domElement.checked=b),t.setValue(v.id,{value:b})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class IF extends gR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class jF extends Pl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Tl.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=qf;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,s.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),l=!1),r.append(v)}let c=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=m=>{const v=m?"value":"textContent",{options:b,multiple:x}=r;return x?Array.prototype.filter.call(b,E=>E.selected).map(E=>E[v]):b.selectedIndex===-1?null:b[b.selectedIndex][v]};let f=h(!1);const p=m=>{const v=m.target.options;return Array.prototype.map.call(v,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const v={value(b){c==null||c();const x=b.detail.value,E=new Set(Array.isArray(x)?x:[x]);for(const C of r.options)C.selected=E.has(C.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(b){r.multiple=!0},remove(b){const x=r.options,E=b.detail.remove;x[E].selected=!1,r.remove(E),x.length>0&&Array.prototype.findIndex.call(x,P=>P.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),f=h(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(b){const{index:x,displayValue:E,exportValue:C}=b.detail.insert,P=r.children[x],D=document.createElement("option");D.textContent=E,D.value=C,P?P.before(D):r.append(D),t.setValue(e,{value:h(!0),items:p(b)}),f=h(!1)},items(b){const{items:x}=b.detail;for(;r.length!==0;)r.remove(0);for(const E of x){const{displayValue:C,exportValue:P}=E,D=document.createElement("option");D.textContent=C,D.value=P,r.append(D)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),f=h(!1)},indices(b){const x=new Set(b.detail.indices);for(const E of b.target.options)E.selected=x.has(E.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(v,m)}),r.addEventListener("input",m=>{var x;const v=h(!0),b=h(!1);t.setValue(e,{value:v}),m.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Sb extends De{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:De._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new zF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${HA}${s}`).join(",")),this.container}}var uu,bm,Am,hu,il,we,pa,du,lf,cf,fu,ga,Qs,ma,uf,ya,hf,sl,nl,ie,Mg,xb,bR,AR,SR,xR,Dg,Lg,wb;class zF{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:p,parentRect:m,open:v}){M(this,ie);M(this,uu,_(this,ie,SR).bind(this));M(this,bm,_(this,ie,wb).bind(this));M(this,Am,_(this,ie,Lg).bind(this));M(this,hu,_(this,ie,Dg).bind(this));M(this,il,null);M(this,we,null);M(this,pa,null);M(this,du,null);M(this,lf,null);M(this,cf,null);M(this,fu,null);M(this,ga,!1);M(this,Qs,null);M(this,ma,null);M(this,uf,null);M(this,ya,null);M(this,hf,null);M(this,sl,null);M(this,nl,!1);var b;T(this,we,t),T(this,hf,r),T(this,pa,c),T(this,ya,h),T(this,cf,f),T(this,il,e),T(this,uf,p),T(this,fu,m),T(this,lf,s),T(this,du,jA.toDateObject(l)),this.trigger=s.flatMap(x=>x.getElementsToTriggerPopup());for(const x of this.trigger)x.addEventListener("click",d(this,hu)),x.addEventListener("mouseenter",d(this,Am)),x.addEventListener("mouseleave",d(this,bm)),x.classList.add("popupTriggerArea");for(const x of s)(b=x.container)==null||b.addEventListener("keydown",d(this,uu));d(this,we).hidden=!0,v&&_(this,ie,Dg).call(this)}render(){if(d(this,Qs))return;const t=T(this,Qs,document.createElement("div"));if(t.className="popup",d(this,il)){const l=t.style.outlineColor=mt.makeHexColor(...d(this,il));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=mt.makeHexColor(...d(this,il).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=d(this,hf),t.append(e),d(this,du)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,du).valueOf()})),e.append(l)}const r=d(this,ie,Mg);if(r)pR.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,pa));t.append(l)}d(this,we).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];s.append(document.createTextNode(h)),l<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;d(this,sl)||T(this,sl,{contentsObj:d(this,pa),richText:d(this,ya)}),t&&T(this,ma,null),e&&(T(this,ya,_(this,ie,AR).call(this,e)),T(this,pa,null)),(s=d(this,Qs))==null||s.remove(),T(this,Qs,null)}resetEdited(){var t;d(this,sl)&&({contentsObj:Ci(this,pa)._,richText:Ci(this,ya)._}=d(this,sl),T(this,sl,null),(t=d(this,Qs))==null||t.remove(),T(this,Qs,null),T(this,ma,null))}forceHide(){T(this,nl,this.isVisible),d(this,nl)&&(d(this,we).hidden=!0)}maybeShow(){d(this,nl)&&(d(this,Qs)||_(this,ie,Lg).call(this),T(this,nl,!1),d(this,we).hidden=!1)}get isVisible(){return d(this,we).hidden===!1}}uu=new WeakMap,bm=new WeakMap,Am=new WeakMap,hu=new WeakMap,il=new WeakMap,we=new WeakMap,pa=new WeakMap,du=new WeakMap,lf=new WeakMap,cf=new WeakMap,fu=new WeakMap,ga=new WeakMap,Qs=new WeakMap,ma=new WeakMap,uf=new WeakMap,ya=new WeakMap,hf=new WeakMap,sl=new WeakMap,nl=new WeakMap,ie=new WeakSet,Mg=function(){const t=d(this,ya),e=d(this,pa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,ya).html||null},xb=function(){var t,e,s;return((s=(e=(t=d(this,ie,Mg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},bR=function(){var t,e,s;return((s=(e=(t=d(this,ie,Mg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},AR=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:d(this,ie,bR),fontSize:d(this,ie,xb)?`calc(${d(this,ie,xb)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return s},SR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,ga))&&_(this,ie,Dg).call(this)},xR=function(){if(d(this,ma)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:l}}}=d(this,cf);let c=!!d(this,fu),h=c?d(this,fu):d(this,uf);for(const E of d(this,lf))if(!h||mt.intersect(E.data.rect,h)!==null){h=E.data.rect,c=!0;break}const f=mt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),m=c?h[2]-h[0]+5:0,v=f[0]+m,b=f[1];T(this,ma,[100*(v-r)/e,100*(b-l)/s]);const{style:x}=d(this,we);x.left=`${d(this,ma)[0]}%`,x.top=`${d(this,ma)[1]}%`},Dg=function(){T(this,ga,!d(this,ga)),d(this,ga)?(_(this,ie,Lg).call(this),d(this,we).addEventListener("click",d(this,hu)),d(this,we).addEventListener("keydown",d(this,uu))):(_(this,ie,wb).call(this),d(this,we).removeEventListener("click",d(this,hu)),d(this,we).removeEventListener("keydown",d(this,uu)))},Lg=function(){d(this,Qs)||this.render(),this.isVisible?d(this,ga)&&d(this,we).classList.add("focused"):(_(this,ie,xR).call(this),d(this,we).hidden=!1,d(this,we).style.zIndex=parseInt(d(this,we).style.zIndex)+1e3)},wb=function(){d(this,we).classList.remove("focused"),!(d(this,ga)||!this.isVisible)&&(d(this,we).hidden=!0,d(this,we).style.zIndex=parseInt(d(this,we).style.zIndex)-1e3)};class wR extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ot.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var df;class VF extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,df,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=La(e.rect),l=this.svgFactory.create(s,r,!0),c=T(this,df,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,df)}addHighlightArea(){this.container.classList.add("highlightArea")}}df=new WeakMap;var ff;class UF extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,ff,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=La(e.rect),l=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,h=T(this,ff,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",s-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap;var pf;class GF extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,pf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=La(e.rect),l=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,h=T(this,pf,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",s/2),h.setAttribute("cy",r/2),h.setAttribute("rx",s/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}pf=new WeakMap;var gf;class ER extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,gf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:l}}=this;if(!s)return this.container;const{width:c,height:h}=La(e),f=this.svgFactory.create(c,h,!0);let p=[];for(let v=0,b=s.length;v<b;v+=2){const x=s[v]-e[0],E=e[3]-s[v+1];p.push(`${x},${E}`)}p=p.join(" ");const m=T(this,gf,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,gf)}addHighlightArea(){this.container.classList.add("highlightArea")}}gf=new WeakMap;class qF extends ER{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class XF extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mf;class $A extends De{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});M(this,mf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ot.HIGHLIGHT:Ot.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:l}}=this,{width:c,height:h}=La(e),f=this.svgFactory.create(c,h,!0);for(const p of s){let m=[];for(let b=0,x=p.length;b<x;b+=2){const E=p[b]-e[0],C=e[3]-p[b+1];m.push(`${E},${C}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);d(this,mf).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap;class TR extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ot.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class YF extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $F extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class WF extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _R extends De{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ot.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var yf,vf,Eb;class KF extends De{constructor(e){var r;super(e,{isRenderable:!0});M(this,vf);M(this,yf,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,vf,Eb).bind(this)),T(this,yf,r);const{isMac:l}=Pi.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&_(this,vf,Eb).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return d(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap,vf=new WeakSet,Eb=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var bf,al,rl,Af,Cl,CR,Tb,BT;let QF=(BT=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){M(this,Cl);M(this,bf,null);M(this,al,null);M(this,rl,new Map);M(this,Af,null);this.div=t,T(this,bf,e),T(this,al,s),T(this,Af,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,rl).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;wl(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new YA,annotationStorage:t.annotationStorage||new VA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===je.POPUP;if(f){const v=r.get(h.id);if(!v)continue;l.elements=v}else{const{width:v,height:b}=La(h.rect);if(v<=0||b<=0)continue}l.data=h;const p=kF.create(l);if(!p.isRenderable)continue;if(!f&&h.popupRef){const v=r.get(h.popupRef);v?v.push(p):r.set(h.popupRef,[p])}const m=p.render();h.hidden&&(m.style.visibility="hidden"),await _(this,Cl,CR).call(this,m,h.id),p._isEditable&&(d(this,rl).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}_(this,Cl,Tb).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,wl(e,{rotation:t.rotation}),_(this,Cl,Tb).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,rl).values())}getEditableAnnotation(t){return d(this,rl).get(t)}},bf=new WeakMap,al=new WeakMap,rl=new WeakMap,Af=new WeakMap,Cl=new WeakSet,CR=async function(t,e){var c,h;const s=t.firstChild||t,r=s.id=`${HA}${e}`,l=await((c=d(this,Af))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,p]of l)s.setAttribute(f,p);this.div.append(t),(h=d(this,bf))==null||h.moveElementInDOM(this.div,t,s,!1)},Tb=function(){if(!d(this,al))return;const t=this.div;for(const[e,s]of d(this,al)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}d(this,al).clear()},BT);const dg=/\r\n?|\n/g;var Zs,es,Sf,ol,is,He,RR,MR,DR,Pg,Oa,Og,kg,LR,Cb,PR;const oe=class oe extends Zt{constructor(e){super({...e,name:"freeTextEditor"});M(this,He);M(this,Zs);M(this,es,"");M(this,Sf,`${this.id}-editor`);M(this,ol,null);M(this,is);T(this,Zs,e.color||oe._defaultColor||Zt._defaultLineColor),T(this,is,e.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const e=oe.prototype,s=c=>c.isEmpty(),r=El.TRANSLATE_SMALL,l=El.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new Gf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:s}]]))}static initialize(e,s){Zt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Ct.FREETEXT_SIZE:oe._defaultFontSize=s;break;case Ct.FREETEXT_COLOR:oe._defaultColor=s;break}}updateParams(e,s){switch(e){case Ct.FREETEXT_SIZE:_(this,He,RR).call(this,s);break;case Ct.FREETEXT_COLOR:_(this,He,MR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ct.FREETEXT_SIZE,oe._defaultFontSize],[Ct.FREETEXT_COLOR,oe._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[Ct.FREETEXT_SIZE,d(this,is)],[Ct.FREETEXT_COLOR,d(this,Zs)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-oe._internalPadding*e,-(oe._internalPadding+d(this,is))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ot.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,ol,new AbortController);const e=this._uiManager.combinedSignal(d(this,ol));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Sf)),this._isDraggable=!0,(e=d(this,ol))==null||e.abort(),T(this,ol,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,es),s=T(this,es,_(this,He,DR).call(this).trimEnd());if(e===s)return;const r=l=>{if(T(this,es,l),!l){this.remove();return}_(this,He,kg).call(this),this._uiManager.rebuild(this),_(this,He,Pg).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),_(this,He,Pg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){oe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Sf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,is)}px * var(--scale-factor))`,r.color=d(this,Zs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Jg(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[m,v]=this.pageDimensions,[b,x]=this.pageTranslation;let E,C;switch(this.rotation){case 0:E=e+(h[0]-b)/m,C=s+this.height-(h[1]-x)/v;break;case 90:E=e+(h[0]-b)/m,C=s-(h[1]-x)/v,[f,p]=[p,-f];break;case 180:E=e-this.width+(h[0]-b)/m,C=s-(h[1]-x)/v,[f,p]=[-f,-p];break;case 270:E=e+(h[0]-b-this.height*v)/m,C=s+(h[1]-x-this.width*m)/v,[f,p]=[-p,f];break}this.setAt(E*l,C*c,f,p)}else this.setAt(e*l,s*c,this.width*l,this.height*c);_(this,He,kg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,C,P;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=_(E=oe,Oa,Cb).call(E,s.getData("text")||"").replaceAll(dg,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,m=[],v=[];if(f.nodeType===Node.TEXT_NODE){const D=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(dg,"")),D!==this.editorDiv){let H=m;for(const O of this.editorDiv.childNodes){if(O===D){H=v;continue}H.push(_(C=oe,Oa,Og).call(C,O))}}m.push(f.nodeValue.slice(0,p).replaceAll(dg,""))}else if(f===this.editorDiv){let D=m,H=0;for(const O of this.editorDiv.childNodes)H++===p&&(D=v),D.push(_(P=oe,Oa,Og).call(P,O))}T(this,es,`${m.join(`
`)}${l}${v.join(`
`)}`),_(this,He,kg).call(this);const b=new Range;let x=m.reduce((D,H)=>D+H.length,0);for(const{firstChild:D}of this.editorDiv.childNodes)if(D.nodeType===Node.TEXT_NODE){const H=D.nodeValue.length;if(x<=H){b.setStart(D,x),b.setEnd(D,x);break}x-=H}c.removeAllRanges(),c.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var h;let l=null;if(e instanceof wR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:m,rotation:v,id:b,popupRef:x},textContent:E,textPosition:C,parent:{page:{pageNumber:P}}}=e;if(!E||E.length===0)return null;l=e={annotationType:Ot.FREETEXT,color:Array.from(p),fontSize:f,value:E.join(`
`),position:C,pageIndex:P-1,rect:m.slice(0),rotation:v,id:b,deleted:!1,popupRef:x}}const c=await super.deserialize(e,s,r);return T(c,is,e.fontSize),T(c,Zs,mt.makeHexColor(...e.color)),T(c,es,_(h=oe,Oa,Cb).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=oe._internalPadding*this.parentScale,r=this.getRect(s,s),l=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Zs)),c={annotationType:Ot.FREETEXT,color:l,fontSize:d(this,is),value:_(this,He,LR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!_(this,He,PR).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${d(this,is)}px * var(--scale-factor))`,r.color=d(this,Zs),s.replaceChildren();for(const c of d(this,es).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),s.append(h)}const l=oe._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,es)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Zs=new WeakMap,es=new WeakMap,Sf=new WeakMap,ol=new WeakMap,is=new WeakMap,He=new WeakSet,RR=function(e){const s=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-d(this,is))*this.parentScale),T(this,is,l),_(this,He,Pg).call(this)},r=d(this,is);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},MR=function(e){const s=l=>{T(this,Zs,this.editorDiv.style.color=l)},r=d(this,Zs);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},DR=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const l of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(_(r=oe,Oa,Og).call(r,l)),s=l);return e.join(`
`)},Pg=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},Oa=new WeakSet,Og=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(dg,"")},kg=function(){if(this.editorDiv.replaceChildren(),!!d(this,es))for(const e of d(this,es).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},LR=function(){return d(this,es).replaceAll(" "," ")},Cb=function(e){return e.replaceAll(" "," ")},PR=function(e){const{value:s,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((h,f)=>h!==l[f])||e.pageIndex!==c},M(oe,Oa),_t(oe,"_freeTextDefaultContent",""),_t(oe,"_internalPadding",0),_t(oe,"_defaultColor",null),_t(oe,"_defaultFontSize",10),_t(oe,"_type","freetext"),_t(oe,"_editorType",Ot.FREETEXT);let _b=oe;class OR{toSVGPath(){he("Abstract method `toSVGPath` must be implemented.")}get box(){he("Abstract getter `box` must be implemented.")}serialize(t,e){he("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){he("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){he("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ss,Js,pu,gu,_n,Bt,ll,cl,xf,wf,mu,yu,Mr,Ef,Sm,xm,qe,id,kR,NR,FR,HR,BR,IR;const sa=class sa{constructor({x:t,y:e},s,r,l,c,h=0){M(this,qe);M(this,ss);M(this,Js,[]);M(this,pu);M(this,gu);M(this,_n,[]);M(this,Bt,new Float64Array(18));M(this,ll);M(this,cl);M(this,xf);M(this,wf);M(this,mu);M(this,yu);M(this,Mr,[]);T(this,ss,s),T(this,yu,l*r),T(this,gu,c),d(this,Bt).set([NaN,NaN,NaN,NaN,t,e],6),T(this,pu,h),T(this,wf,d(sa,Ef)*r),T(this,xf,d(sa,xm)*r),T(this,mu,r),d(this,Mr).push(t,e)}isEmpty(){return isNaN(d(this,Bt)[8])}add({x:t,y:e}){var B;T(this,ll,t),T(this,cl,e);const[s,r,l,c]=d(this,ss);let[h,f,p,m]=d(this,Bt).subarray(8,12);const v=t-p,b=e-m,x=Math.hypot(v,b);if(x<d(this,xf))return!1;const E=x-d(this,wf),C=E/x,P=C*v,D=C*b;let H=h,O=f;h=p,f=m,p+=P,m+=D,(B=d(this,Mr))==null||B.push(t,e);const A=-D/E,S=P/E,R=A*d(this,yu),k=S*d(this,yu);return d(this,Bt).set(d(this,Bt).subarray(2,8),0),d(this,Bt).set([p+R,m+k],4),d(this,Bt).set(d(this,Bt).subarray(14,18),12),d(this,Bt).set([p-R,m-k],16),isNaN(d(this,Bt)[6])?(d(this,_n).length===0&&(d(this,Bt).set([h+R,f+k],2),d(this,_n).push(NaN,NaN,NaN,NaN,(h+R-s)/l,(f+k-r)/c),d(this,Bt).set([h-R,f-k],14),d(this,Js).push(NaN,NaN,NaN,NaN,(h-R-s)/l,(f-k-r)/c)),d(this,Bt).set([H,O,h,f,p,m],6),!this.isEmpty()):(d(this,Bt).set([H,O,h,f,p,m],6),Math.abs(Math.atan2(O-f,H-h)-Math.atan2(D,P))<Math.PI/2?([h,f,p,m]=d(this,Bt).subarray(2,6),d(this,_n).push(NaN,NaN,NaN,NaN,((h+p)/2-s)/l,((f+m)/2-r)/c),[h,f,H,O]=d(this,Bt).subarray(14,18),d(this,Js).push(NaN,NaN,NaN,NaN,((H+h)/2-s)/l,((O+f)/2-r)/c),!0):([H,O,h,f,p,m]=d(this,Bt).subarray(0,6),d(this,_n).push(((H+5*h)/6-s)/l,((O+5*f)/6-r)/c,((5*h+p)/6-s)/l,((5*f+m)/6-r)/c,((h+p)/2-s)/l,((f+m)/2-r)/c),[p,m,h,f,H,O]=d(this,Bt).subarray(12,18),d(this,Js).push(((H+5*h)/6-s)/l,((O+5*f)/6-r)/c,((5*h+p)/6-s)/l,((5*f+m)/6-r)/c,((h+p)/2-s)/l,((f+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,_n),e=d(this,Js);if(isNaN(d(this,Bt)[6])&&!this.isEmpty())return _(this,qe,kR).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);_(this,qe,FR).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return _(this,qe,NR).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,l,c){return new jR(t,e,s,r,l,c)}getOutlines(){var v;const t=d(this,_n),e=d(this,Js),s=d(this,Bt),[r,l,c,h]=d(this,ss),f=new Float64Array((((v=d(this,Mr))==null?void 0:v.length)??0)+2);for(let b=0,x=f.length-2;b<x;b+=2)f[b]=(d(this,Mr)[b]-r)/c,f[b+1]=(d(this,Mr)[b+1]-l)/h;if(f[f.length-2]=(d(this,ll)-r)/c,f[f.length-1]=(d(this,cl)-l)/h,isNaN(s[6])&&!this.isEmpty())return _(this,qe,HR).call(this,f);const p=new Float64Array(d(this,_n).length+24+d(this,Js).length);let m=t.length;for(let b=0;b<m;b+=2){if(isNaN(t[b])){p[b]=p[b+1]=NaN;continue}p[b]=t[b],p[b+1]=t[b+1]}m=_(this,qe,IR).call(this,p,m);for(let b=e.length-6;b>=6;b-=6)for(let x=0;x<6;x+=2){if(isNaN(e[b+x])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[b+x],p[m+1]=e[b+x+1],m+=2}return _(this,qe,BR).call(this,p,m),this.newFreeDrawOutline(p,f,d(this,ss),d(this,mu),d(this,pu),d(this,gu))}};ss=new WeakMap,Js=new WeakMap,pu=new WeakMap,gu=new WeakMap,_n=new WeakMap,Bt=new WeakMap,ll=new WeakMap,cl=new WeakMap,xf=new WeakMap,wf=new WeakMap,mu=new WeakMap,yu=new WeakMap,Mr=new WeakMap,Ef=new WeakMap,Sm=new WeakMap,xm=new WeakMap,qe=new WeakSet,id=function(){const t=d(this,Bt).subarray(4,6),e=d(this,Bt).subarray(16,18),[s,r,l,c]=d(this,ss);return[(d(this,ll)+(t[0]-e[0])/2-s)/l,(d(this,cl)+(t[1]-e[1])/2-r)/c,(d(this,ll)+(e[0]-t[0])/2-s)/l,(d(this,cl)+(e[1]-t[1])/2-r)/c]},kR=function(){const[t,e,s,r]=d(this,ss),[l,c,h,f]=_(this,qe,id).call(this);return`M${(d(this,Bt)[2]-t)/s} ${(d(this,Bt)[3]-e)/r} L${(d(this,Bt)[4]-t)/s} ${(d(this,Bt)[5]-e)/r} L${l} ${c} L${h} ${f} L${(d(this,Bt)[16]-t)/s} ${(d(this,Bt)[17]-e)/r} L${(d(this,Bt)[14]-t)/s} ${(d(this,Bt)[15]-e)/r} Z`},NR=function(t){const e=d(this,Js);t.push(`L${e[4]} ${e[5]} Z`)},FR=function(t){const[e,s,r,l]=d(this,ss),c=d(this,Bt).subarray(4,6),h=d(this,Bt).subarray(16,18),[f,p,m,v]=_(this,qe,id).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-s)/l} L${f} ${p} L${m} ${v} L${(h[0]-e)/r} ${(h[1]-s)/l}`)},HR=function(t){const e=d(this,Bt),[s,r,l,c]=d(this,ss),[h,f,p,m]=_(this,qe,id).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(v,t,d(this,ss),d(this,mu),d(this,pu),d(this,gu))},BR=function(t,e){const s=d(this,Js);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},IR=function(t,e){const s=d(this,Bt).subarray(4,6),r=d(this,Bt).subarray(16,18),[l,c,h,f]=d(this,ss),[p,m,v,b]=_(this,qe,id).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/h,(s[1]-c)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,v,b,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/f],e),e+=24},M(sa,Ef,8),M(sa,Sm,2),M(sa,xm,d(sa,Ef)+d(sa,Sm));let em=sa;var vu,ul,va,Tf,ns,_f,Re,Gi,sd,nd,zR;class jR extends OR{constructor(e,s,r,l,c,h){super();M(this,Gi);M(this,vu);M(this,ul,null);M(this,va);M(this,Tf);M(this,ns);M(this,_f);M(this,Re);T(this,Re,e),T(this,ns,s),T(this,vu,r),T(this,_f,l),T(this,va,c),T(this,Tf,h),_(this,Gi,zR).call(this,h);const{x:f,y:p,width:m,height:v}=d(this,ul);for(let b=0,x=e.length;b<x;b+=2)e[b]=(e[b]-f)/m,e[b+1]=(e[b+1]-p)/v;for(let b=0,x=s.length;b<x;b+=2)s[b]=(s[b]-f)/m,s[b+1]=(s[b+1]-p)/v}toSVGPath(){const e=[`M${d(this,Re)[4]} ${d(this,Re)[5]}`];for(let s=6,r=d(this,Re).length;s<r;s+=6){if(isNaN(d(this,Re)[s])){e.push(`L${d(this,Re)[s+4]} ${d(this,Re)[s+5]}`);continue}e.push(`C${d(this,Re)[s]} ${d(this,Re)[s+1]} ${d(this,Re)[s+2]} ${d(this,Re)[s+3]} ${d(this,Re)[s+4]} ${d(this,Re)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,l],c){const h=r-e,f=l-s;let p,m;switch(c){case 0:p=_(this,Gi,sd).call(this,d(this,Re),e,l,h,-f),m=_(this,Gi,sd).call(this,d(this,ns),e,l,h,-f);break;case 90:p=_(this,Gi,nd).call(this,d(this,Re),e,s,h,f),m=_(this,Gi,nd).call(this,d(this,ns),e,s,h,f);break;case 180:p=_(this,Gi,sd).call(this,d(this,Re),r,s,-h,f),m=_(this,Gi,sd).call(this,d(this,ns),r,s,-h,f);break;case 270:p=_(this,Gi,nd).call(this,d(this,Re),r,l,-h,-f),m=_(this,Gi,nd).call(this,d(this,ns),r,l,-h,-f);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return d(this,ul)}newOutliner(e,s,r,l,c,h=0){return new em(e,s,r,l,c,h)}getNewOutline(e,s){const{x:r,y:l,width:c,height:h}=d(this,ul),[f,p,m,v]=d(this,vu),b=c*m,x=h*v,E=r*m+f,C=l*v+p,P=this.newOutliner({x:d(this,ns)[0]*b+E,y:d(this,ns)[1]*x+C},d(this,vu),d(this,_f),e,d(this,Tf),s??d(this,va));for(let D=2;D<d(this,ns).length;D+=2)P.add({x:d(this,ns)[D]*b+E,y:d(this,ns)[D+1]*x+C});return P.getOutlines()}get mustRemoveSelfIntersections(){return!0}}vu=new WeakMap,ul=new WeakMap,va=new WeakMap,Tf=new WeakMap,ns=new WeakMap,_f=new WeakMap,Re=new WeakMap,Gi=new WeakSet,sd=function(e,s,r,l,c){const h=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)h[f]=s+e[f]*l,h[f+1]=r+e[f+1]*c;return h},nd=function(e,s,r,l,c){const h=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)h[f]=s+e[f+1]*l,h[f+1]=r+e[f]*c;return h},zR=function(e){const s=d(this,Re);let r=s[4],l=s[5],c=r,h=l,f=r,p=l,m=r,v=l;const b=e?Math.max:Math.min;for(let D=6,H=s.length;D<H;D+=6){if(isNaN(s[D]))c=Math.min(c,s[D+4]),h=Math.min(h,s[D+5]),f=Math.max(f,s[D+4]),p=Math.max(p,s[D+5]),v<s[D+5]?(m=s[D+4],v=s[D+5]):v===s[D+5]&&(m=b(m,s[D+4]));else{const O=mt.bezierBoundingBox(r,l,...s.slice(D,D+6));c=Math.min(c,O[0]),h=Math.min(h,O[1]),f=Math.max(f,O[2]),p=Math.max(p,O[3]),v<O[3]?(m=O[2],v=O[3]):v===O[3]&&(m=b(m,O[2]))}r=s[D+4],l=s[D+5]}const x=c-d(this,va),E=h-d(this,va),C=f-c+2*d(this,va),P=p-h+2*d(this,va);T(this,ul,{x,y:E,width:C,height:P,lastPoint:[m,v]})};var Cf,Dr,tn,ki,VR,Ng,UR,GR,Rb;class ET{constructor(t,e=0,s=0,r=!0){M(this,ki);M(this,Cf);M(this,Dr,[]);M(this,tn,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:P,y:D,width:H,height:O}of t){const A=Math.floor((P-e)/p)*p,S=Math.ceil((P+H+e)/p)*p,R=Math.floor((D-e)/p)*p,k=Math.ceil((D+O+e)/p)*p,F=[A,R,k,!0],B=[S,R,k,!1];d(this,Dr).push(F,B),l=Math.min(l,A),c=Math.max(c,S),h=Math.min(h,R),f=Math.max(f,k)}const m=c-l+2*s,v=f-h+2*s,b=l-s,x=h-s,E=d(this,Dr).at(r?-1:-2),C=[E[0],E[2]];for(const P of d(this,Dr)){const[D,H,O]=P;P[0]=(D-b)/m,P[1]=(H-x)/v,P[2]=(O-x)/v}T(this,Cf,{x:b,y:x,width:m,height:v,lastPoint:C})}getOutlines(){d(this,Dr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of d(this,Dr))e[3]?(t.push(..._(this,ki,Rb).call(this,e)),_(this,ki,UR).call(this,e)):(_(this,ki,GR).call(this,e),t.push(..._(this,ki,Rb).call(this,e)));return _(this,ki,VR).call(this,t)}}Cf=new WeakMap,Dr=new WeakMap,tn=new WeakMap,ki=new WeakSet,VR=function(t){const e=[],s=new Set;for(const c of t){const[h,f,p]=c;e.push([h,f,c],[h,p,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const f=e[c][2],p=e[c+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const r=[];let l;for(;s.size>0;){const c=s.values().next().value;let[h,f,p,m,v]=c;s.delete(c);let b=h,x=f;for(l=[h,p],r.push(l);;){let E;if(s.has(m))E=m;else if(s.has(v))E=v;else break;s.delete(E),[h,f,p,m,v]=E,b!==h&&(l.push(b,x,h,x===f?f:p),b=h),x=x===f?p:f}l.push(b,x)}return new ZF(r,d(this,Cf))},Ng=function(t){const e=d(this,tn);let s=0,r=e.length-1;for(;s<=r;){const l=s+r>>1,c=e[l][0];if(c===t)return l;c<t?s=l+1:r=l-1}return r+1},UR=function([,t,e]){const s=_(this,ki,Ng).call(this,t);d(this,tn).splice(s,0,[t,e])},GR=function([,t,e]){const s=_(this,ki,Ng).call(this,t);for(let r=s;r<d(this,tn).length;r++){const[l,c]=d(this,tn)[r];if(l!==t)break;if(l===t&&c===e){d(this,tn).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,c]=d(this,tn)[r];if(l!==t)break;if(l===t&&c===e){d(this,tn).splice(r,1);return}}},Rb=function(t){const[e,s,r]=t,l=[[e,s,r]],c=_(this,ki,Ng).call(this,r);for(let h=0;h<c;h++){const[f,p]=d(this,tn)[h];for(let m=0,v=l.length;m<v;m++){const[,b,x]=l[m];if(!(p<=b||x<=f)){if(b>=f){if(x>p)l[m][1]=p;else{if(v===1)return[];l.splice(m,1),m--,v--}continue}l[m][2]=f,x>p&&l.push([e,p,x])}}}return l};var Rf,bu;class ZF extends OR{constructor(e,s){super();M(this,Rf);M(this,bu);T(this,bu,e),T(this,Rf,s)}toSVGPath(){const e=[];for(const s of d(this,bu)){let[r,l]=s;e.push(`M${r} ${l}`);for(let c=2;c<s.length;c+=2){const h=s[c],f=s[c+1];h===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${h}`),r=h)}e.push("Z")}return e.join(" ")}serialize([e,s,r,l],c){const h=[],f=r-e,p=l-s;for(const m of d(this,bu)){const v=new Array(m.length);for(let b=0;b<m.length;b+=2)v[b]=e+m[b]*f,v[b+1]=l-m[b+1]*p;h.push(v)}return h}get box(){return d(this,Rf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Rf=new WeakMap,bu=new WeakMap;class Mb extends em{newFreeDrawOutline(t,e,s,r,l,c){return new JF(t,e,s,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class JF extends jR{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,l,c=0){return new Mb(t,e,s,r,l,c)}}var en,hl,Au,Ve,Mf,Su,Df,Lf,Lr,sn,xu,Pf,ee,Db,Lb,Pb,Ao,qR,cr;const Ii=class Ii{constructor({editor:t=null,uiManager:e=null}){M(this,ee);M(this,en,null);M(this,hl,null);M(this,Au);M(this,Ve,null);M(this,Mf,!1);M(this,Su,!1);M(this,Df,null);M(this,Lf);M(this,Lr,null);M(this,sn,null);M(this,xu);var s;t?(T(this,Su,!1),T(this,xu,Ct.HIGHLIGHT_COLOR),T(this,Df,t)):(T(this,Su,!0),T(this,xu,Ct.HIGHLIGHT_DEFAULT_COLOR)),T(this,sn,(t==null?void 0:t._uiManager)||e),T(this,Lf,d(this,sn)._eventBus),T(this,Au,(t==null?void 0:t.color)||((s=d(this,sn))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),d(Ii,Pf)||T(Ii,Pf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ut(this,"_keyboardManager",new Gf([[["Escape","mac+Escape"],Ii.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ii.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ii.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ii.prototype._moveToPrevious],[["Home","mac+Home"],Ii.prototype._moveToBeginning],[["End","mac+End"],Ii.prototype._moveToEnd]]))}renderButton(){const t=T(this,en,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,sn)._signal;t.addEventListener("click",_(this,ee,Ao).bind(this),{signal:e}),t.addEventListener("keydown",_(this,ee,Pb).bind(this),{signal:e});const s=T(this,hl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=d(this,Au),t.append(s),t}renderMainDropdown(){const t=T(this,Ve,_(this,ee,Db).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,en)){_(this,ee,Ao).call(this,t);return}const e=t.target.getAttribute("data-color");e&&_(this,ee,Lb).call(this,e,t)}_moveToNext(t){var e,s;if(!d(this,ee,cr)){_(this,ee,Ao).call(this,t);return}if(t.target===d(this,en)){(e=d(this,Ve).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=d(this,Ve))==null?void 0:e.firstChild)||t.target===d(this,en)){d(this,ee,cr)&&this._hideDropdownFromKeyboard();return}d(this,ee,cr)||_(this,ee,Ao).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!d(this,ee,cr)){_(this,ee,Ao).call(this,t);return}(e=d(this,Ve).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ee,cr)){_(this,ee,Ao).call(this,t);return}(e=d(this,Ve).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,Ve))==null||t.classList.add("hidden"),(e=d(this,Lr))==null||e.abort(),T(this,Lr,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,Su)){if(!d(this,ee,cr)){(t=d(this,Df))==null||t.unselect();return}this.hideDropdown(),d(this,en).focus({preventScroll:!0,focusVisible:d(this,Mf)})}}updateColor(t){if(d(this,hl)&&(d(this,hl).style.backgroundColor=t),!d(this,Ve))return;const e=d(this,sn).highlightColors.values();for(const s of d(this,Ve).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,en))==null||t.remove(),T(this,en,null),T(this,hl,null),(e=d(this,Ve))==null||e.remove(),T(this,Ve,null)}};en=new WeakMap,hl=new WeakMap,Au=new WeakMap,Ve=new WeakMap,Mf=new WeakMap,Su=new WeakMap,Df=new WeakMap,Lf=new WeakMap,Lr=new WeakMap,sn=new WeakMap,xu=new WeakMap,Pf=new WeakMap,ee=new WeakSet,Db=function(){const t=document.createElement("div"),e=d(this,sn)._signal;t.addEventListener("contextmenu",Fs,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of d(this,sn).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",d(Ii,Pf)[s]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===d(this,Au)),l.addEventListener("click",_(this,ee,Lb).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",_(this,ee,Pb).bind(this),{signal:e}),t},Lb=function(t,e){e.stopPropagation(),d(this,Lf).dispatch("switchannotationeditorparams",{source:this,type:d(this,xu),value:t})},Pb=function(t){Ii._keyboardManager.exec(this,t)},Ao=function(t){if(d(this,ee,cr)){this.hideDropdown();return}if(T(this,Mf,t.detail===0),d(this,Lr)||(T(this,Lr,new AbortController),window.addEventListener("pointerdown",_(this,ee,qR).bind(this),{signal:d(this,sn).combinedSignal(d(this,Lr))})),d(this,Ve)){d(this,Ve).classList.remove("hidden");return}const e=T(this,Ve,_(this,ee,Db).call(this));d(this,en).append(e)},qR=function(t){var e;(e=d(this,Ve))!=null&&e.contains(t.target)||this.hideDropdown()},cr=function(){return d(this,Ve)&&!d(this,Ve).classList.contains("hidden")},M(Ii,Pf,null);let im=Ii;var wu,Of,ba,dl,Eu,Ds,kf,Nf,fl,nn,bi,Vi,Tu,Aa,Ue,_u,Ls,Ff,Dt,Ob,Fg,XR,YR,$R,kb,So,ks,xc,WR,Hg,ad,KR,QR,ZR,JR,tM;const $t=class $t extends Zt{constructor(e){super({...e,name:"highlightEditor"});M(this,Dt);M(this,wu,null);M(this,Of,0);M(this,ba);M(this,dl,null);M(this,Eu,null);M(this,Ds,null);M(this,kf,null);M(this,Nf,0);M(this,fl,null);M(this,nn,null);M(this,bi,null);M(this,Vi,!1);M(this,Tu,null);M(this,Aa);M(this,Ue,null);M(this,_u,"");M(this,Ls);M(this,Ff,"");this.color=e.color||$t._defaultColor,T(this,Ls,e.thickness||$t._defaultThickness),T(this,Aa,e.opacity||$t._defaultOpacity),T(this,ba,e.boxes||null),T(this,Ff,e.methodOfCreation||""),T(this,_u,e.text||""),this._isDraggable=!1,e.highlightId>-1?(T(this,Vi,!0),_(this,Dt,Fg).call(this,e),_(this,Dt,So).call(this)):d(this,ba)&&(T(this,wu,e.anchorNode),T(this,Of,e.anchorOffset),T(this,kf,e.focusNode),T(this,Nf,e.focusOffset),_(this,Dt,Ob).call(this),_(this,Dt,So).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=$t.prototype;return Ut(this,"_keyboardManager",new Gf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,Vi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,Ls),methodOfCreation:d(this,Ff)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Zt.initialize(e,s),$t._defaultColor||($t._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Ct.HIGHLIGHT_DEFAULT_COLOR:$t._defaultColor=s;break;case Ct.HIGHLIGHT_THICKNESS:$t._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return d(this,Tu)}updateParams(e,s){switch(e){case Ct.HIGHLIGHT_COLOR:_(this,Dt,XR).call(this,s);break;case Ct.HIGHLIGHT_THICKNESS:_(this,Dt,YR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ct.HIGHLIGHT_DEFAULT_COLOR,$t._defaultColor],[Ct.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[Ct.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[Ct.HIGHLIGHT_THICKNESS,d(this,Ls)||$t._defaultThickness],[Ct.HIGHLIGHT_FREE,d(this,Vi)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(T(this,Eu,new im({editor:this})),e.addColorPicker(d(this,Eu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Dt,ad).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,_(this,Dt,ad).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,Dt,kb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Dt,So).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?_(this,Dt,kb).call(this):e&&(_(this,Dt,So).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var l,c,h;const{drawLayer:s}=this.parent;let r;d(this,Vi)?(e=(e-this.rotation+360)%360,r=_(l=$t,ks,xc).call(l,d(this,nn).box,e)):r=_(c=$t,ks,xc).call(c,this,e),s.rotate(d(this,bi),e),s.rotate(d(this,Ue),e),s.updateBox(d(this,bi),r),s.updateBox(d(this,Ue),_(h=$t,ks,xc).call(h,d(this,Ds).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,_u)&&(e.setAttribute("aria-label",d(this,_u)),e.setAttribute("role","mark")),d(this,Vi)?e.classList.add("free"):this.div.addEventListener("keydown",_(this,Dt,WR).bind(this),{signal:this._uiManager._signal});const s=T(this,fl,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=d(this,dl);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Jg(this,d(this,fl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,Ue),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,Ue),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:_(this,Dt,Hg).call(this,!0);break;case 1:case 3:_(this,Dt,Hg).call(this,!1);break}}select(){var e,s;super.select(),d(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,Ue),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(d(this,Ue),"selected"))}unselect(){var e;super.unselect(),d(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,Ue),"selected"),d(this,Vi)||_(this,Dt,Hg).call(this,!1))}get _mustFixPosition(){return!d(this,Vi)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,bi),e),this.parent.drawLayer.show(d(this,Ue),e))}static startHighlighting(e,s,{target:r,x:l,y:c}){const{x:h,y:f,width:p,height:m}=r.getBoundingClientRect(),v=new AbortController,b=e.combinedSignal(v),x=C=>{C.preventDefault(),C.stopPropagation()},E=C=>{v.abort(),_(this,ks,JR).call(this,e,C)};window.addEventListener("blur",E,{signal:b}),window.addEventListener("pointerup",E,{signal:b}),window.addEventListener("pointerdown",x,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Fs,{signal:b}),r.addEventListener("pointermove",_(this,ks,ZR).bind(this,e),{signal:b}),this._freeHighlight=new Mb({x:l,y:c},[h,f,p,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var C,P,D,H;let l=null;if(e instanceof TR){const{data:{quadPoints:O,rect:A,rotation:S,id:R,color:k,opacity:F,popupRef:B},parent:{page:{pageNumber:q}}}=e;l=e={annotationType:Ot.HIGHLIGHT,color:Array.from(k),opacity:F,quadPoints:O,boxes:null,pageIndex:q-1,rect:A.slice(0),rotation:S,id:R,deleted:!1,popupRef:B}}else if(e instanceof $A){const{data:{inkLists:O,rect:A,rotation:S,id:R,color:k,borderStyle:{rawWidth:F},popupRef:B},parent:{page:{pageNumber:q}}}=e;l=e={annotationType:Ot.HIGHLIGHT,color:Array.from(k),thickness:F,inkLists:O,boxes:null,pageIndex:q-1,rect:A.slice(0),rotation:S,id:R,deleted:!1,popupRef:B}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=e,m=await super.deserialize(e,s,r);m.color=mt.makeHexColor(...c),T(m,Aa,p||1),f&&T(m,Ls,e.thickness),m.annotationElementId=e.id||null,m._initialData=l;const[v,b]=m.pageDimensions,[x,E]=m.pageTranslation;if(h){const O=T(m,ba,[]);for(let A=0;A<h.length;A+=8)O.push({x:(h[A]-x)/v,y:1-(h[A+1]-E)/b,width:(h[A+2]-h[A])/v,height:(h[A+1]-h[A+5])/b});_(C=m,Dt,Ob).call(C),_(P=m,Dt,So).call(P),m.rotate(m.rotation)}else if(f){T(m,Vi,!0);const O=f[0],A={x:O[0]-x,y:b-(O[1]-E)},S=new Mb(A,[0,0,v,b],1,d(m,Ls)/2,!0,.001);for(let F=0,B=O.length;F<B;F+=2)A.x=O[F]-x,A.y=b-(O[F+1]-E),S.add(A);const{id:R,clipPathId:k}=s.drawLayer.draw(S,m.color,m._defaultOpacity,!0);_(D=m,Dt,Fg).call(D,{highlightOutlines:S.getOutlines(),highlightId:R,clipPathId:k}),_(H=m,Dt,So).call(H)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Zt._colorManager.convert(this.color),l={annotationType:Ot.HIGHLIGHT,color:r,opacity:d(this,Aa),thickness:d(this,Ls),quadPoints:_(this,Dt,KR).call(this),outlines:_(this,Dt,QR).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:_(this,Dt,ad).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Dt,tM).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};wu=new WeakMap,Of=new WeakMap,ba=new WeakMap,dl=new WeakMap,Eu=new WeakMap,Ds=new WeakMap,kf=new WeakMap,Nf=new WeakMap,fl=new WeakMap,nn=new WeakMap,bi=new WeakMap,Vi=new WeakMap,Tu=new WeakMap,Aa=new WeakMap,Ue=new WeakMap,_u=new WeakMap,Ls=new WeakMap,Ff=new WeakMap,Dt=new WeakSet,Ob=function(){const e=new ET(d(this,ba),.001);T(this,nn,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,nn).box;const s=new ET(d(this,ba),.0025,.001,this._uiManager.direction==="ltr");T(this,Ds,s.getOutlines());const{lastPoint:r}=d(this,Ds).box;T(this,Tu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Fg=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var v,b;if(T(this,nn,e),T(this,Ds,e.getNewOutline(d(this,Ls)/2+1.5,.0025)),s>=0)T(this,bi,s),T(this,dl,r),this.parent.drawLayer.finalizeLine(s,e),T(this,Ue,this.parent.drawLayer.drawOutline(d(this,Ds)));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,bi),e),this.parent.drawLayer.updateBox(d(this,bi),_(v=$t,ks,xc).call(v,d(this,nn).box,(x-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,Ue),d(this,Ds)),this.parent.drawLayer.updateBox(d(this,Ue),_(b=$t,ks,xc).call(b,d(this,Ds).box,x))}const{x:c,y:h,width:f,height:p}=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[x,E]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*E/x,this.height=p*x/E;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[x,E]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*E/x,this.height=p*x/E;break}}const{lastPoint:m}=d(this,Ds).box;T(this,Tu,[(m[0]-c)/f,(m[1]-h)/p])},XR=function(e){const s=(c,h)=>{var f,p,m;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(d(this,bi),c),(p=d(this,Eu))==null||p.updateColor(c),T(this,Aa,h),(m=this.parent)==null||m.drawLayer.changeOpacity(d(this,bi),h)},r=this.color,l=d(this,Aa);this.addCommands({cmd:s.bind(this,e,$t._defaultOpacity),undo:s.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},YR=function(e){const s=d(this,Ls),r=l=>{T(this,Ls,l),_(this,Dt,$R).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},$R=function(e){if(!d(this,Vi))return;_(this,Dt,Fg).call(this,{highlightOutlines:d(this,nn).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},kb=function(){d(this,bi)===null||!this.parent||(this.parent.drawLayer.remove(d(this,bi)),T(this,bi,null),this.parent.drawLayer.remove(d(this,Ue)),T(this,Ue,null))},So=function(e=this.parent){d(this,bi)===null&&({id:Ci(this,bi)._,clipPathId:Ci(this,dl)._}=e.drawLayer.draw(d(this,nn),this.color,d(this,Aa)),T(this,Ue,e.drawLayer.drawOutline(d(this,Ds))),d(this,fl)&&(d(this,fl).style.clipPath=d(this,dl)))},ks=new WeakSet,xc=function({x:e,y:s,width:r,height:l},c){switch(c){case 90:return{x:1-s-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-s-l,width:r,height:l};case 270:return{x:s,y:1-e-r,width:l,height:r}}return{x:e,y:s,width:r,height:l}},WR=function(e){$t._keyboardManager.exec(this,e)},Hg=function(e){if(!d(this,wu))return;const s=window.getSelection();e?s.setPosition(d(this,wu),d(this,Of)):s.setPosition(d(this,kf),d(this,Nf))},ad=function(){return d(this,Vi)?this.rotation:0},KR=function(){if(d(this,Vi))return null;const[e,s]=this.pageDimensions,[r,l]=this.pageTranslation,c=d(this,ba),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:m,width:v,height:b}of c){const x=p*e+r,E=(1-m-b)*s+l;h[f]=h[f+4]=x,h[f+1]=h[f+3]=E,h[f+2]=h[f+6]=x+v*e,h[f+5]=h[f+7]=E+b*s,f+=8}return h},QR=function(e){return d(this,nn).serialize(e,_(this,Dt,ad).call(this))},ZR=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},JR=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tM=function(e){const{color:s}=this._initialData;return e.color.some((r,l)=>r!==s[l])},M($t,ks),_t($t,"_defaultColor",null),_t($t,"_defaultOpacity",1),_t($t,"_defaultThickness",12),_t($t,"_type","highlight"),_t($t,"_editorType",Ot.HIGHLIGHT),_t($t,"_freeHighlightId",-1),_t($t,"_freeHighlight",null),_t($t,"_freeHighlightClipId","");let sm=$t;var pl,gl,Cn,Sa,Ps,ml,yl,vl,xa,Cu,bl,Al,Pr,nt,eM,iM,sM,nM,Fb,aM,Hb,rM,oM,lM,cM,uM,xo,Bb,Ib,jb,Bg,Ig,wc,zb,jg,Fa,hM,Vb,dM,fM,Ub,zg,rd;const ge=class ge extends Zt{constructor(e){super({...e,name:"inkEditor"});M(this,nt);M(this,pl,0);M(this,gl,0);M(this,Cn,null);M(this,Sa,new Path2D);M(this,Ps,!1);M(this,ml,null);M(this,yl,!1);M(this,vl,!1);M(this,xa,null);M(this,Cu,null);M(this,bl,0);M(this,Al,0);M(this,Pr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Zt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Ct.INK_THICKNESS:ge._defaultThickness=s;break;case Ct.INK_COLOR:ge._defaultColor=s;break;case Ct.INK_OPACITY:ge._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Ct.INK_THICKNESS:_(this,nt,eM).call(this,s);break;case Ct.INK_COLOR:_(this,nt,iM).call(this,s);break;case Ct.INK_OPACITY:_(this,nt,sM).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ct.INK_THICKNESS,ge._defaultThickness],[Ct.INK_COLOR,ge._defaultColor||Zt._defaultLineColor],[Ct.INK_OPACITY,Math.round(ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ct.INK_THICKNESS,this.thickness||ge._defaultThickness],[Ct.INK_COLOR,this.color||ge._defaultColor||Zt._defaultLineColor],[Ct.INK_OPACITY,Math.round(100*(this.opacity??ge._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,nt,Bg).call(this),_(this,nt,Ig).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,nt,wc).call(this)),_(this,nt,rd).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,Cn)&&(clearTimeout(d(this,Cn)),T(this,Cn,null)),(e=d(this,xa))==null||e.disconnect(),T(this,xa,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,l=this.height*s;this.setDimensions(r,l)}enableEditMode(){d(this,Ps)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,_(this,nt,Bb).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),_(this,nt,Ib).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Ps)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),T(this,Ps,!0),this.div.classList.add("disabled"),_(this,nt,rd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,Ps)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,nt,aM).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),_(this,nt,Hb).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),_(this,nt,jb).call(this,e)}canvasPointerleave(e){_(this,nt,jb).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,Ps)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,h]=_(this,nt,nM).call(this);if(this.setAt(r,l,0,0),this.setDims(c,h),_(this,nt,Bg).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(e*f,s*p,this.width*f,this.height*p),T(this,vl,!0),_(this,nt,wc).call(this),this.setDims(this.width*f,this.height*p),_(this,nt,xo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,nt,Ig).call(this),this.div}setDimensions(e,s){const r=Math.round(e),l=Math.round(s);if(d(this,bl)===r&&d(this,Al)===l)return;T(this,bl,r),T(this,Al,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=e/c,this.height=s/h,this.fixAndSetPosition(),d(this,Ps)&&_(this,nt,zb).call(this,e,s),_(this,nt,wc).call(this),_(this,nt,xo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var P,D,H;if(e instanceof $A)return null;const l=await super.deserialize(e,s,r);l.thickness=e.thickness,l.color=mt.makeHexColor(...e.color),l.opacity=e.opacity;const[c,h]=l.pageDimensions,f=l.width*c,p=l.height*h,m=l.parentScale,v=e.thickness/2;T(l,Ps,!0),T(l,bl,Math.round(f)),T(l,Al,Math.round(p));const{paths:b,rect:x,rotation:E}=e;for(let{bezier:O}of b){O=_(P=ge,Fa,dM).call(P,O,x,E);const A=[];l.paths.push(A);let S=m*(O[0]-v),R=m*(O[1]-v);for(let F=2,B=O.length;F<B;F+=6){const q=m*(O[F]-v),Y=m*(O[F+1]-v),ct=m*(O[F+2]-v),ot=m*(O[F+3]-v),lt=m*(O[F+4]-v),ft=m*(O[F+5]-v);A.push([[S,R],[q,Y],[ct,ot],[lt,ft]]),S=lt,R=ft}const k=_(this,Fa,hM).call(this,A);l.bezierPath2D.push(k)}const C=_(D=l,nt,Ub).call(D);return T(l,gl,Math.max(Zt.MIN_SIZE,C[2]-C[0])),T(l,pl,Math.max(Zt.MIN_SIZE,C[3]-C[1])),_(H=l,nt,zb).call(H,f,p),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ot.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:_(this,nt,fM).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};pl=new WeakMap,gl=new WeakMap,Cn=new WeakMap,Sa=new WeakMap,Ps=new WeakMap,ml=new WeakMap,yl=new WeakMap,vl=new WeakMap,xa=new WeakMap,Cu=new WeakMap,bl=new WeakMap,Al=new WeakMap,Pr=new WeakMap,nt=new WeakSet,eM=function(e){const s=l=>{this.thickness=l,_(this,nt,rd).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},iM=function(e){const s=l=>{this.color=l,_(this,nt,xo).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},sM=function(e){const s=l=>{this.opacity=l,_(this,nt,xo).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},nM=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},Fb=function(){const{ctx:e,color:s,opacity:r,thickness:l,parentScale:c,scaleFactor:h}=this;e.lineWidth=l*c/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${S3(r)}`},aM=function(e,s){this.canvas.addEventListener("contextmenu",Fs,{signal:this._uiManager._signal}),_(this,nt,Ib).call(this),T(this,ml,new AbortController);const r=this._uiManager.combinedSignal(d(this,ml));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,d(this,vl)||(T(this,vl,!0),_(this,nt,wc).call(this),this.thickness||(this.thickness=ge._defaultThickness),this.color||(this.color=ge._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=ge._defaultOpacity)),this.currentPath.push([e,s]),T(this,yl,!1),_(this,nt,Fb).call(this),T(this,Pr,()=>{_(this,nt,lM).call(this),d(this,Pr)&&window.requestAnimationFrame(d(this,Pr))}),window.requestAnimationFrame(d(this,Pr))},Hb=function(e,s){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===l)return;const c=this.currentPath;let h=d(this,Sa);if(c.push([e,s]),T(this,yl,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(e,s);return}c.length===3&&(T(this,Sa,h=new Path2D),h.moveTo(...c[0])),_(this,nt,cM).call(this,h,...c.at(-3),...c.at(-2),e,s)},rM=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,Sa).lineTo(...e)},oM=function(e,s){T(this,Pr,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),_(this,nt,Hb).call(this,e,s),_(this,nt,rM).call(this);let r;if(this.currentPath.length!==1)r=_(this,nt,uM).call(this);else{const p=[e,s];r=[[p,p.slice(),p.slice(),p]]}const l=d(this,Sa),c=this.currentPath;this.currentPath=[],T(this,Sa,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,nt,Bg).call(this),_(this,nt,Ig).call(this)),_(this,nt,rd).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},lM=function(){if(!d(this,yl))return;T(this,yl,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(h=>h[0]),l=s.map(h=>h[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(d(this,Sa)),c.restore()},cM=function(e,s,r,l,c,h,f){const p=(s+l)/2,m=(r+c)/2,v=(l+h)/2,b=(c+f)/2;e.bezierCurveTo(p+2*(l-p)/3,m+2*(c-m)/3,v+2*(l-v)/3,b+2*(c-b)/3,v,b)},uM=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[l,c]=e[0];for(r=1;r<e.length-2;r++){const[x,E]=e[r],[C,P]=e[r+1],D=(x+C)/2,H=(E+P)/2,O=[l+2*(x-l)/3,c+2*(E-c)/3],A=[D+2*(x-D)/3,H+2*(E-H)/3];s.push([[l,c],O,A,[D,H]]),[l,c]=[D,H]}const[h,f]=e[r],[p,m]=e[r+1],v=[l+2*(h-l)/3,c+2*(f-c)/3],b=[p+2*(h-p)/3,m+2*(f-m)/3];return s.push([[l,c],v,b,[p,m]]),s},xo=function(){if(this.isEmpty()){_(this,nt,jg).call(this);return}_(this,nt,Fb).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),_(this,nt,jg).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Bb=function(){if(d(this,Cu))return;T(this,Cu,new AbortController);const e=this._uiManager.combinedSignal(d(this,Cu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Ib=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},jb=function(e){var s;(s=d(this,ml))==null||s.abort(),T(this,ml,null),_(this,nt,Bb).call(this),d(this,Cn)&&clearTimeout(d(this,Cn)),T(this,Cn,setTimeout(()=>{T(this,Cn,null),this.canvas.removeEventListener("contextmenu",Fs)},10)),_(this,nt,oM).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Bg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ig=function(){T(this,xa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),d(this,xa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,xa))==null||e.disconnect(),T(this,xa,null)},{once:!0})},wc=function(){if(!d(this,vl))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),_(this,nt,jg).call(this)},zb=function(e,s){const r=_(this,nt,zg).call(this),l=(e-r)/d(this,gl),c=(s-r)/d(this,pl);this.scaleFactor=Math.min(l,c)},jg=function(){const e=_(this,nt,zg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Fa=new WeakSet,hM=function(e){const s=new Path2D;for(let r=0,l=e.length;r<l;r++){const[c,h,f,p]=e[r];r===0&&s.moveTo(...c),s.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return s},Vb=function(e,s,r){const[l,c,h,f]=s;switch(r){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]+=l,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]+l,e[p+1]=v+c}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=h-e[p],e[p+1]+=c;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=h-e[p+1],e[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return e},dM=function(e,s,r){const[l,c,h,f]=s;switch(r){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]-=l,e[p+1]=f-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]-c,e[p+1]=v-l}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=h-e[p],e[p+1]-=c;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=f-e[p+1],e[p+1]=h-v}break;default:throw new Error("Invalid rotation")}return e},fM=function(e,s,r,l){var m,v;const c=[],h=this.thickness/2,f=e*s+h,p=e*r+h;for(const b of this.paths){const x=[],E=[];for(let C=0,P=b.length;C<P;C++){const[D,H,O,A]=b[C];if(D[0]===A[0]&&D[1]===A[1]&&P===1){const ot=e*D[0]+f,lt=e*D[1]+p;x.push(ot,lt),E.push(ot,lt);break}const S=e*D[0]+f,R=e*D[1]+p,k=e*H[0]+f,F=e*H[1]+p,B=e*O[0]+f,q=e*O[1]+p,Y=e*A[0]+f,ct=e*A[1]+p;C===0&&(x.push(S,R),E.push(S,R)),x.push(k,F,B,q,Y,ct),E.push(k,F),C===P-1&&E.push(Y,ct)}c.push({bezier:_(m=ge,Fa,Vb).call(m,x,l,this.rotation),points:_(v=ge,Fa,Vb).call(v,E,l,this.rotation)})}return c},Ub=function(){let e=1/0,s=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[h,f,p,m]of c){const v=mt.bezierBoundingBox(...h,...f,...p,...m);e=Math.min(e,v[0]),r=Math.min(r,v[1]),s=Math.max(s,v[2]),l=Math.max(l,v[3])}return[e,r,s,l]},zg=function(){return d(this,Ps)?Math.ceil(this.thickness*this.parentScale):0},rd=function(e=!1){if(this.isEmpty())return;if(!d(this,Ps)){_(this,nt,xo).call(this);return}const s=_(this,nt,Ub).call(this),r=_(this,nt,zg).call(this);T(this,gl,Math.max(Zt.MIN_SIZE,s[2]-s[0])),T(this,pl,Math.max(Zt.MIN_SIZE,s[3]-s[1]));const l=Math.ceil(r+d(this,gl)*this.scaleFactor),c=Math.ceil(r+d(this,pl)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=l/h,this.height=c/f,this.setAspectRatio(l,c);const p=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],_(this,nt,wc).call(this),_(this,nt,xo).call(this),T(this,bl,l),T(this,Al,c),this.setDims(l,c);const v=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,m-this.translationY-v)},M(ge,Fa),_t(ge,"_defaultColor",null),_t(ge,"_defaultOpacity",1),_t(ge,"_defaultThickness",1),_t(ge,"_type","ink"),_t(ge,"_editorType",Ot.INK);let Nb=ge;var ye,li,Or,wa,kr,Ru,Rn,Ea,Mn,as,Mu,jt,od,ld,Vg,qb,pM,Ug,Xb,Gg,gM,mM;const pd=class pd extends Zt{constructor(e){super({...e,name:"stampEditor"});M(this,jt);M(this,ye,null);M(this,li,null);M(this,Or,null);M(this,wa,null);M(this,kr,null);M(this,Ru,"");M(this,Rn,null);M(this,Ea,null);M(this,Mn,null);M(this,as,!1);M(this,Mu,!1);T(this,wa,e.bitmapUrl),T(this,kr,e.bitmapFile)}static initialize(e,s){Zt.initialize(e,s)}static get supportedTypes(){return Ut(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ut(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Ot.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,s;d(this,li)&&(T(this,ye,null),this._uiManager.imageManager.deleteId(d(this,li)),(e=d(this,Rn))==null||e.remove(),T(this,Rn,null),(s=d(this,Ea))==null||s.disconnect(),T(this,Ea,null),d(this,Mn)&&(clearTimeout(d(this,Mn)),T(this,Mn,null))),super.remove()}rebuild(){if(!this.parent){d(this,li)&&_(this,jt,Vg).call(this);return}super.rebuild(),this.div!==null&&(d(this,li)&&d(this,Rn)===null&&_(this,jt,Vg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,Or)||d(this,ye)||d(this,wa)||d(this,kr)||d(this,li))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,ye)?_(this,jt,qb).call(this):_(this,jt,Vg).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,s*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,s,r=!1){var x;e||(e=224);const{width:l,height:c}=d(this,ye),h=new jv;let f=d(this,ye),p=l,m=c,v=null;if(s){if(l>s||c>s){const F=Math.min(s/l,s/c);p=Math.floor(l*F),m=Math.floor(c*F)}v=document.createElement("canvas");const E=v.width=Math.ceil(p*h.sx),C=v.height=Math.ceil(m*h.sy);d(this,as)||(f=_(this,jt,Ug).call(this,E,C));const P=v.getContext("2d");P.filter=this._uiManager.hcmFilter;let D="white",H="#cfcfd8";this._uiManager.hcmFilter!=="none"?H="black":(x=window.matchMedia)!=null&&x.call(window,"(prefers-color-scheme: dark)").matches&&(D="#8f8f9d",H="#42414d");const O=15,A=O*h.sx,S=O*h.sy,R=new OffscreenCanvas(A*2,S*2),k=R.getContext("2d");k.fillStyle=D,k.fillRect(0,0,A*2,S*2),k.fillStyle=H,k.fillRect(0,0,A,S),k.fillRect(A,S,A,S),P.fillStyle=P.createPattern(R,"repeat"),P.fillRect(0,0,E,C),P.drawImage(f,0,0,f.width,f.height,0,0,E,C)}let b=null;if(r){let E,C;if(h.symmetric&&f.width<e&&f.height<e)E=f.width,C=f.height;else if(f=d(this,ye),l>e||c>e){const H=Math.min(e/l,e/c);E=Math.floor(l*H),C=Math.floor(c*H),d(this,as)||(f=_(this,jt,Ug).call(this,E,C))}const D=new OffscreenCanvas(E,C).getContext("2d",{willReadFrequently:!0});D.drawImage(f,0,0,f.width,f.height,0,0,E,C),b={width:E,height:C,data:D.getImageData(0,0,E,C).data}}return{canvas:v,width:p,height:m,imageData:b}}getImageForAltText(){return d(this,Rn)}static async deserialize(e,s,r){var C;let l=null;if(e instanceof _R){const{data:{rect:P,rotation:D,id:H,structParent:O,popupRef:A},container:S,parent:{page:{pageNumber:R}}}=e,k=S.querySelector("canvas"),F=r.imageManager.getFromCanvas(S.id,k);k.remove();const B=((C=await s._structTree.getAriaAttributes(`${HA}${H}`))==null?void 0:C.get("aria-label"))||"";l=e={annotationType:Ot.STAMP,bitmapId:F.id,bitmap:F.bitmap,pageIndex:R-1,rect:P.slice(0),rotation:D,id:H,deleted:!1,accessibilityData:{decorative:!1,altText:B},isSvg:!1,structParent:O,popupRef:A}}const c=await super.deserialize(e,s,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:v,accessibilityData:b}=e;m&&r.imageManager.isValidId(m)?(T(c,li,m),f&&T(c,ye,f)):T(c,wa,p),T(c,as,v);const[x,E]=c.pageDimensions;return c.width=(h[2]-h[0])/x,c.height=(h[3]-h[1])/E,c.annotationElementId=e.id||null,b&&(c.altTextData=b),c._initialData=l,T(c,Mu,!!l),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ot.STAMP,bitmapId:d(this,li),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,as),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=_(this,jt,Gg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=_(this,jt,mM).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const h=d(this,as)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(d(this,li)))s.stamps.set(d(this,li),{area:h,serialized:r}),r.bitmap=_(this,jt,Gg).call(this,!1);else if(d(this,as)){const f=s.stamps.get(d(this,li));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=_(this,jt,Gg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ye=new WeakMap,li=new WeakMap,Or=new WeakMap,wa=new WeakMap,kr=new WeakMap,Ru=new WeakMap,Rn=new WeakMap,Ea=new WeakMap,Mn=new WeakMap,as=new WeakMap,Mu=new WeakMap,jt=new WeakSet,od=function(e,s=!1){if(!e){this.remove();return}T(this,ye,e.bitmap),s||(T(this,li,e.id),T(this,as,e.isSvg)),e.file&&T(this,Ru,e.file.name),_(this,jt,qb).call(this)},ld=function(){if(T(this,Or,null),this._uiManager.enableWaiting(!1),!!d(this,Rn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ye)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ye)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Vg=function(){if(d(this,li)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,li)).then(r=>_(this,jt,od).call(this,r,!0)).finally(()=>_(this,jt,ld).call(this));return}if(d(this,wa)){const r=d(this,wa);T(this,wa,null),this._uiManager.enableWaiting(!0),T(this,Or,this._uiManager.imageManager.getFromUrl(r).then(l=>_(this,jt,od).call(this,l)).finally(()=>_(this,jt,ld).call(this)));return}if(d(this,kr)){const r=d(this,kr);T(this,kr,null),this._uiManager.enableWaiting(!0),T(this,Or,this._uiManager.imageManager.getFromFile(r).then(l=>_(this,jt,od).call(this,l)).finally(()=>_(this,jt,ld).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=pd.supportedTypesStr;const s=this._uiManager._signal;T(this,Or,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,jt,od).call(this,l)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>_(this,jt,ld).call(this))),e.click()},qb=function(){const{div:e}=this;let{width:s,height:r}=d(this,ye);const[l,c]=this.pageDimensions,h=.75;if(this.width)s=this.width*l,r=this.height*c;else if(s>h*l||r>h*c){const v=Math.min(h*l/s,h*c/r);s*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(s*f/l,r*p/c),this._uiManager.enableWaiting(!1);const m=T(this,Rn,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),_(this,jt,Xb).call(this,s,r),_(this,jt,gM).call(this),d(this,Mu)||(this.parent.addUndoableEditor(this),T(this,Mu,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Ru)&&m.setAttribute("aria-label",d(this,Ru))},pM=function(e,s){var h;const[r,l]=this.parentDimensions;this.width=e/r,this.height=s/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,Mn)!==null&&clearTimeout(d(this,Mn)),T(this,Mn,setTimeout(()=>{T(this,Mn,null),_(this,jt,Xb).call(this,e,s)},200))},Ug=function(e,s){const{width:r,height:l}=d(this,ye);let c=r,h=l,f=d(this,ye);for(;c>2*e||h>2*s;){const p=c,m=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*s&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const v=new OffscreenCanvas(c,h);v.getContext("2d").drawImage(f,0,0,p,m,0,0,c,h),f=v.transferToImageBitmap()}return f},Xb=function(e,s){const r=new jv,l=Math.ceil(e*r.sx),c=Math.ceil(s*r.sy),h=d(this,Rn);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=d(this,as)?d(this,ye):_(this,jt,Ug).call(this,l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)},Gg=function(e){if(e){if(d(this,as)){const l=this._uiManager.imageManager.getSvgUrl(d(this,li));if(l)return l}const s=document.createElement("canvas");return{width:s.width,height:s.height}=d(this,ye),s.getContext("2d").drawImage(d(this,ye),0,0),s.toDataURL()}if(d(this,as)){const[s,r]=this.pageDimensions,l=Math.round(this.width*s*jr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*jr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(d(this,ye),0,0,d(this,ye).width,d(this,ye).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(d(this,ye))},gM=function(){this._uiManager._signal&&(T(this,Ea,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&_(this,jt,pM).call(this,s.width,s.height)})),d(this,Ea).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Ea))==null||e.disconnect(),T(this,Ea,null)},{once:!0}))},mM=function(e){var p;const{rect:s,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=e.rect.every((m,v)=>Math.abs(m-s[v])<1),h=e.pageIndex===r,f=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===l;return{isSame:c&&h&&f,isSameAltText:f}},_t(pd,"_type","stamp"),_t(pd,"_editorType",Ot.STAMP);let Gb=pd;var Sl,Du,Dn,Nr,Ta,rs,Fr,Lu,Pu,Ai,_a,vt,Hr,ui,yM,$b,Wb,Kb,qg;const Us=class Us{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:m}){M(this,ui);M(this,Sl);M(this,Du,!1);M(this,Dn,null);M(this,Nr,null);M(this,Ta,null);M(this,rs,new Map);M(this,Fr,!1);M(this,Lu,!1);M(this,Pu,!1);M(this,Ai,null);M(this,_a,null);M(this,vt);const v=[...d(Us,Hr).values()];if(!Us._initialized){Us._initialized=!0;for(const b of v)b.initialize(m,t)}t.registerEditorTypes(v),T(this,vt,t),this.pageIndex=e,this.div=s,T(this,Sl,l),T(this,Dn,c),this.viewport=p,T(this,Ai,f),this.drawLayer=h,this._structTree=r,d(this,vt).addLayer(this)}get isEmpty(){return d(this,rs).size===0}get isInvisible(){return this.isEmpty&&d(this,vt).getMode()===Ot.NONE}updateToolbar(t){d(this,vt).updateToolbar(t)}updateMode(t=d(this,vt).getMode()){switch(_(this,ui,qg).call(this),t){case Ot.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ot.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ot.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of d(Us,Hr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,Ai))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,vt).getMode()!==Ot.INK)return;if(!t){for(const s of d(this,rs).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,vt).setEditingState(t)}addCommands(t){d(this,vt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Dn))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of d(this,rs).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(d(this,vt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!d(this,Dn))return;const e=d(this,Dn).getEditableAnnotations();for(const s of e){if(s.hide(),d(this,vt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;T(this,Pu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,rs).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(d(this,Dn)){const l=d(this,Dn).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(d(this,vt).isDeletedAnnotationElement(h))continue;let f=e.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(h),f&&(d(this,vt).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}_(this,ui,qg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const l of d(Us,Hr).values())s.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),T(this,Pu,!1)}getEditableAnnotation(t){var e;return((e=d(this,Dn))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,vt).getActive()!==t&&d(this,vt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,Ai))!=null&&t.div&&!d(this,_a)){T(this,_a,new AbortController);const e=d(this,vt).combinedSignal(d(this,_a));d(this,Ai).div.addEventListener("pointerdown",_(this,ui,yM).bind(this),{signal:e}),d(this,Ai).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,Ai))!=null&&t.div&&d(this,_a)&&(d(this,_a).abort(),T(this,_a,null),d(this,Ai).div.classList.remove("highlighting"))}enableClick(){if(d(this,Nr))return;T(this,Nr,new AbortController);const t=d(this,vt).combinedSignal(d(this,Nr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=d(this,Nr))==null||t.abort(),T(this,Nr,null)}attach(t){d(this,rs).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,vt).isDeletedAnnotationElement(e)&&d(this,vt).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,rs).delete(t.id),(e=d(this,Sl))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Pu)&&t.annotationElementId&&d(this,vt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,vt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,Lu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,vt).addDeletedAnnotationElement(t.annotationElementId),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,vt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,vt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,Ta)&&(t._focusEventsAllowed=!1,T(this,Ta,setTimeout(()=>{T(this,Ta,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,vt)._signal}),e.focus())},0))),t._structTreeParentId=(s=d(this,Sl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return d(this,vt).getId()}combinedSignal(t){return d(this,vt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,ui,$b))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,vt).updateToolbar(t),d(this,vt).updateMode(t);const{offsetX:s,offsetY:r}=_(this,ui,Kb).call(this),l=this.getNextId(),c=_(this,ui,Wb).call(this,{parent:this,id:l,x:s,y:r,uiManager:d(this,vt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=d(Us,Hr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,vt)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),l=_(this,ui,Wb).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:d(this,vt),isCentered:e,...s});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(_(this,ui,Kb).call(this),!0)}setSelected(t){d(this,vt).setSelected(t)}toggleSelected(t){d(this,vt).toggleSelected(t)}unselect(t){d(this,vt).unselect(t)}pointerup(t){const{isMac:e}=Pi.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,Fr)){if(T(this,Fr,!1),!d(this,Du)){T(this,Du,!0);return}if(d(this,vt).getMode()===Ot.STAMP){d(this,vt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,vt).getMode()===Ot.HIGHLIGHT&&this.enableTextSelection(),d(this,Fr)){T(this,Fr,!1);return}const{isMac:e}=Pi.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;T(this,Fr,!0);const s=d(this,vt).getActive();T(this,Du,!s||s.isEmpty())}findNewParent(t,e,s){const r=d(this,vt).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=d(this,vt).getActive())==null?void 0:t.parent)===this&&(d(this,vt).commitOrRemove(),d(this,vt).setActiveEditor(null)),d(this,Ta)&&(clearTimeout(d(this,Ta)),T(this,Ta,null));for(const s of d(this,rs).values())(e=d(this,Sl))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,d(this,rs).clear(),d(this,vt).removeLayer(this)}render({viewport:t}){this.viewport=t,wl(this.div,t);for(const e of d(this,vt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,vt).commitOrRemove(),_(this,ui,qg).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,wl(this.div,{rotation:s}),e!==s)for(const r of d(this,rs).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,vt).viewParameters.realScale}};Sl=new WeakMap,Du=new WeakMap,Dn=new WeakMap,Nr=new WeakMap,Ta=new WeakMap,rs=new WeakMap,Fr=new WeakMap,Lu=new WeakMap,Pu=new WeakMap,Ai=new WeakMap,_a=new WeakMap,vt=new WeakMap,Hr=new WeakMap,ui=new WeakSet,yM=function(t){d(this,vt).unselectAll();const{target:e}=t;if(e===d(this,Ai).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,Ai).div.contains(e)){const{isMac:s}=Pi.platform;if(t.button!==0||t.ctrlKey&&s)return;d(this,vt).showAllEditors("highlight",!0,!0),d(this,Ai).div.classList.add("free"),this.toggleDrawing(),sm.startHighlighting(this,d(this,vt).direction==="ltr",{target:d(this,Ai).div,x:t.x,y:t.y}),d(this,Ai).div.addEventListener("pointerup",()=>{d(this,Ai).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,vt)._signal}),t.preventDefault()}},$b=function(){return d(Us,Hr).get(d(this,vt).getMode())},Wb=function(t){const e=d(this,ui,$b);return e?new e.prototype.constructor(t):null},Kb=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+s),f=Math.min(window.innerHeight,e+r),p=(l+h)/2-t,m=(c+f)/2-e,[v,b]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:v,offsetY:b}},qg=function(){T(this,Lu,!0);for(const t of d(this,rs).values())t.isEmpty()&&t.remove();T(this,Lu,!1)},_t(Us,"_initialized",!1),M(Us,Hr,new Map([_b,Nb,Gb,sm].map(t=>[t._editorType,t])));let Yb=Us;var Ln,Hf,Ne,Ca,Bf,Zb,Rl,Jb,vM;const ai=class ai{constructor({pageIndex:t}){M(this,Rl);M(this,Ln,null);M(this,Hf,0);M(this,Ne,new Map);M(this,Ca,new Map);this.pageIndex=t}setParent(t){if(!d(this,Ln)){T(this,Ln,t);return}if(d(this,Ln)!==t){if(d(this,Ne).size>0)for(const e of d(this,Ne).values())e.remove(),t.append(e);T(this,Ln,t)}}static get _svgFactory(){return Ut(this,"_svgFactory",new YA)}draw(t,e,s,r=!1){const l=Ci(this,Hf)._++,c=_(this,Rl,Jb).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=ai._svgFactory.createElement("defs");c.append(h);const f=ai._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),r&&d(this,Ca).set(l,f);const m=_(this,Rl,vM).call(this,h,p),v=ai._svgFactory.createElement("use");return c.append(v),c.setAttribute("fill",e),c.setAttribute("fill-opacity",s),v.setAttribute("href",`#${p}`),d(this,Ne).set(l,c),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const e=Ci(this,Hf)._++,s=_(this,Rl,Jb).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=ai._svgFactory.createElement("defs");s.append(r);const l=ai._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const m=ai._svgFactory.createElement("mask");r.append(m),h=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const v=ai._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=ai._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=ai._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),d(this,Ne).set(e,s),e}finalizeLine(t,e){const s=d(this,Ca).get(t);d(this,Ca).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,Ne).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){d(this,Ca).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;_(s=ai,Bf,Zb).call(s,d(this,Ne).get(t),e)}show(t,e){d(this,Ne).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,Ne).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,Ne).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,Ne).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,Ne).get(t).classList.add(e)}removeClass(t,e){d(this,Ne).get(t).classList.remove(e)}getSVGRoot(t){return d(this,Ne).get(t)}remove(t){d(this,Ca).delete(t),d(this,Ln)!==null&&(d(this,Ne).get(t).remove(),d(this,Ne).delete(t))}destroy(){T(this,Ln,null);for(const t of d(this,Ne).values())t.remove();d(this,Ne).clear(),d(this,Ca).clear()}};Ln=new WeakMap,Hf=new WeakMap,Ne=new WeakMap,Ca=new WeakMap,Bf=new WeakSet,Zb=function(t,{x:e=0,y:s=0,width:r=1,height:l=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},Rl=new WeakSet,Jb=function(t){var s;const e=ai._svgFactory.create(1,1,!0);return d(this,Ln).append(e),e.setAttribute("aria-hidden",!0),_(s=ai,Bf,Zb).call(s,e,t),e},vM=function(t,e){const s=ai._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=ai._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},M(ai,Bf);let Qb=ai;var t4=Mt.AbortException,e4=Mt.AnnotationEditorLayer,i4=Mt.AnnotationEditorParamsType,s4=Mt.AnnotationEditorType,n4=Mt.AnnotationEditorUIManager,bM=Mt.AnnotationLayer,AM=Mt.AnnotationMode,a4=Mt.ColorPicker,r4=Mt.DOMSVGFactory,o4=Mt.DrawLayer,l4=Mt.FeatureTest,WA=Mt.GlobalWorkerOptions,c4=Mt.ImageKind,u4=Mt.InvalidPDFException,h4=Mt.MissingPDFException,d4=Mt.OPS,f4=Mt.OutputScale,p4=Mt.PDFDataRangeTransport,g4=Mt.PDFDateString,m4=Mt.PDFWorker,y4=Mt.PasswordResponses,v4=Mt.PermissionFlag,b4=Mt.PixelsPerInch,A4=Mt.RenderingCancelledException,SM=Mt.TextLayer,S4=Mt.UnexpectedResponseException,x4=Mt.Util,w4=Mt.VerbosityLevel,E4=Mt.XfaLayer,T4=Mt.build,_4=Mt.createValidAbsoluteUrl,C4=Mt.fetchData,xM=Mt.getDocument,R4=Mt.getFilenameFromUrl,M4=Mt.getPdfFilenameFromUrl,D4=Mt.getXfaPageViewport,L4=Mt.isDataScheme,P4=Mt.isPdfFile,O4=Mt.noContextMenu,k4=Mt.normalizeUnicode,N4=Mt.setLayerDimensions,F4=Mt.shadow,wM=Mt.version;const H4=Object.freeze(Object.defineProperty({__proto__:null,AbortException:t4,AnnotationEditorLayer:e4,AnnotationEditorParamsType:i4,AnnotationEditorType:s4,AnnotationEditorUIManager:n4,AnnotationLayer:bM,AnnotationMode:AM,ColorPicker:a4,DOMSVGFactory:r4,DrawLayer:o4,FeatureTest:l4,GlobalWorkerOptions:WA,ImageKind:c4,InvalidPDFException:u4,MissingPDFException:h4,OPS:d4,OutputScale:f4,PDFDataRangeTransport:p4,PDFDateString:g4,PDFWorker:m4,PasswordResponses:y4,PermissionFlag:v4,PixelsPerInch:b4,RenderingCancelledException:A4,TextLayer:SM,UnexpectedResponseException:S4,Util:x4,VerbosityLevel:w4,XfaLayer:E4,build:T4,createValidAbsoluteUrl:_4,fetchData:C4,getDocument:xM,getFilenameFromUrl:R4,getPdfFilenameFromUrl:M4,getXfaPageViewport:D4,isDataScheme:L4,isPdfFile:P4,noContextMenu:O4,normalizeUnicode:k4,setLayerDimensions:N4,shadow:F4,version:wM},Symbol.toStringTag,{value:"Module"}));var Ke=function(a,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,l;s<r;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return a.concat(l||Array.prototype.slice.call(t))},B4=["onCopy","onCut","onPaste"],I4=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],j4=["onFocus","onBlur"],z4=["onInput","onInvalid","onReset","onSubmit"],V4=["onLoad","onError"],U4=["onKeyDown","onKeyPress","onKeyUp"],G4=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],q4=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],X4=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Y4=["onSelect"],$4=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],W4=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],K4=["onScroll"],Q4=["onWheel"],Z4=["onAnimationStart","onAnimationEnd","onAnimationIteration"],J4=["onTransitionEnd"],tH=["onToggle"],eH=["onChange"],iH=Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke([],B4,!0),I4,!0),j4,!0),z4,!0),V4,!0),U4,!0),G4,!0),q4,!0),X4,!0),Y4,!0),$4,!0),W4,!0),K4,!0),Q4,!0),Z4,!0),J4,!0),eH,!0),tH,!0);function EM(a,t){var e={};return iH.forEach(function(s){var r=a[s];r&&(t?e[s]=function(l){return r(l,t(s))}:e[s]=r)}),e}function Xf(a){var t=!1,e=new Promise(function(s,r){a.then(function(l){return!t&&s(l)}).catch(function(l){return!t&&r(l)})});return{promise:e,cancel:function(){t=!0}}}function TM(a){var t,e,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=TM(a[t]))&&(s&&(s+=" "),s+=e)}else for(e in a)a[e]&&(s&&(s+=" "),s+=e);return s}function Nm(){for(var a,t,e=0,s="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=TM(a))&&(s&&(s+=" "),s+=t);return s}var sH="Invariant failed";function ne(a,t){if(!a)throw new Error(sH)}var bv,TT;function nH(){if(TT)return bv;TT=1;var a=function(){};return bv=a,bv}var aH=nH();const xi=IT(aH);var _T=Object.prototype.hasOwnProperty;function CT(a,t,e){for(e of a.keys())if(Oc(e,t))return e}function Oc(a,t){var e,s,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((s=a.length)===t.length)for(;s--&&Oc(a[s],t[s]););return s===-1}if(e===Set){if(a.size!==t.size)return!1;for(s of a)if(r=s,r&&typeof r=="object"&&(r=CT(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(s of a)if(r=s[0],r&&typeof r=="object"&&(r=CT(t,r),!r)||!Oc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((s=a.byteLength)===t.byteLength)for(;s--&&a.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(a)){if((s=a.byteLength)===t.byteLength)for(;s--&&a[s]===t[s];);return s===-1}if(!e||typeof a=="object"){s=0;for(e in a)if(_T.call(a,e)&&++s&&!_T.call(t,e)||!(e in t)||!Oc(a[e],t[e]))return!1;return Object.keys(t).length===s}}return a!==a&&t!==t}const _M=Z.createContext(null);function kc({children:a,type:t}){return j.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const rH="noopener noreferrer nofollow";class oH{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ne(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ne(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ne(this.pdfDocument),ne(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ne(Array.isArray(e));const s=e[0];new Promise(r=>{ne(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{r(l)}).catch(()=>{ne(!1)}):typeof s=="number"?r(s):ne(!1)}).then(r=>{const l=r+1;ne(this.pdfViewer),ne(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ne(this.pdfViewer),ne(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||rH,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const RT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Fm=typeof window<"u",CM=Fm&&window.location.protocol==="file:";function lH(a){return typeof a<"u"}function yo(a){return lH(a)&&a!==null}function cH(a){return typeof a=="string"}function uH(a){return a instanceof ArrayBuffer}function hH(a){return ne(Fm),a instanceof Blob}function tA(a){return cH(a)&&/^data:/.test(a)}function MT(a){ne(tA(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function dH(){return Fm&&window.devicePixelRatio||1}const RM="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function DT(){xi(!CM,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${RM}`)}function fH(){xi(!CM,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${RM}`)}function _l(a){a!=null&&a.cancel&&a.cancel()}function eA(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function pH(a){return a.name==="RenderingCancelledException"}function gH(a){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(a)})}function mH(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function Fu(){return Z.useReducer(mH,{value:void 0,error:void 0})}var yH=function(a,t,e,s){function r(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(m){try{p(s.next(m))}catch(v){c(v)}}function f(m){try{p(s.throw(m))}catch(v){c(v)}}function p(m){m.done?l(m.value):r(m.value).then(h,f)}p((s=s.apply(a,t||[])).next())})},LT=function(a,t){var e={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(e[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(a);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(a,s[r])&&(e[s[r]]=a[s[r]]);return e};const{PDFDataRangeTransport:vH}=H4,bH=(a,t)=>{switch(t){case RT.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case RT.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function PT(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const AH=Z.forwardRef(function(t,e){var{children:s,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:m,loading:v="Loading PDF…",noData:b="No PDF file specified.",onItemClick:x,onLoadError:E,onLoadProgress:C,onLoadSuccess:P,onPassword:D=bH,onSourceError:H,onSourceSuccess:O,options:A,renderMode:S,rotate:R}=t,k=LT(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[F,B]=Fu(),{value:q,error:Y}=F,[ct,ot]=Fu(),{value:lt,error:ft}=ct,Q=Z.useRef(new oH),W=Z.useRef([]),tt=Z.useRef(void 0),wt=Z.useRef(void 0);f&&f!==tt.current&&PT(f)&&(xi(!Oc(f,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=f),A&&A!==wt.current&&(xi(!Oc(A,wt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),wt.current=A);const I=Z.useRef({scrollPageIntoView:zt=>{const{dest:ce,pageNumber:_e,pageIndex:ue=_e-1}=zt;if(x){x({dest:ce,pageIndex:ue,pageNumber:_e});return}const rn=W.current[ue];if(rn){rn.scrollIntoView();return}xi(!1,`An internal link leading to page ${_e} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Z.useImperativeHandle(e,()=>({linkService:Q,pages:W,viewer:I}),[]);function et(){O&&O()}function ut(){Y&&(xi(!1,Y.toString()),H&&H(Y))}function at(){B({type:"RESET"})}Z.useEffect(at,[f,B]);const st=Z.useCallback(()=>yH(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return tA(f)?{data:MT(f)}:(DT(),{url:f});if(f instanceof vH)return{range:f};if(uH(f))return{data:f};if(Fm&&hH(f))return{data:yield gH(f)};if(ne(typeof f=="object"),ne(PT(f)),"url"in f&&typeof f.url=="string"){if(tA(f.url)){const{url:zt}=f,ce=LT(f,["url"]),_e=MT(zt);return Object.assign({data:_e},ce)}DT()}return f}),[f]);Z.useEffect(()=>{const zt=Xf(st());return zt.promise.then(ce=>{B({type:"RESOLVE",value:ce})}).catch(ce=>{B({type:"REJECT",error:ce})}),()=>{_l(zt)}},[st,B]),Z.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){ut();return}et()}},[q]);function Et(){lt&&(P&&P(lt),W.current=new Array(lt.numPages),Q.current.setDocument(lt))}function pt(){ft&&(xi(!1,ft.toString()),E&&E(ft))}Z.useEffect(function(){ot({type:"RESET"})},[ot,q]),Z.useEffect(function(){if(!q)return;const ce=A?Object.assign(Object.assign({},q),A):q,_e=xM(ce);C&&(_e.onProgress=C),D&&(_e.onPassword=D);const ue=_e,rn=ue.promise.then(on=>{ot({type:"RESOLVE",value:on})}).catch(on=>{ue.destroyed||ot({type:"REJECT",error:on})});return()=>{rn.finally(()=>ue.destroy())}},[A,ot,q]),Z.useEffect(()=>{if(!(typeof lt>"u")){if(lt===!1){pt();return}Et()}},[lt]),Z.useEffect(function(){Q.current.setViewer(I.current),Q.current.setExternalLinkRel(c),Q.current.setExternalLinkTarget(h)},[c,h]);const Tt=Z.useCallback((zt,ce)=>{W.current[zt]=ce},[]),Lt=Z.useCallback(zt=>{delete W.current[zt]},[]),qt=Z.useMemo(()=>({imageResourcesPath:m,linkService:Q.current,onItemClick:x,pdf:lt,registerPage:Tt,renderMode:S,rotate:R,unregisterPage:Lt}),[m,x,lt,Tt,S,R,Lt]),xt=Z.useMemo(()=>EM(k,()=>lt),[k,lt]);function hi(){return j.jsx(_M.Provider,{value:qt,children:s})}function Hs(){return f?lt==null?j.jsx(kc,{type:"loading",children:typeof v=="function"?v():v}):lt===!1?j.jsx(kc,{type:"error",children:typeof l=="function"?l():l}):hi():j.jsx(kc,{type:"no-data",children:typeof b=="function"?b():b})}return j.jsx("div",Object.assign({className:Nm("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},xt,{children:Hs()}))});function MM(){return Z.useContext(_M)}function DM(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(l){e.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const LM=Z.createContext(null),PM={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},SH=/^H(\d+)$/;function xH(a){return a in PM}function Hm(a){return"children"in a}function OM(a){return Hm(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function wH(a){const t={};if(Hm(a)){const{role:e}=a,s=e.match(SH);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(xH(e)){const r=PM[e];r&&(t.role=r)}}return t}function kM(a){const t={};if(Hm(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),OM(a)){const[e]=a.children;if(e){const s=kM(e);return Object.assign(Object.assign({},t),s)}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function EH(a){return a?Object.assign(Object.assign({},wH(a)),kM(a)):null}function NM({className:a,node:t}){const e=Z.useMemo(()=>EH(t),[t]),s=Z.useMemo(()=>!Hm(t)||OM(t)?null:t.children.map((r,l)=>j.jsx(NM,{node:r},l)),[t]);return j.jsx("span",Object.assign({className:a},e,{children:s}))}function Bm(){return Z.useContext(LM)}function TH(){const a=Bm();ne(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[s,r]=Fu(),{value:l,error:c}=s,{customTextRenderer:h,page:f}=a;function p(){l&&e&&e(l)}function m(){c&&(xi(!1,c.toString()),t&&t(c))}return Z.useEffect(function(){r({type:"RESET"})},[r,f]),Z.useEffect(function(){if(h||!f)return;const b=Xf(f.getStructTree()),x=b;return b.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>_l(x)},[h,f,r]),Z.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}p()}},[l]),l?j.jsx(NM,{className:"react-pdf__Page__structTree structTree",node:l}):null}const OT=AM;function _H(a){const t=Bm();ne(t);const e=Object.assign(Object.assign({},t),a),{_className:s,canvasBackground:r,devicePixelRatio:l=dH(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:m,rotate:v,scale:b}=e,{canvasRef:x}=a;ne(f);const E=Z.useRef(null);function C(){f&&h&&h(eA(f,b))}function P(A){pH(A)||(xi(!1,A.toString()),c&&c(A))}const D=Z.useMemo(()=>f.getViewport({scale:b*l,rotation:v}),[l,f,v,b]),H=Z.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);Z.useEffect(function(){if(!f)return;f.cleanup();const{current:S}=E;if(!S)return;S.width=D.width,S.height=D.height,S.style.width=`${Math.floor(H.width)}px`,S.style.height=`${Math.floor(H.height)}px`,S.style.visibility="hidden";const R={annotationMode:p?OT.ENABLE_FORMS:OT.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:D};r&&(R.background=r);const k=f.render(R),F=k;return k.promise.then(()=>{S.style.visibility="",C()}).catch(P),()=>_l(F)},[r,f,p,D,H]);const O=Z.useCallback(()=>{const{current:A}=E;A&&(A.width=0,A.height=0)},[]);return Z.useEffect(()=>O,[O]),j.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:DM(x,E),style:{display:"block",userSelect:"none"},children:m?j.jsx(TH,{}):null})}function CH(a){return"str"in a}function RH(){const a=Bm();ne(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:f,rotate:p,scale:m}=a;ne(c);const[v,b]=Fu(),{value:x,error:E}=v,C=Z.useRef(null);xi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function P(){x&&s&&s(x)}function D(){E&&(xi(!1,E.toString()),e&&e(E))}Z.useEffect(function(){b({type:"RESET"})},[c,b]),Z.useEffect(function(){if(!c)return;const F=Xf(c.getTextContent()),B=F;return F.promise.then(q=>{b({type:"RESOLVE",value:q})}).catch(q=>{b({type:"REJECT",error:q})}),()=>_l(B)},[c,b]),Z.useEffect(()=>{if(x!==void 0){if(x===!1){D();return}P()}},[x]);const H=Z.useCallback(()=>{l&&l()},[l]),O=Z.useCallback(k=>{xi(!1,k.toString()),r&&r(k)},[r]);function A(){const k=C.current;k&&k.classList.add("selecting")}function S(){const k=C.current;k&&k.classList.remove("selecting")}const R=Z.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return Z.useLayoutEffect(function(){if(!c||!x)return;const{current:F}=C;if(!F)return;F.innerHTML="";const B=c.streamTextContent({includeMarkedContent:!0}),q={container:F,textContentSource:B,viewport:R},Y=new SM(q),ct=Y;return Y.render().then(()=>{const ot=document.createElement("div");ot.className="endOfContent",F.append(ot);const lt=F.querySelectorAll('[role="presentation"]');if(t){let ft=0;x.items.forEach((Q,W)=>{if(!CH(Q))return;const tt=lt[ft];if(!tt)return;const wt=t(Object.assign({pageIndex:h,pageNumber:f,itemIndex:W},Q));tt.innerHTML=wt,ft+=Q.str&&Q.hasEOL?2:1})}H()}).catch(O),()=>_l(ct)},[t,O,H,c,h,f,x,R]),j.jsx("div",{className:Nm("react-pdf__Page__textContent","textLayer"),onMouseUp:S,onMouseDown:A,ref:C})}function MH(){const a=MM(),t=Bm();ne(t);const e=Object.assign(Object.assign({},a),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:v,rotate:b,scale:x=1}=e;ne(m),ne(p),ne(r);const[E,C]=Fu(),{value:P,error:D}=E,H=Z.useRef(null);xi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){P&&c&&c(P)}function A(){D&&(xi(!1,D.toString()),l&&l(D))}Z.useEffect(function(){C({type:"RESET"})},[C,p]),Z.useEffect(function(){if(!p)return;const B=Xf(p.getAnnotations()),q=B;return B.promise.then(Y=>{C({type:"RESOLVE",value:Y})}).catch(Y=>{C({type:"REJECT",error:Y})}),()=>{_l(q)}},[C,p]),Z.useEffect(()=>{if(P!==void 0){if(P===!1){A();return}O()}},[P]);function S(){f&&f()}function R(F){xi(!1,`${F}`),h&&h(F)}const k=Z.useMemo(()=>p.getViewport({scale:x,rotation:b}),[p,b,x]);return Z.useEffect(function(){if(!m||!p||!r||!P)return;const{current:B}=H;if(!B)return;const q=k.clone({dontFlip:!0}),Y={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:B,l10n:null,page:p,structTreeLayer:null,viewport:q},ct={annotations:P,annotationStorage:m.annotationStorage,div:B,imageResourcesPath:s,linkService:r,page:p,renderForms:v,viewport:q};B.innerHTML="";try{new bM(Y).render(ct),S()}catch(ot){R(ot)}return()=>{}},[P,s,r,p,m,v,k]),j.jsx("div",{className:Nm("react-pdf__Page__annotations","annotationLayer"),ref:H})}var DH=function(a,t){var e={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(e[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(a);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(a,s[r])&&(e[s[r]]=a[s[r]]);return e};const kT=1;function LH(a){const t=MM(),e=Object.assign(Object.assign({},t),a),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:f,customRenderer:p,customTextRenderer:m,devicePixelRatio:v,error:b="Failed to load the page.",height:x,inputRef:E,loading:C="Loading page…",noData:P="No page specified.",onGetAnnotationsError:D,onGetAnnotationsSuccess:H,onGetStructTreeError:O,onGetStructTreeSuccess:A,onGetTextError:S,onGetTextSuccess:R,onLoadError:k,onLoadSuccess:F,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:q,onRenderError:Y,onRenderSuccess:ct,onRenderTextLayerError:ot,onRenderTextLayerSuccess:lt,pageIndex:ft,pageNumber:Q,pdf:W,registerPage:tt,renderAnnotationLayer:wt=!0,renderForms:I=!1,renderMode:et="canvas",renderTextLayer:ut=!0,rotate:at,scale:st=kT,unregisterPage:Et,width:pt}=e,Tt=DH(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Lt,qt]=Fu(),{value:xt,error:hi}=Lt,Hs=Z.useRef(null);ne(W);const zt=yo(Q)?Q-1:ft??null,ce=Q??(yo(ft)?ft+1:null),_e=at??(xt?xt.rotate:null),ue=Z.useMemo(()=>{if(!xt)return null;let kn=1;const Nn=st??kT;if(pt||x){const Ol=xt.getViewport({scale:1,rotation:_e});pt?kn=pt/Ol.width:x&&(kn=x/Ol.height)}return Nn*kn},[x,xt,_e,st,pt]);Z.useEffect(function(){return()=>{yo(zt)&&r&&Et&&Et(zt)}},[r,W,zt,Et]);function rn(){if(F){if(!xt||!ue)return;F(eA(xt,ue))}if(r&&tt){if(!yo(zt)||!Hs.current)return;tt(zt,Hs.current)}}function on(){hi&&(xi(!1,hi.toString()),k&&k(hi))}Z.useEffect(function(){qt({type:"RESET"})},[qt,W,zt]),Z.useEffect(function(){if(!W||!ce)return;const Nn=Xf(W.getPage(ce)),Ol=Nn;return Nn.promise.then(kl=>{qt({type:"RESOLVE",value:kl})}).catch(kl=>{qt({type:"REJECT",error:kl})}),()=>_l(Ol)},[qt,W,ce]),Z.useEffect(()=>{if(xt!==void 0){if(xt===!1){on();return}rn()}},[xt,ue]);const ju=Z.useMemo(()=>xt&&yo(zt)&&ce&&yo(_e)&&yo(ue)?{_className:s,canvasBackground:l,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:D,onGetAnnotationsSuccess:H,onGetStructTreeError:O,onGetStructTreeSuccess:A,onGetTextError:S,onGetTextSuccess:R,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:q,onRenderError:Y,onRenderSuccess:ct,onRenderTextLayerError:ot,onRenderTextLayerSuccess:lt,page:xt,pageIndex:zt,pageNumber:ce,renderForms:I,renderTextLayer:ut,rotate:_e,scale:ue}:null,[s,l,m,v,D,H,O,A,S,R,B,q,Y,ct,ot,lt,xt,zt,ce,I,ut,_e,ue]),zu=Z.useMemo(()=>EM(Tt,()=>xt&&(ue?eA(xt,ue):void 0)),[Tt,xt,ue]),Ha=`${zt}@${ue}/${_e}`;function Im(){switch(et){case"custom":return ne(p),j.jsx(p,{},`${Ha}_custom`);case"none":return null;case"canvas":default:return j.jsx(_H,{canvasRef:c},`${Ha}_canvas`)}}function jm(){return ut?j.jsx(RH,{},`${Ha}_text`):null}function ds(){return wt?j.jsx(MH,{},`${Ha}_annotations`):null}function zm(){return j.jsxs(LM.Provider,{value:ju,children:[Im(),jm(),ds(),h]})}function Yf(){return ce?W===null||xt===void 0||xt===null?j.jsx(kc,{type:"loading",children:typeof C=="function"?C():C}):W===!1||xt===!1?j.jsx(kc,{type:"error",children:typeof b=="function"?b():b}):zm():j.jsx(kc,{type:"no-data",children:typeof P=="function"?P():P})}return j.jsx("div",Object.assign({className:Nm(s,f),"data-page-number":ce,ref:DM(E,Hs),style:{"--scale-factor":`${ue}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},zu,{children:Yf()}))}fH();WA.workerSrc="pdf.worker.mjs";const PH="/wedding/docs/invitation.pdf";WA.workerSrc=`//unpkg.com/pdfjs-dist@${wM}/build/pdf.worker.min.mjs`;const OH=cs.forwardRef((a,t)=>j.jsxs("div",{id:"invitation",className:"bg-white ",ref:t,children:[j.jsx("div",{children:a.children}),j.jsx("h3",{className:`${bt.ovoParagraph} ${bt.flexCenter} text-rusty-brown sm:pt-[12rem]`,children:"Click to view invitation"})]}));function kH(){const[a,t]=Z.useState();function e({numPages:s}){t(s)}return j.jsx("div",{children:j.jsxs("div",{className:"p-12 sm:py-9 flex flex-col gap-5 justify-center items-center bg-white text-white overflow-hidden ",children:[j.jsx(qr,{title:"Our Invitation",subtitle:"We can’t wait to celebrate with you!"}),j.jsx(QN,{width:400,height:570,children:[...Array(a).keys()].map(s=>j.jsx(OH,{number:s+1,children:j.jsx(AH,{file:PH,onLoadSuccess:e,children:j.jsx(LH,{pageNumber:s,width:400,renderAnnotationLayer:!1,renderTextLayer:!1})})},s))})]})})}const NH=()=>j.jsxs(Fe.section,{id:"details",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mx-auto p-6 bg-white rounded-2xl text-center sm:my-9 sm:mx-[15rem]",children:[j.jsx(Fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},children:j.jsx(qr,{title:"Wedding Details",subtitle:"A Day to Remember"})}),j.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:`${bt.ovoParagraph} text-rusty-brown mt-4`,children:"We can’t wait to celebrate with you! Here’s everything you need to know—from the ceremony to the reception—so you can relax, enjoy, and make unforgettable memories with us."}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 text-rusty-brown",children:[j.jsxs(Fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"p-4 border rounded-lg shadow-sm",children:[j.jsx("span",{className:`${bt.ovoParagraph} font-semibold`,children:"Church Venue:"}),j.jsx("p",{className:`${bt.ovoParagraph} tracking-wider pt-5`,children:"INVENCION DE LA STA. CRUZ PARISH ALITAGTAG, BATANGAS"}),j.jsx("div",{className:`${bt.flexCenter} p-4`,children:j.jsx("img",{src:"img/qrChurch.png",alt:"Church QR Code"})}),j.jsx("span",{className:`${bt.ovoParagraph} font-semibold mt-5`,children:"Reception Venue:"}),j.jsx("p",{className:`${bt.ovoParagraph} tracking-wider pt-5`,children:"VILLA SALOME, PINAGKURUSAN, ALITAGTAG BATANGAS"}),j.jsx("div",{className:`${bt.flexCenter} p-4`,children:j.jsx("img",{src:"img/qrReception.png",alt:"Reception QR Code"})})]}),j.jsxs(Fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"p-4 border rounded-lg shadow-sm",children:[j.jsx("span",{className:`${bt.ovoParagraph} font-semibold`,children:"Dress Code:"}),j.jsx("p",{className:`${bt.ovoParagraph} tracking-wider pt-5`,children:"We would love to see you in Barong Tagalog and Modern Filipiniana Inspired Attire."}),j.jsx("div",{className:`${bt.flexCenter} p-4`,children:j.jsx("img",{src:"img/dresscode.svg",alt:"Dress Code"})}),j.jsx("div",{className:`${bt.flexCenter} p-4`,children:j.jsx("img",{src:"img/colordress.svg",alt:"Color Dress Code"})})]})]})]}),FH=()=>j.jsxs("section",{className:`${jT.section} text-rusty-brown bg-skin-white relative bg-cover bg-center`,style:{backgroundImage:"url(img/bg2.svg)"},children:[j.jsx("div",{className:`${bt.flexCenter} flex-col pt-9 px-9 relative z-10`,children:j.jsx(qr,{title:"Traditions",subtitle:"Honoring family, prosperity, and unity through the wedding traditions of Batangas"})}),j.jsxs("div",{className:"flex flex-wrap sm:flex-cols-3 gap-4 p-9 sm:mx-[5rem] sm:py-9 relative z-10",children:[j.jsxs("div",{className:`${bt.flexCenter} ${bt.flexCol} flex-1 gap-5`,children:[j.jsx("img",{src:"img/dulot.svg",alt:""}),j.jsx("h1",{className:`${bt.scriptHeading3} font-bold tracking-wider`,children:"Dulot"}),j.jsx("p",{className:`${bt.ovoParagraph} px-4 mx-5 text-center`,children:"A tradition where a couple gives gifts to their godparents, or ninongs and ninangs, as a sign of gratitude and respect"})]}),j.jsxs("div",{className:`${bt.flexCenter} ${bt.flexCol} flex-1 gap-5`,children:[j.jsx("img",{src:"img/kamaybigas.svg",alt:""}),j.jsx("h1",{className:`${bt.scriptHeading3} font-bold tracking-wider`,children:"Kalamay at Bigas"}),j.jsx("p",{className:`${bt.ovoParagraph} px-4 mx-5 text-center`,children:"A tradition where rice is poured over the couple’s hands, symbolizing hard work, unity, and prosperity in their married life."})]}),j.jsxs("div",{className:`${bt.flexCenter} ${bt.flexCol} flex-1 gap-5`,children:[j.jsx("img",{src:"img/sabitan.svg",alt:""}),j.jsx("h1",{className:`${bt.scriptHeading3} font-bold tracking-wider`,children:"Sabitan"}),j.jsx("p",{className:`${bt.ovoParagraph} px-4 mx-5 text-center`,children:"A tradition custom where guests pin money on the bride and groom as they dance, symbolizing blessings and financial support."})]})]})]});var FM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NT=cs.createContext&&cs.createContext(FM),HH=["attr","size","title"];function BH(a,t){if(a==null)return{};var e=IH(a,t),s,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(e[s]=a[s])}return e}function IH(a,t){if(a==null)return{};var e={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(t.indexOf(s)>=0)continue;e[s]=a[s]}return e}function nm(){return nm=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s])}return a},nm.apply(this,arguments)}function FT(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),e.push.apply(e,s)}return e}function am(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(e),!0).forEach(function(s){jH(a,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):FT(Object(e)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(e,s))})}return a}function jH(a,t,e){return t=zH(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function zH(a){var t=VH(a,"string");return typeof t=="symbol"?t:t+""}function VH(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var s=e.call(a,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function HM(a){return a&&a.map((t,e)=>cs.createElement(t.tag,am({key:e},t.attr),HM(t.child)))}function Iu(a){return t=>cs.createElement(UH,nm({attr:am({},a.attr)},t),HM(a.child))}function UH(a){var t=e=>{var{attr:s,size:r,title:l}=a,c=BH(a,HH),h=r||e.size||"1em",f;return e.className&&(f=e.className),a.className&&(f=(f?f+" ":"")+a.className),cs.createElement("svg",nm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,c,{className:f,style:am(am({color:a.color||e.color},e.style),a.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&cs.createElement("title",null,l),a.children)};return NT!==void 0?cs.createElement(NT.Consumer,null,e=>t(e)):t(FM)}function GH(a){return Iu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(a)}function qH(a){return Iu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z"},child:[]}]})(a)}function XH(a){return Iu({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M639.4 433.6c-8.4-20.4-31.8-30.1-52.2-21.6l-22.1 9.2-38.7-101.9c47.9-35 64.8-100.3 34.5-152.8L474.3 16c-8-13.9-25.1-19.7-40-13.6L320 49.8 205.7 2.4c-14.9-6.2-32-.3-40 13.6L79.1 166.5C48.9 219 65.7 284.3 113.6 319.2L74.9 421.1l-22.1-9.2c-20.4-8.5-43.7 1.2-52.2 21.6-1.7 4.1.2 8.8 4.3 10.5l162.3 67.4c4.1 1.7 8.7-.2 10.4-4.3 8.4-20.4-1.2-43.8-21.6-52.3l-22.1-9.2L173.3 342c4.4.5 8.8 1.3 13.1 1.3 51.7 0 99.4-33.1 113.4-85.3l20.2-75.4 20.2 75.4c14 52.2 61.7 85.3 113.4 85.3 4.3 0 8.7-.8 13.1-1.3L506 445.6l-22.1 9.2c-20.4 8.5-30.1 31.9-21.6 52.3 1.7 4.1 6.4 6 10.4 4.3L635.1 444c4-1.7 6-6.3 4.3-10.4zM275.9 162.1l-112.1-46.5 36.5-63.4 94.5 39.2-18.9 70.7zm88.2 0l-18.9-70.7 94.5-39.2 36.5 63.4-112.1 46.5z"},child:[]}]})(a)}function YH(a){return Iu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(a)}function $H(a){return Iu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 64C110.06 64 0 125.91 0 208v98.13C0 384.48 114.62 448 256 448s256-63.52 256-141.87V208c0-82.09-110.06-144-256-144zm0 64c106.04 0 192 35.82 192 80 0 9.26-3.97 18.12-10.91 26.39C392.15 208.21 328.23 192 256 192s-136.15 16.21-181.09 42.39C67.97 226.12 64 217.26 64 208c0-44.18 85.96-80 192-80zM120.43 264.64C155.04 249.93 201.64 240 256 240s100.96 9.93 135.57 24.64C356.84 279.07 308.93 288 256 288s-100.84-8.93-135.57-23.36z"},child:[]}]})(a)}function WH(a){return Iu({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(a)}const KH=[{time:"9:30 AM",event:"Ceremony",icon:j.jsx($H,{})},{time:"11:00 PM",event:"Photos Session",icon:j.jsx(qH,{})},{time:"11:30 PM",event:"Short Snack",icon:j.jsx(XH,{})},{time:"12:00 NN",event:"Start Program",icon:j.jsx(YH,{})},{time:"1:00 PM",event:"Lunch",icon:j.jsx(WH,{})},{time:"3:00 PM",event:"Socials",icon:j.jsx(GH,{})}],QH={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,staggerChildren:.3}}},ZH={hidden:{opacity:0,x:-20,scale:.9},visible:{opacity:1,x:0,scale:1,transition:{duration:.5}}},JH=()=>j.jsxs(Fe.div,{id:"timeline",initial:"hidden",animate:"visible",className:"flex flex-col items-center bg-[#f8f5f0]  py-10 px-6",children:[j.jsx(qr,{title:"Wedding Timeline",subtitle:"Follow along as we celebrate our big day!"}),j.jsx(Fe.div,{variants:QH,className:"my-9  px-9 w-full max-w-5xl font-ovo text-rusty-300",children:j.jsx("div",{className:"relative flex flex-col lg:flex-row lg:justify-between border-l-2 lg:border-l-0 lg:border-t-2 border-rusty-300 pl-6 lg:pl-0 lg:pt-6",children:KH.map((a,t)=>j.jsxs(Fe.div,{variants:ZH,className:"mb-6 lg:mb-0 flex items-center gap-4 lg:flex-col lg:text-center lg:relative",children:[j.jsx(Fe.div,{className:"absolute -left-5 lg:-top-11 lg:left-1/2 transform lg:-translate-x-1/2 bg-white text-rusty-300 p-2 rounded-full border border-gray-300",whileHover:{scale:1.2},children:a.icon}),j.jsxs("div",{className:"pl-3 lg:pl-0",children:[j.jsx("p",{className:"text-base font-semibold",children:a.time}),j.jsx("p",{className:"text-2xl text-rusty-brown font-bold",children:a.event})]})]},t))})})]}),tB="/wedding/assets/g1-natBf8x6.svg",eB="/wedding/assets/g2-BAhQlM8D.svg",iB="/wedding/assets/g3-UPosmeuI.svg",sB="/wedding/assets/g4-CYUIrehg.svg",nB="/wedding/assets/g5-BXyHghoP.svg",aB="/wedding/assets/g6-cNNZR-uW.svg",rB="/wedding/assets/g7-j69d1Au7.svg",oB="/wedding/assets/g8-DMC9zwU5.svg",lB=()=>{const[a,t]=Z.useState(!1);Z.useEffect(()=>{const s=()=>{const r=document.getElementById("gallery-section");if(r){const l=r.getBoundingClientRect();l.top<window.innerHeight*.75&&l.bottom>0?t(!0):t(!1)}};return document.documentElement.style.scrollBehavior="smooth",window.addEventListener("scroll",s),s(),()=>window.removeEventListener("scroll",s)},[]);const e=[{src:tB,col:"col-span-2",row:"row-span-1"},{src:eB,col:"col-span-2",row:"row-span-2"},{src:iB,col:"col-span-2",row:"row-span-1"},{src:sB,col:"col-span-2",row:"row-span-2"},{src:nB,col:"col-span-2",row:"row-span-2"},{src:aB,col:"col-span-2",row:"row-span-2"},{src:rB,col:"col-span-2",row:"row-span-1"},{src:oB,col:"col-span-2",row:"row-span-1"}];return j.jsxs("section",{id:"gallery-section",className:"py-10 px-5 sm:px-20",children:[j.jsx(qr,{title:"Our Feature Photos",subtitle:"A glimpse into our love story"}),j.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-8 gap-4",children:e.map((s,r)=>j.jsx(Fe.div,{initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,ease:"easeInOut",delay:r*.1},className:`overflow-hidden rounded-lg ${s.col} ${s.row}`,children:j.jsx(Fe.img,{src:s.src,alt:"",className:"w-full h-full object-cover rounded-lg",whileHover:{scale:1.05},transition:{duration:.3}})},r))})]})},cB="/wedding/img/bg3.svg",uB="/wedding/img/qrLive.png",hB="/wedding/img/qrShare.png",dB=()=>j.jsx("section",{className:"relative w-full sm:h-screen bg-cover bg-center flex flex-col items-center py-10 px-4",style:{backgroundImage:`url(${cB})`},children:j.jsxs("div",{className:"sm:pr-[25rem] sm:pt-[3rem]",children:[j.jsx(Fe.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"w-full text-center mb-10",children:j.jsx(qr,{title:"Share the Love:",subtitle:"Watch & Capture the Moments"})}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 w-full max-w-5xl",children:[j.jsxs(Fe.div,{id:"share",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},className:"flex flex-col sm:flex-row items-center text-center sm:text-left gap-5",children:[j.jsx(Fe.img,{src:uB,alt:"Facebook Live QR",className:"w-40 sm:w-48 md:w-56",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.5}}),j.jsxs("div",{className:"flex flex-col items-center sm:items-start text-rusty-brown",children:[j.jsx("h1",{className:`${bt.ovoParagraph} font-bold text-lg sm:text-xl md:text-2xl`,children:"Join Us Live!"}),j.jsx("h2",{className:`${bt.ovoParagraph} text-sm sm:text-base md:text-lg w-full sm:w-[18rem] tracking-wider`,children:"Can’t be there in person? Watch our wedding via Facebook Live and celebrate with us! 💕🎥✨"})]})]}),j.jsxs(Fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.6},className:"flex flex-col sm:flex-row items-center text-center sm:text-left gap-5",children:[j.jsx(Fe.img,{src:hB,alt:"Share Moments QR",className:"w-40 sm:w-48 md:w-56",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.8}}),j.jsxs("div",{className:"flex flex-col items-center sm:items-start text-rusty-brown",children:[j.jsx("h1",{className:`${bt.ovoParagraph} font-bold text-lg sm:text-xl md:text-2xl`,children:"Share Your Moments!"}),j.jsxs("h2",{className:`${bt.ovoParagraph} text-sm sm:text-base md:text-lg w-full sm:w-[18rem] tracking-wider`,children:["Share your photos with ",j.jsx("span",{className:"font-bold",children:"#ALMAmakeitrealwithJD"})," or upload them to our Memory Box! 💕📸✨"]})]})]})]})]})}),fB=()=>j.jsx("footer",{id:"footer",className:"bg-rusty-brown text-white text-center py-6 px-4",children:j.jsxs("div",{className:"max-w-4xl mx-auto",children:[j.jsx("h2",{className:`${bt.ovoHeading3} text-xl font-bold tracking-wide`,children:"JD & ALMA"}),j.jsx("p",{className:`${bt.ovoParagraph} text-sm opacity-80 mt-1`,children:"Bringing moments to life"}),j.jsx("hr",{className:"border-skin-white700 my-4"}),j.jsx("p",{className:"text-xs opacity-70 font-ovo",children:"© 2025 JD and ALMA. All rights reserved."})]})}),pB=()=>j.jsxs("div",{children:[j.jsx(UN,{}),j.jsx(pL,{}),j.jsx(XN,{}),j.jsx(GN,{}),j.jsx(qN,{}),j.jsx(NH,{}),j.jsx(FH,{}),j.jsx(JH,{}),j.jsx(kH,{}),j.jsx(lB,{}),j.jsx(dB,{}),j.jsx(fB,{})]});fL.createRoot(document.getElementById("root")).render(j.jsx(Z.StrictMode,{children:j.jsx(pB,{})}));
